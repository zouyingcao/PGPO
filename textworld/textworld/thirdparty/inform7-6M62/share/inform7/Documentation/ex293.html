<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>18.25. Listing nondescript items of something</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง18.25. Listing nondescript items of something</p>
<p><span class="boldface">1. When it happens.</span> This activity prints up the also-ran paragraph at the end of a room description. These are nondescript items because they don't merit paragraphs of their own: if, as sometimes happens, there are none in the room, then no such paragraph is printed and this activity does not happen. (So to add a further paragraph to a room description, a simpler &quot;after looking&quot; rule should be used, not an &quot;after listing nondescript items&quot; rule.)</p>
<p><span class="boldface">2. The default behaviour.</span> The paragraph ordinarily reads as &quot;You can also see a cask and a clock.&quot; or similar. Before the activity begins, those objects which are nondescript - in this case the cask and the clock - are given the property of being &quot;marked for listing&quot;.</p>
<p>If it turns out that nothing is marked for listing, because of before rules like the one in the example below, then nothing is printed and <span class="boldface">the activity is abandoned</span>, so that the rules for and after are never reached.</p>
<p><span class="boldface">3. Examples.</span> (a) Promoting something out of the nondescript category, by unmarking it.</p>
<!-- START CODE "c1515" -->
<a id="c1515"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Before listing nondescript items:[=0x000A=][=0x0009=]if the watch is marked for listing:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The watch catches your eye.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now the watch is not marked for listing.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;if the watch is marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The watch catches your eye.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the watch is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>(b) Changing the normal phrasing of the paragraph. Note that we can also change the listing style; the one below is the default.</p>
<!-- START CODE "c1516" -->
<a id="c1516"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Rule for listing nondescript items of the Distressingly Messy Room:[=0x000A=][=0x0009=]say [=0x0022=]Strewn carelessly on the floor[=0x0022=];[=0x000A=][=0x0009=]list the contents of the Distressingly Messy Room, as a sentence,[=0x000A=][=0x0009=][=0x0009=]tersely, listing marked items only, prefacing with is/are,[=0x000A=][=0x0009=][=0x0009=]including contents and giving brief inventory information;[=0x000A=][=0x0009=]say [=0x0022=].[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> Rule for listing nondescript items of the Distressingly Messy Room:
<br />&#160;&#160;&#160;&#160;say &quot;Strewn carelessly on the floor&quot;;
<br />&#160;&#160;&#160;&#160;list the contents of the Distressingly Messy Room, as a sentence,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tersely, listing marked items only, prefacing with is/are,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;including contents and giving brief inventory information;
<br />&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_18_1.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_24.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_18_24.html" class="standardlink">Back to ยง18.24. Writing a paragraph about</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_26.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_18_26.html" class="standardlink">Onward to ยง18.26. Printing the locale description of something</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e116"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex116.html#e116" class="eglink"><b>355</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex116.html#e116" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rip Van Winkle</span></b></a><br />A simple way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex116.html#e116"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e156"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex156.html#e156" class="eglink"><b>356</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex156.html#e156" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Eye of the Idol</span></b></a><br />A systematic way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description, and to control whether supporters list their contents or not.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex156.html#e156"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e293"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_18_25.html#e293" class="eglink"><b>357</b></a></div>
<div class="egpanel" id="example293">
<p>Often it is best to have an entire paragraph about the characters present in a room, but suppose we're narrating a large party with a lot of people moving around. In that case, it might be better to list everyone together, then add a few salient details by way of follow-up, like this:</p>
<!-- START CODE "c15511" -->
<a id="c15511"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Happy Hour[=0x0022=][=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]say [=0x0022=]You can see [a list of people who are marked for listing] here. [=0x0022=];[=0x000A=][=0x0009=]repeat with named party running through people:[=0x000A=][=0x0009=][=0x0009=]now the named party is not marked for listing;[=0x000A=][=0x0009=]let count be the number of visible other people who are carrying something;[=0x000A=][=0x0009=]if count is 0:[=0x000A=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]let index be count;[=0x000A=][=0x0009=]repeat with holder running through visible other people who are carrying something:[=0x000A=][=0x0009=][=0x0009=]if index is count, say [=0x0022=][The holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][the holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] has [a list of things carried by the holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]decrement index;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count.[=0x000A=][=0x000A=][The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.][=0x000A=][=0x000A=]To make delimiter (index - a number) of (count - a number), continuing or halting:[=0x000A=][=0x0009=]if index is 0:[=0x000A=][=0x0009=][=0x0009=]if continuing, say [=0x0022=]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=].[=0x0022=];[=0x000A=][=0x0009=]otherwise if index is 1:[=0x000A=][=0x0009=][=0x0009=]if count is 2, say [=0x0022=] and [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][optional comma] and [=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=], [=0x0022=].[=0x000A=][=0x000A=]To say optional comma:[=0x000A=][=0x0009=]if the serial comma option is active:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=],[=0x0022=].[=0x000A=][=0x000A=][And now the scene:][=0x000A=][=0x000A=]The Banquet Hall is a room. [=0x0022=]A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE![=0x0022=][=0x000A=][=0x000A=]Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.[=0x000A=][=0x000A=]Definition: a person is other if it is not the player.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]let wanderer be a random other person;[=0x000A=][=0x0009=]let place be the holder of the wanderer;[=0x000A=][=0x0009=]let next place be a random room adjacent to the place;[=0x000A=][=0x0009=]let the way be the best route from the place to the next place;[=0x000A=][=0x0009=]try the wanderer going the way.[=0x000A=][=0x000A=]The Kitchen is west of the Banquet Hall. [=0x0022=]Dominated by a pile of dirty plates which you imagine it will be someone[=0x0027=]s privilege to wash, later.[=0x0022=] Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.[=0x000A=][=0x000A=]Test me with [=0x0022=]z / look / g / g / g [=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Happy Hour&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15512" -->
<a id="c15512"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;say &quot;You can see [a list of people who are marked for listing] here. &quot;;
<br />&#160;&#160;&#160;&#160;repeat with named party running through people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the named party is not marked for listing;
<br />&#160;&#160;&#160;&#160;let count be the number of visible other people who are carrying something;
<br />&#160;&#160;&#160;&#160;if count is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;let index be count;
<br />&#160;&#160;&#160;&#160;repeat with holder running through visible other people who are carrying something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if index is count, say &quot;[The holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; has [a list of things carried by the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement index;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make delimiter index of count.
</p></blockquote>
<!-- END CODE -->
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.</p>
<!-- START CODE "c15513" -->
<a id="c15513"></a><blockquote class="code"><p class="quoted">
To make delimiter (index - a number) of (count - a number), continuing or halting:
<br />&#160;&#160;&#160;&#160;if index is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if continuing, say &quot;. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if index is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if count is 2, say &quot; and &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[optional comma] and &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;, &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15514" -->
<a id="c15514"></a><blockquote class="code"><p class="quoted">
To say optional comma:
<br />&#160;&#160;&#160;&#160;if the serial comma option is active:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;,&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And now the scene:</p>
<!-- START CODE "c15515" -->
<a id="c15515"></a><blockquote class="code"><p class="quoted">
The Banquet Hall is a room. &quot;A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15516" -->
<a id="c15516"></a><blockquote class="code"><p class="quoted">
Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15517" -->
<a id="c15517"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15518" -->
<a id="c15518"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let wanderer be a random other person;
<br />&#160;&#160;&#160;&#160;let place be the holder of the wanderer;
<br />&#160;&#160;&#160;&#160;let next place be a random room adjacent to the place;
<br />&#160;&#160;&#160;&#160;let the way be the best route from the place to the next place;
<br />&#160;&#160;&#160;&#160;try the wanderer going the way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15519" -->
<a id="c15519"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Banquet Hall. &quot;Dominated by a pile of dirty plates which you imagine it will be someone's privilege to wash, later.&quot; Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15520" -->
<a id="c15520"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / look / g / g / g &quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18_25.html#e293" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Happy Hour</span></b></a><br />Listing visible characters as a group, then giving some followup details in the same paragraph about specific ones.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example293">
<p>Often it is best to have an entire paragraph about the characters present in a room, but suppose we're narrating a large party with a lot of people moving around. In that case, it might be better to list everyone together, then add a few salient details by way of follow-up, like this:</p>
<!-- START CODE "c15521" -->
<a id="c15521"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Happy Hour[=0x0022=][=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]say [=0x0022=]You can see [a list of people who are marked for listing] here. [=0x0022=];[=0x000A=][=0x0009=]repeat with named party running through people:[=0x000A=][=0x0009=][=0x0009=]now the named party is not marked for listing;[=0x000A=][=0x0009=]let count be the number of visible other people who are carrying something;[=0x000A=][=0x0009=]if count is 0:[=0x000A=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]let index be count;[=0x000A=][=0x0009=]repeat with holder running through visible other people who are carrying something:[=0x000A=][=0x0009=][=0x0009=]if index is count, say [=0x0022=][The holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][the holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] has [a list of things carried by the holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]decrement index;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count.[=0x000A=][=0x000A=][The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.][=0x000A=][=0x000A=]To make delimiter (index - a number) of (count - a number), continuing or halting:[=0x000A=][=0x0009=]if index is 0:[=0x000A=][=0x0009=][=0x0009=]if continuing, say [=0x0022=]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=].[=0x0022=];[=0x000A=][=0x0009=]otherwise if index is 1:[=0x000A=][=0x0009=][=0x0009=]if count is 2, say [=0x0022=] and [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][optional comma] and [=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=], [=0x0022=].[=0x000A=][=0x000A=]To say optional comma:[=0x000A=][=0x0009=]if the serial comma option is active:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=],[=0x0022=].[=0x000A=][=0x000A=][And now the scene:][=0x000A=][=0x000A=]The Banquet Hall is a room. [=0x0022=]A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE![=0x0022=][=0x000A=][=0x000A=]Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.[=0x000A=][=0x000A=]Definition: a person is other if it is not the player.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]let wanderer be a random other person;[=0x000A=][=0x0009=]let place be the holder of the wanderer;[=0x000A=][=0x0009=]let next place be a random room adjacent to the place;[=0x000A=][=0x0009=]let the way be the best route from the place to the next place;[=0x000A=][=0x0009=]try the wanderer going the way.[=0x000A=][=0x000A=]The Kitchen is west of the Banquet Hall. [=0x0022=]Dominated by a pile of dirty plates which you imagine it will be someone[=0x0027=]s privilege to wash, later.[=0x0022=] Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.[=0x000A=][=0x000A=]Test me with [=0x0022=]z / look / g / g / g [=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Happy Hour&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15522" -->
<a id="c15522"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;say &quot;You can see [a list of people who are marked for listing] here. &quot;;
<br />&#160;&#160;&#160;&#160;repeat with named party running through people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the named party is not marked for listing;
<br />&#160;&#160;&#160;&#160;let count be the number of visible other people who are carrying something;
<br />&#160;&#160;&#160;&#160;if count is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;let index be count;
<br />&#160;&#160;&#160;&#160;repeat with holder running through visible other people who are carrying something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if index is count, say &quot;[The holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; has [a list of things carried by the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement index;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make delimiter index of count.
</p></blockquote>
<!-- END CODE -->
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.</p>
<!-- START CODE "c15523" -->
<a id="c15523"></a><blockquote class="code"><p class="quoted">
To make delimiter (index - a number) of (count - a number), continuing or halting:
<br />&#160;&#160;&#160;&#160;if index is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if continuing, say &quot;. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if index is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if count is 2, say &quot; and &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[optional comma] and &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;, &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15524" -->
<a id="c15524"></a><blockquote class="code"><p class="quoted">
To say optional comma:
<br />&#160;&#160;&#160;&#160;if the serial comma option is active:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;,&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And now the scene:</p>
<!-- START CODE "c15525" -->
<a id="c15525"></a><blockquote class="code"><p class="quoted">
The Banquet Hall is a room. &quot;A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15526" -->
<a id="c15526"></a><blockquote class="code"><p class="quoted">
Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15527" -->
<a id="c15527"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15528" -->
<a id="c15528"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let wanderer be a random other person;
<br />&#160;&#160;&#160;&#160;let place be the holder of the wanderer;
<br />&#160;&#160;&#160;&#160;let next place be a random room adjacent to the place;
<br />&#160;&#160;&#160;&#160;let the way be the best route from the place to the next place;
<br />&#160;&#160;&#160;&#160;try the wanderer going the way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15529" -->
<a id="c15529"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Banquet Hall. &quot;Dominated by a pile of dirty plates which you imagine it will be someone's privilege to wash, later.&quot; Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15530" -->
<a id="c15530"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / look / g / g / g &quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex293.html#e293"><i>RB</i></a></div>
<div class="egpanel" id="example293">
<p>Often it is best to have an entire paragraph about the characters present in a room, but suppose we're narrating a large party with a lot of people moving around. In that case, it might be better to list everyone together, then add a few salient details by way of follow-up, like this:</p>
<!-- START CODE "c15531" -->
<a id="c15531"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Happy Hour[=0x0022=][=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]say [=0x0022=]You can see [a list of people who are marked for listing] here. [=0x0022=];[=0x000A=][=0x0009=]repeat with named party running through people:[=0x000A=][=0x0009=][=0x0009=]now the named party is not marked for listing;[=0x000A=][=0x0009=]let count be the number of visible other people who are carrying something;[=0x000A=][=0x0009=]if count is 0:[=0x000A=][=0x0009=][=0x0009=]say paragraph break;[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]let index be count;[=0x000A=][=0x0009=]repeat with holder running through visible other people who are carrying something:[=0x000A=][=0x0009=][=0x0009=]if index is count, say [=0x0022=][The holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][the holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] has [a list of things carried by the holder][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]decrement index;[=0x000A=][=0x0009=][=0x0009=]make delimiter index of count.[=0x000A=][=0x000A=][The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.][=0x000A=][=0x000A=]To make delimiter (index - a number) of (count - a number), continuing or halting:[=0x000A=][=0x0009=]if index is 0:[=0x000A=][=0x0009=][=0x0009=]if continuing, say [=0x0022=]. [run paragraph on][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=].[=0x0022=];[=0x000A=][=0x0009=]otherwise if index is 1:[=0x000A=][=0x0009=][=0x0009=]if count is 2, say [=0x0022=] and [=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=][optional comma] and [=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=], [=0x0022=].[=0x000A=][=0x000A=]To say optional comma:[=0x000A=][=0x0009=]if the serial comma option is active:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=],[=0x0022=].[=0x000A=][=0x000A=][And now the scene:][=0x000A=][=0x000A=]The Banquet Hall is a room. [=0x0022=]A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE![=0x0022=][=0x000A=][=0x000A=]Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.[=0x000A=][=0x000A=]Definition: a person is other if it is not the player.[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]let wanderer be a random other person;[=0x000A=][=0x0009=]let place be the holder of the wanderer;[=0x000A=][=0x0009=]let next place be a random room adjacent to the place;[=0x000A=][=0x0009=]let the way be the best route from the place to the next place;[=0x000A=][=0x0009=]try the wanderer going the way.[=0x000A=][=0x000A=]The Kitchen is west of the Banquet Hall. [=0x0022=]Dominated by a pile of dirty plates which you imagine it will be someone[=0x0027=]s privilege to wash, later.[=0x0022=] Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.[=0x000A=][=0x000A=]Test me with [=0x0022=]z / look / g / g / g [=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Happy Hour&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15532" -->
<a id="c15532"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;say &quot;You can see [a list of people who are marked for listing] here. &quot;;
<br />&#160;&#160;&#160;&#160;repeat with named party running through people:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the named party is not marked for listing;
<br />&#160;&#160;&#160;&#160;let count be the number of visible other people who are carrying something;
<br />&#160;&#160;&#160;&#160;if count is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say paragraph break;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;let index be count;
<br />&#160;&#160;&#160;&#160;repeat with holder running through visible other people who are carrying something:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if index is count, say &quot;[The holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; has [a list of things carried by the holder]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement index;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make delimiter index of count.
</p></blockquote>
<!-- END CODE -->
<p>The next part could be simpler, but for rigor we will write it in such a way that it will work whether or not the serial comma is in use. This requires some extra work.</p>
<!-- START CODE "c15533" -->
<a id="c15533"></a><blockquote class="code"><p class="quoted">
To make delimiter (index - a number) of (count - a number), continuing or halting:
<br />&#160;&#160;&#160;&#160;if index is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if continuing, say &quot;. [run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if index is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if count is 2, say &quot; and &quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;[optional comma] and &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;, &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15534" -->
<a id="c15534"></a><blockquote class="code"><p class="quoted">
To say optional comma:
<br />&#160;&#160;&#160;&#160;if the serial comma option is active:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;,&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And now the scene:</p>
<!-- START CODE "c15535" -->
<a id="c15535"></a><blockquote class="code"><p class="quoted">
The Banquet Hall is a room. &quot;A large cheery banner over the door (which, incidentally, vanishes when you approach it) reads: HELLO NEW INDUCTEES! WELCOME TO THE AFTERLIFE!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15536" -->
<a id="c15536"></a><blockquote class="code"><p class="quoted">
Fred, George, and Larry are men in the Banquet Hall. Fred carries a dry martini. Larry carries a cream puff. Matilda and Louise are women in the Banquet Hall.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15537" -->
<a id="c15537"></a><blockquote class="code"><p class="quoted">
Definition: a person is other if it is not the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15538" -->
<a id="c15538"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let wanderer be a random other person;
<br />&#160;&#160;&#160;&#160;let place be the holder of the wanderer;
<br />&#160;&#160;&#160;&#160;let next place be a random room adjacent to the place;
<br />&#160;&#160;&#160;&#160;let the way be the best route from the place to the next place;
<br />&#160;&#160;&#160;&#160;try the wanderer going the way.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15539" -->
<a id="c15539"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Banquet Hall. &quot;Dominated by a pile of dirty plates which you imagine it will be someone's privilege to wash, later.&quot; Vanessa is a woman in the Kitchen. Vanessa carries a tray. On the tray is a salmon roll. The roll is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15540" -->
<a id="c15540"></a><blockquote class="code"><p class="quoted">
Test me with &quot;z / look / g / g / g &quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
