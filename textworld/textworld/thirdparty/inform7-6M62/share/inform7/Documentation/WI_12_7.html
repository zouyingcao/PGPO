<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>12.7. New actions</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง12.7. New actions</p>
<p>It is not often that we need to create new actions, but a large work of interactive fiction with no novelty actions is a flavourless dish. Here we shall create an action for photographing things.</p>
<!-- START CODE "c860" -->
<a id="c860"></a><blockquote class="code"><p class="quoted">
The Ruins is a room. &quot;You find this clearing in the rainforest oddly familiar.&quot; The camera is in the Ruins. &quot;Your elephantine camera hangs from a convenient branch.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c861" -->
<a id="c861"></a><blockquote class="code"><p class="quoted">
Photographing is an action applying to one visible thing and requiring light.
</p></blockquote>
<!-- END CODE -->
<p>In theory that text is already sufficient to make the new action, but what we have so far is rudimentary to say the least. The two qualifications give Inform the useful information that we cannot photograph in the dark, and that we need to be photographing something - not, as in the case of waiting or taking inventory, acting without reference to any particular thing external to ourselves.</p>
<p>The word &quot;visible&quot; here tells Inform that we do not need to be able to touch the thing in question: a line of sight is good enough. These two stipulations were necessary because the default arrangement is that any object must be in touching range, and that most actions can be performed in darkness. (Also, note that if you invent an action which needs to apply to directions like &quot;north&quot; or &quot;south&quot;, you need to make this apply to visible things, because the object used inside Inform to represent the idea of &quot;north&quot; can be seen but not touched. So for understanding purposes, &quot;visible thing&quot; is understood as meaning any visible thing or direction: it's more general than &quot;thing&quot;, not more specific.)</p>
<p>Occasionally, when writing general rules about actions, it can be useful to find out what the current action's requirements are: the following conditions do what they suggest.</p>
<!-- START PHRASE "defn144" -->
<div class="definition"><a id="defn144"></a><p class="defnprototype"><b>if action requires a touchable noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirestouch -->

<p>This condition is true if the action being processed is one whose (first) noun is an object which needs to be touchable by the actor. For example, it's true for &quot;taking&quot;, but false for &quot;examining&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn145" -->
<div class="definition"><a id="defn145"></a><p class="defnprototype"><b>if action requires a touchable second noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirestouch2 -->

<p>This condition is true if the action being processed is one whose second noun is an object which needs to be touchable by the actor. For example, it's true for &quot;putting the brick in the sack&quot;, but false for &quot;throwing the brick at the window&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn146" -->
<div class="definition"><a id="defn146"></a><p class="defnprototype"><b>if action requires a carried noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirescarried -->

<p>This condition is true if the action being processed is one whose (first) noun is an object which needs to be carried by the actor. For example, it's true for &quot;dropping&quot;, but false for &quot;taking&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn147" -->
<div class="definition"><a id="defn147"></a><p class="defnprototype"><b>if action requires a carried second noun:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requirescarried2 -->

<p>This condition is true if the action being processed is one whose second noun is an object which needs to be carried by the actor.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn148" -->
<div class="definition"><a id="defn148"></a><p class="defnprototype"><b>if action requires light:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_requireslight -->

<p>This condition is true if the action being processed is one which can only be performed if the actor has light to see by. For example, it's true for &quot;examining&quot;, but false for &quot;dropping&quot;.</p>

<!-- end definition -->
</div>

<p>As further examples, here we create &quot;blinking&quot; and &quot;scraping X with Y&quot;. Note the use of &quot;it&quot; to indicate that the name of an object should go here.</p>
<!-- START CODE "c862" -->
<a id="c862"></a><blockquote class="code"><p class="quoted">
Blinking is an action applying to nothing. Scraping it with is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<p>The photographing action now exists, but with two provisos: (a) it never happens, because Inform does not know what commands by the player should cause it, and (b) even if it were to happen, nothing would follow, because Inform does not know what to do. (There are no check, carry out or report rules yet.)</p>
<p>The first problem is easily overcome:</p>
<!-- START CODE "c863" -->
<a id="c863"></a><blockquote class="code"><p class="quoted">
Understand &quot;photograph [something]&quot; as photographing.
</p></blockquote>
<!-- END CODE -->
<p>We will return to the whole subject of parsing, as this process of understanding the player's commands is called, later. But this gives the gist of it.</p>
<p class="crossreference"><a href="WI_17_1.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Understand</b></a><i> for the full story</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_12_1.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12_6.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_12_6.html" class="standardlink">Back to ยง12.6. Spontaneous actions by other people</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12_8.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_12_8.html" class="standardlink">Onward to ยง12.8. Irregular English verbs</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e221"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex221.html#e221" class="eglink"><b>191</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex221.html#e221" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Red Cross</span></b></a><br />A DIAGNOSE command which allows the player to check on the health of someone.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex221.html#e221"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e8"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex8.html#e8" class="eglink"><b>192</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex8.html#e8" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frizz</span></b></a><br />Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex8.html#e8"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e323"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex323.html#e323" class="eglink"><b>193</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex323.html#e323" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">3 AM</span></b></a><br />A shake command which agitates soda and makes items thump around in boxes.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex323.html#e323"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
