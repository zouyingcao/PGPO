<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>9.3. Clothing</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง9.3. Clothing</p>
<p>A person can wear any (portable) thing which has the &quot;wearable&quot; property. (This property seldom needs to be quoted because it is deduced automatically from sentences like &quot;Trevor wears a red hat.&quot;)</p>
<p>In most traditional IF, clothing is only used when it is exceptional in some way. That is, we ignore the three to eight different garments most people are wearing at any given time - the everyday clothes which people wear without thinking about them - and only simulate the unexpected extras: a borrowed jaunty red hat, a radiation-proof space suit, and so on.</p>
<p>These unusual garments turn up only occasionally in play and usually one at a time, so Inform does not normally provide rules to restrict how much or little is worn, or in what unlikely combinations. <span class="boldface">Get Me to the Church on Time</span> categorises clothing by body area (trousers for lower body, shirts for upper); <span class="boldface">Bogart</span> by layer, distinguishing underwear from outer garments. <span class="boldface">What Not To Wear</span> combines both into a general-purpose system adequate for most kinds of clothing situations.</p>
<p class="crossreference"><a href="RB_8_5.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Kitchen and Bathroom</b></a><i> for a simple mirror implementation, which could be adapted to reflect what the player is currently wearing</i></p><p><span class="boldface">Hays Code</span> is a somewhat stripped down version.</p>
<p>Clothes are normally single things which have no function other than display and concealment, but <span class="boldface">Being Prepared</span> gives them pockets which act as containers, and <span class="boldface">Some Assembly Required</span> allows clothes to be stitched together from pieces of cloth.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_9_1.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9_2.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_9_2.html" class="standardlink">Back to ยง9.2. Bags, Bottles, Boxes and Safes</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9_4.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_9_4.html" class="standardlink">Onward to ยง9.4. Money</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e113"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex113.html#e113" class="eglink"><b>56</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex113.html#e113" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Being Prepared</span></b></a><br />A kind for jackets, which always includes a container called a pocket.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex113.html#e113"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e219"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex219.html#e219" class="eglink"><b>332</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex219.html#e219" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Some Assembly Required</span></b></a><br />Building different styles of shirt from component sleeves and collars.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex219.html#e219"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e78"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex78.html#e78" class="eglink"><b>338</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex78.html#e78" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hays Code</span></b></a><br />Clark Gable in a pin-striped suit and a pink thong.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex78.html#e78"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e363"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex363.html#e363" class="eglink"><b>242</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex363.html#e363" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">What Not To Wear</span></b></a><br />A general-purpose clothing system that handles a variety of different clothing items layered in different combinations over different areas of the body.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex363.html#e363"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e196"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex196.html#e196" class="eglink"><b>46</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex196.html#e196" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Get Me to the Church on Time</span></b></a><br />Using kinds of clothing to prevent the player from wearing several pairs of trousers at the same time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex196.html#e196"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e247"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_9_3.html#e247" class="eglink"><b>234</b></a></div>
<div class="egpanel" id="example247">
<p>We have two things to keep track of with our layering clothing: what currently is covering something else; and what <span class="italic">can</span> cover something else. This implementation goes for a fairly simple treatment, assuming that each item of clothing will completely conceal those beneath it, and that we are not implementing entire sets of shirts, jackets, etc. But it will do for a demonstration.</p>
<!-- START CODE "c30993" -->
<a id="c30993"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Bogart[=0x0022=][=0x000A=][=0x000A=]Section 1 - Clothing Behavior[=0x000A=][=0x000A=][First we make our relation to represent what *is* underneath another item:][=0x000A=][=0x000A=]Underlying relates one thing to various things. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.[=0x000A=][=0x000A=][And now we prevent taking a lower layer off before the thing that is worn over it:][=0x000A=][=0x000A=]Before taking off something which underlies something (called the impediment) which is worn by the player:[=0x000A=]say [=0x0022=](first removing [the impediment])[command clarification break][=0x0022=];[=0x000A=]silently try taking off the impediment;[=0x000A=]if the noun underlies something which is worn by the player, stop the action.[=0x000A=][=0x000A=]Check taking off:[=0x000A=][=0x0009=]if the noun underlies something (called the impediment) which is worn by the player, say [=0x0022=][The impediment] [are] in the way.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out taking off:[=0x000A=][=0x0009=]now the noun is not underlaid by anything.[=0x000A=][=0x000A=]Report taking off something:[=0x000A=][=0x0009=]say [=0x0022=][We] [are] now wearing [a list of uppermost things worn by the player].[=0x0022=] instead.[=0x000A=][=0x000A=]Definition: a thing is uppermost if it is not under something.[=0x000A=][=0x000A=][That covers order of clothing removal, but we also want to restrict what can be worn on top of what else. This time we need Inform to have some idea of what customarily can be layered on top of what other clothing:][=0x000A=][=0x000A=]Overlying relates one thing to various things. The verb to overlie means the overlying relation.[=0x000A=][=0x000A=]Covering relates a thing (called A) to a thing (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.[=0x000A=][=0x000A=][With these definitions, we can say that a jacket should go over a shirt and a shirt over an undershirt (say), and then Inform will know that a jacket will cover both shirt and undershirt.][=0x000A=][=0x000A=]Before wearing something when something (called the impediment) which covers the noun is worn by the player:[=0x000A=][=0x0009=]while the player wears something which covers the noun:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](first removing [the impediment])[command clarification break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]silently try taking off the impediment;[=0x000A=][=0x0009=][=0x0009=]if the player is wearing the impediment, stop the action.[=0x000A=][=0x000A=]Carry out wearing:[=0x000A=][=0x0009=]if the noun covers something (called the hidden item) worn by the player, now the hidden item underlies the noun.[=0x000A=][=0x000A=]Instead of looking under something which is worn by the player:[=0x000A=][=0x0009=]if something (called the underwear) underlies the noun, say [=0x0022=][We] [peek] at [the underwear]. Yup, still there.[=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]Just [us] in there.[=0x0022=][=0x000A=][=0x000A=]Instead of taking inventory:[=0x000A=][=0x0009=]say [=0x0022=][if the player carries something][We][[=0x0027=]re] carrying [a list of things carried by the player][else][We][[=0x0027=]re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost things worn by the player][end if].[=0x0022=][=0x000A=][=0x000A=]To peek is a verb.[=0x000A=][=0x000A=][Notice that our inventory only describes the things that the player can see as the upper layer of clothing.][=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Trailer is a room. [=0x0022=]A full-length mirror is the main amenity in here, and that suits you just fine.[=0x0022=]  The full-length mirror is scenery in the Trailer. Instead of examining or searching the mirror, try taking inventory.[=0x000A=][=0x000A=]The player wears a fedora, a jacket, a shirt, some undershorts, an undershirt, some slacks, a pair of socks, and a pair of shoes.[=0x000A=][=0x000A=]The shirt underlies the jacket. The pair of socks underlies the pair of shoes. The undershorts underlie the slacks. The undershirt underlies the shirt.[=0x000A=][=0x000A=]The jacket overlies the shirt. The shoes overlie the socks. The slacks overlie the undershorts. The shirt overlies the undershirt.[=0x000A=][=0x000A=]Test me with [=0x0022=]x mirror / remove fedora / remove jacket / remove shirt / remove slacks / remove undershirt / remove shoes / remove socks / remove shorts / remove undershorts[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Bogart&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30994" -->
<a id="c30994"></a><blockquote class="code"><p class="quoted">
Section 1 - Clothing Behavior
</p></blockquote>
<!-- END CODE -->
<p>First we make our relation to represent what *is* underneath another item:</p>
<!-- START CODE "c30995" -->
<a id="c30995"></a><blockquote class="code"><p class="quoted">
Underlying relates one thing to various things. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.
</p></blockquote>
<!-- END CODE -->
<p>And now we prevent taking a lower layer off before the thing that is worn over it:</p>
<!-- START CODE "c30996" -->
<a id="c30996"></a><blockquote class="code"><p class="quoted">
Before taking off something which underlies something (called the impediment) which is worn by the player:
<br />say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />silently try taking off the impediment;
<br />if the noun underlies something which is worn by the player, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30997" -->
<a id="c30997"></a><blockquote class="code"><p class="quoted">
Check taking off:
<br />&#160;&#160;&#160;&#160;if the noun underlies something (called the impediment) which is worn by the player, say &quot;[The impediment] [are] in the way.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30998" -->
<a id="c30998"></a><blockquote class="code"><p class="quoted">
Carry out taking off:
<br />&#160;&#160;&#160;&#160;now the noun is not underlaid by anything.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30999" -->
<a id="c30999"></a><blockquote class="code"><p class="quoted">
Report taking off something:
<br />&#160;&#160;&#160;&#160;say &quot;[We] [are] now wearing [a list of uppermost things worn by the player].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31000" -->
<a id="c31000"></a><blockquote class="code"><p class="quoted">
Definition: a thing is uppermost if it is not under something.
</p></blockquote>
<!-- END CODE -->
<p>That covers order of clothing removal, but we also want to restrict what can be worn on top of what else. This time we need Inform to have some idea of what customarily can be layered on top of what other clothing:</p>
<!-- START CODE "c31001" -->
<a id="c31001"></a><blockquote class="code"><p class="quoted">
Overlying relates one thing to various things. The verb to overlie means the overlying relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31002" -->
<a id="c31002"></a><blockquote class="code"><p class="quoted">
Covering relates a thing (called A) to a thing (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.
</p></blockquote>
<!-- END CODE -->
<p>With these definitions, we can say that a jacket should go over a shirt and a shirt over an undershirt (say), and then Inform will know that a jacket will cover both shirt and undershirt.</p>
<!-- START CODE "c31003" -->
<a id="c31003"></a><blockquote class="code"><p class="quoted">
Before wearing something when something (called the impediment) which covers the noun is worn by the player:
<br />&#160;&#160;&#160;&#160;while the player wears something which covers the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking off the impediment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is wearing the impediment, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31004" -->
<a id="c31004"></a><blockquote class="code"><p class="quoted">
Carry out wearing:
<br />&#160;&#160;&#160;&#160;if the noun covers something (called the hidden item) worn by the player, now the hidden item underlies the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31005" -->
<a id="c31005"></a><blockquote class="code"><p class="quoted">
Instead of looking under something which is worn by the player:
<br />&#160;&#160;&#160;&#160;if something (called the underwear) underlies the noun, say &quot;[We] [peek] at [the underwear]. Yup, still there.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Just [us] in there.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31006" -->
<a id="c31006"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[if the player carries something][We]['re] carrying [a list of things carried by the player][else][We]['re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost things worn by the player][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31007" -->
<a id="c31007"></a><blockquote class="code"><p class="quoted">
To peek is a verb.
</p></blockquote>
<!-- END CODE -->
<p>Notice that our inventory only describes the things that the player can see as the upper layer of clothing.</p>
<!-- START CODE "c31008" -->
<a id="c31008"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31009" -->
<a id="c31009"></a><blockquote class="code"><p class="quoted">
The Trailer is a room. &quot;A full-length mirror is the main amenity in here, and that suits you just fine.&quot;  The full-length mirror is scenery in the Trailer. Instead of examining or searching the mirror, try taking inventory.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31010" -->
<a id="c31010"></a><blockquote class="code"><p class="quoted">
The player wears a fedora, a jacket, a shirt, some undershorts, an undershirt, some slacks, a pair of socks, and a pair of shoes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31011" -->
<a id="c31011"></a><blockquote class="code"><p class="quoted">
The shirt underlies the jacket. The pair of socks underlies the pair of shoes. The undershorts underlie the slacks. The undershirt underlies the shirt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31012" -->
<a id="c31012"></a><blockquote class="code"><p class="quoted">
The jacket overlies the shirt. The shoes overlie the socks. The slacks overlie the undershorts. The shirt overlies the undershirt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31013" -->
<a id="c31013"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x mirror / remove fedora / remove jacket / remove shirt / remove slacks / remove undershirt / remove shoes / remove socks / remove shorts / remove undershorts&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we further wanted to prevent the player from taking off clothes in inappropriate places, we might add something like this:</p>
<!-- START CODE "c31014" -->
<a id="c31014"></a><blockquote class="code"><p class="quoted">
Instead of taking off something in the presence of someone who is not the player:
<br />&#160;&#160;&#160;&#160;say &quot;[We] [are] far too modest to strip in public.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9_3.html#e247" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Bogart</span></b></a><br />Clothing for the player that layers, so that items cannot be taken off in the wrong order, and the player's inventory lists only the clothing that is currently visible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example247">
<p>We have two things to keep track of with our layering clothing: what currently is covering something else; and what <span class="italic">can</span> cover something else. This implementation goes for a fairly simple treatment, assuming that each item of clothing will completely conceal those beneath it, and that we are not implementing entire sets of shirts, jackets, etc. But it will do for a demonstration.</p>
<!-- START CODE "c31015" -->
<a id="c31015"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Bogart[=0x0022=][=0x000A=][=0x000A=]Section 1 - Clothing Behavior[=0x000A=][=0x000A=][First we make our relation to represent what *is* underneath another item:][=0x000A=][=0x000A=]Underlying relates one thing to various things. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.[=0x000A=][=0x000A=][And now we prevent taking a lower layer off before the thing that is worn over it:][=0x000A=][=0x000A=]Before taking off something which underlies something (called the impediment) which is worn by the player:[=0x000A=]say [=0x0022=](first removing [the impediment])[command clarification break][=0x0022=];[=0x000A=]silently try taking off the impediment;[=0x000A=]if the noun underlies something which is worn by the player, stop the action.[=0x000A=][=0x000A=]Check taking off:[=0x000A=][=0x0009=]if the noun underlies something (called the impediment) which is worn by the player, say [=0x0022=][The impediment] [are] in the way.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out taking off:[=0x000A=][=0x0009=]now the noun is not underlaid by anything.[=0x000A=][=0x000A=]Report taking off something:[=0x000A=][=0x0009=]say [=0x0022=][We] [are] now wearing [a list of uppermost things worn by the player].[=0x0022=] instead.[=0x000A=][=0x000A=]Definition: a thing is uppermost if it is not under something.[=0x000A=][=0x000A=][That covers order of clothing removal, but we also want to restrict what can be worn on top of what else. This time we need Inform to have some idea of what customarily can be layered on top of what other clothing:][=0x000A=][=0x000A=]Overlying relates one thing to various things. The verb to overlie means the overlying relation.[=0x000A=][=0x000A=]Covering relates a thing (called A) to a thing (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.[=0x000A=][=0x000A=][With these definitions, we can say that a jacket should go over a shirt and a shirt over an undershirt (say), and then Inform will know that a jacket will cover both shirt and undershirt.][=0x000A=][=0x000A=]Before wearing something when something (called the impediment) which covers the noun is worn by the player:[=0x000A=][=0x0009=]while the player wears something which covers the noun:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=](first removing [the impediment])[command clarification break][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]silently try taking off the impediment;[=0x000A=][=0x0009=][=0x0009=]if the player is wearing the impediment, stop the action.[=0x000A=][=0x000A=]Carry out wearing:[=0x000A=][=0x0009=]if the noun covers something (called the hidden item) worn by the player, now the hidden item underlies the noun.[=0x000A=][=0x000A=]Instead of looking under something which is worn by the player:[=0x000A=][=0x0009=]if something (called the underwear) underlies the noun, say [=0x0022=][We] [peek] at [the underwear]. Yup, still there.[=0x0022=];[=0x000A=][=0x0009=]otherwise say [=0x0022=]Just [us] in there.[=0x0022=][=0x000A=][=0x000A=]Instead of taking inventory:[=0x000A=][=0x0009=]say [=0x0022=][if the player carries something][We][[=0x0027=]re] carrying [a list of things carried by the player][else][We][[=0x0027=]re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost things worn by the player][end if].[=0x0022=][=0x000A=][=0x000A=]To peek is a verb.[=0x000A=][=0x000A=][Notice that our inventory only describes the things that the player can see as the upper layer of clothing.][=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Trailer is a room. [=0x0022=]A full-length mirror is the main amenity in here, and that suits you just fine.[=0x0022=]  The full-length mirror is scenery in the Trailer. Instead of examining or searching the mirror, try taking inventory.[=0x000A=][=0x000A=]The player wears a fedora, a jacket, a shirt, some undershorts, an undershirt, some slacks, a pair of socks, and a pair of shoes.[=0x000A=][=0x000A=]The shirt underlies the jacket. The pair of socks underlies the pair of shoes. The undershorts underlie the slacks. The undershirt underlies the shirt.[=0x000A=][=0x000A=]The jacket overlies the shirt. The shoes overlie the socks. The slacks overlie the undershorts. The shirt overlies the undershirt.[=0x000A=][=0x000A=]Test me with [=0x0022=]x mirror / remove fedora / remove jacket / remove shirt / remove slacks / remove undershirt / remove shoes / remove socks / remove shorts / remove undershorts[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Bogart&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31016" -->
<a id="c31016"></a><blockquote class="code"><p class="quoted">
Section 1 - Clothing Behavior
</p></blockquote>
<!-- END CODE -->
<p>First we make our relation to represent what *is* underneath another item:</p>
<!-- START CODE "c31017" -->
<a id="c31017"></a><blockquote class="code"><p class="quoted">
Underlying relates one thing to various things. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.
</p></blockquote>
<!-- END CODE -->
<p>And now we prevent taking a lower layer off before the thing that is worn over it:</p>
<!-- START CODE "c31018" -->
<a id="c31018"></a><blockquote class="code"><p class="quoted">
Before taking off something which underlies something (called the impediment) which is worn by the player:
<br />say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />silently try taking off the impediment;
<br />if the noun underlies something which is worn by the player, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31019" -->
<a id="c31019"></a><blockquote class="code"><p class="quoted">
Check taking off:
<br />&#160;&#160;&#160;&#160;if the noun underlies something (called the impediment) which is worn by the player, say &quot;[The impediment] [are] in the way.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31020" -->
<a id="c31020"></a><blockquote class="code"><p class="quoted">
Carry out taking off:
<br />&#160;&#160;&#160;&#160;now the noun is not underlaid by anything.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31021" -->
<a id="c31021"></a><blockquote class="code"><p class="quoted">
Report taking off something:
<br />&#160;&#160;&#160;&#160;say &quot;[We] [are] now wearing [a list of uppermost things worn by the player].&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31022" -->
<a id="c31022"></a><blockquote class="code"><p class="quoted">
Definition: a thing is uppermost if it is not under something.
</p></blockquote>
<!-- END CODE -->
<p>That covers order of clothing removal, but we also want to restrict what can be worn on top of what else. This time we need Inform to have some idea of what customarily can be layered on top of what other clothing:</p>
<!-- START CODE "c31023" -->
<a id="c31023"></a><blockquote class="code"><p class="quoted">
Overlying relates one thing to various things. The verb to overlie means the overlying relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31024" -->
<a id="c31024"></a><blockquote class="code"><p class="quoted">
Covering relates a thing (called A) to a thing (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.
</p></blockquote>
<!-- END CODE -->
<p>With these definitions, we can say that a jacket should go over a shirt and a shirt over an undershirt (say), and then Inform will know that a jacket will cover both shirt and undershirt.</p>
<!-- START CODE "c31025" -->
<a id="c31025"></a><blockquote class="code"><p class="quoted">
Before wearing something when something (called the impediment) which covers the noun is worn by the player:
<br />&#160;&#160;&#160;&#160;while the player wears something which covers the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first removing [the impediment])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;silently try taking off the impediment;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player is wearing the impediment, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31026" -->
<a id="c31026"></a><blockquote class="code"><p class="quoted">
Carry out wearing:
<br />&#160;&#160;&#160;&#160;if the noun covers something (called the hidden item) worn by the player, now the hidden item underlies the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31027" -->
<a id="c31027"></a><blockquote class="code"><p class="quoted">
Instead of looking under something which is worn by the player:
<br />&#160;&#160;&#160;&#160;if something (called the underwear) underlies the noun, say &quot;[We] [peek] at [the underwear]. Yup, still there.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;Just [us] in there.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31028" -->
<a id="c31028"></a><blockquote class="code"><p class="quoted">
Instead of taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[if the player carries something][We]['re] carrying [a list of things carried by the player][else][We]['re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost things worn by the player][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31029" -->
<a id="c31029"></a><blockquote class="code"><p class="quoted">
To peek is a verb.
</p></blockquote>
<!-- END CODE -->
<p>Notice that our inventory only describes the things that the player can see as the upper layer of clothing.</p>
<!-- START CODE "c31030" -->
<a id="c31030"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31031" -->
<a id="c31031"></a><blockquote class="code"><p class="quoted">
The Trailer is a room. &quot;A full-length mirror is the main amenity in here, and that suits you just fine.&quot;  The full-length mirror is scenery in the Trailer. Instead of examining or searching the mirror, try taking inventory.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31032" -->
<a id="c31032"></a><blockquote class="code"><p class="quoted">
The player wears a fedora, a jacket, a shirt, some undershorts, an undershirt, some slacks, a pair of socks, and a pair of shoes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31033" -->
<a id="c31033"></a><blockquote class="code"><p class="quoted">
The shirt underlies the jacket. The pair of socks underlies the pair of shoes. The undershorts underlie the slacks. The undershirt underlies the shirt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31034" -->
<a id="c31034"></a><blockquote class="code"><p class="quoted">
The jacket overlies the shirt. The shoes overlie the socks. The slacks overlie the undershorts. The shirt overlies the undershirt.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31035" -->
<a id="c31035"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x mirror / remove fedora / remove jacket / remove shirt / remove slacks / remove undershirt / remove shoes / remove socks / remove shorts / remove undershorts&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we further wanted to prevent the player from taking off clothes in inappropriate places, we might add something like this:</p>
<!-- START CODE "c31036" -->
<a id="c31036"></a><blockquote class="code"><p class="quoted">
Instead of taking off something in the presence of someone who is not the player:
<br />&#160;&#160;&#160;&#160;say &quot;[We] [are] far too modest to strip in public.&quot;
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex247.html#e247"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
