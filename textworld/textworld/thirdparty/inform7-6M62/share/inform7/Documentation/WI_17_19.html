<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>17.19. Does the player mean...</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง17.19. Does the player mean...</p>
<p>When the player types an ambiguous reference, we need to work out what is meant. Consider the following source text:</p>
<!-- START CODE "c1402" -->
<a id="c1402"></a><blockquote class="code"><p class="quoted">
The Champs du Mars is a room. The great Eiffel Tower is here. &quot;The great Tower stands high over you.&quot; The souvenir model Eiffel Tower is here. &quot;Comparatively tiny is the souvenir version.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now suppose the player types GET TOWER. The response will be:</p>
<!-- START CODE "c1403" -->
<a id="c1403"></a><blockquote class="code"><p class="quoted">
Which do you mean, the great Eiffel Tower or the souvenir model Eiffel Tower?
</p></blockquote>
<!-- END CODE -->
<p>Which is a silly question, exposing our work of IF as something artificial. It's obvious to the author of the source text, and to the player, that the souvenir must be what is meant: but this is not obvious to the computer program running the story. Works of IF gain a subtle feeling of quality from being able to understand ambiguous references of the kind above, and Inform provides us with a way to do this by giving the parser clues in the form of &quot;Does the player mean...&quot; rules. For instance, if we add:</p>
<!-- START CODE "c1404" -->
<a id="c1404"></a><blockquote class="code"><p class="quoted">
Does the player mean taking the great Eiffel Tower: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<p>then the response to GET TOWER will now be:</p>
<!-- START CODE "c1405" -->
<a id="c1405"></a><blockquote class="code"><p class="quoted">
(the souvenir model Eiffel Tower)
<br />Taken.
</p></blockquote>
<!-- END CODE -->
<p>&quot;Does the player mean...&quot; rules look at the actions which are possible interpretations of what the player typed, and grade them according to how likely they seem. (Note that these rules are only ever used to handle ambiguities: if the player unambiguously types GET GREAT EIFFEL TOWER, that will be the action. And the rules are only used where they are able to make a decision: if there are still multiple equally plausible meanings, the parser will ask about all possibilities, not just the most likely ones.) Rules in this rulebook can either decide nothing, or come up with one of the following verdicts:</p>
<!-- START CODE "c1406" -->
<a id="c1406"></a><blockquote class="code"><p class="quoted">
it is very likely
<br />it is likely
<br />it is possible
<br />it is unlikely
<br />it is very unlikely
</p></blockquote>
<!-- END CODE -->
<p>If there are no &quot;does the player mean&quot; rules, or the rules make no decision on a given possible action, it will be ranked as &quot;it is possible&quot;.</p>
<p>We may use these rules to affect all sorts of interaction with a specific object or kind of object, as in</p>
<!-- START CODE "c1407" -->
<a id="c1407"></a><blockquote class="code"><p class="quoted">
Does the player mean doing something with the cursed dagger of Thog: it is very unlikely.
<br />Does the player mean doing something with the cursed dagger of Thog when the player is hypnotized: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>...and so on.</p>
<p>Notice that we can also make rules about actions that apply to two objects, so for instance:</p>
<!-- START CODE "c1408" -->
<a id="c1408"></a><blockquote class="code"><p class="quoted">
Does the player mean throwing the can of shoe polish at the shoe polish vending machine: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>which nicely clarifies THROW POLISH AT POLISH, but does not comment on the likelihood of throwing the can at other things or of throwing other things at the vending machine. Moreover, the (suspected) identity of the first item will be known when the rule is consulted; thus</p>
<!-- START CODE "c1409" -->
<a id="c1409"></a><blockquote class="code"><p class="quoted">
Does the player mean tying the noun to the noun: it is very unlikely.
</p></blockquote>
<!-- END CODE -->
<p>will tell Inform to prefer not to tie something to itself if other interpretations are available.</p>
<p>But there is a caveat. There are some cases where this mechanism will not in fact help Inform to choose its way out of an ambiguous command, because of the way it parses one noun at a time. It usually needs to understand the first noun before it will even try to make sense of the second. So a rule like:</p>
<!-- START CODE "c1410" -->
<a id="c1410"></a><blockquote class="code"><p class="quoted">
Does the player mean throwing the can of shoe polish at the tree: it is likely.
</p></blockquote>
<!-- END CODE -->
<p>may not work if the player types THROW POLISH AT TREE and POLISH is ambiguous, because when the parser is trying to understand POLISH, it hasn't yet seen to the end of the command and realised that the second noun will be the tree; so the second noun is unset and the rule won't match.</p>
<p>As a caveat to the caveat, the &quot;inserting it into&quot;, &quot;removing it from&quot; and &quot;putting it on&quot; actions have this slightly back to front. These are parsed using the (little-used) &quot;[other things]&quot; or &quot;[things inside]&quot; tokens, and the Inform parser tries to detect the second noun before the first one, since the identity of the first has to depend on the second. So for instance if the situation contains &quot;an oak tree&quot; and also &quot;an oak chest&quot;, we could write:</p>
<!-- START CODE "c1411" -->
<a id="c1411"></a><blockquote class="code"><p class="quoted">
Does the player mean inserting into the oak chest:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<p>which would successfully make PUT COIN IN OAK mean the chest, not the tree. (Note the way we write &quot;inserting into&quot; without saying anything about what's being inserted, not even that it's &quot;something&quot;.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_17_1.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17_18.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_17_18.html" class="standardlink">Back to ยง17.18. Changing the meaning of pronouns</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17_20.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_17_20.html" class="standardlink">Onward to ยง17.20. Multiple action processing</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e157"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex157.html#e157" class="eglink"><b>326</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex157.html#e157" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Masochism Deli</span></b></a><br />Multiple potatoes, with rules to make the player drop the hot potato first and pick it up last.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex157.html#e157"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
