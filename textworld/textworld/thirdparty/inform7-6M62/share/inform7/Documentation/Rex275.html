<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>3.9. Passers-By, Weather and Astronomical Events</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง3.9. Passers-By, Weather and Astronomical Events</p>
<p>Out of doors, nature is seldom still. Clouds scull by at random, as in <span class="boldface">Weathering</span>, and provide some variety in what would otherwise be lifelessly static room descriptions. In much the same way, passers-by and other diversions make a city street a constant bustle: see <span class="boldface">Uptown Girls</span> for this human breeze. A more nagging sense of atmosphere can be experienced in <span class="boldface">Full Moon</span>.</p>
<p><span class="boldface">Orange Cones</span> offers traffic that is present on every road in the story unless a room is marked off with orange cones -- and this is allowed to change during play.</p>
<p><span class="boldface">Night and Day</span> and <span class="boldface">Totality</span> each schedule celestial events to provide a changing display in the sky above, and this time running like clockwork rather than at random.</p>
<p class="crossreference"><a href="RB_4_4.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Scene Changes</b></a><i> for meteors and a moon-rise</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_3_1.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3_8.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_3_8.html" class="standardlink">Back to ยง3.8. Sounds</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_4_1.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_4_1.html" class="standardlink">Onward to Chapter 4: Time and Plot: ยง4.1. The Passage Of Time</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e445"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex445.html#e445" class="eglink"><b>131</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex445.html#e445" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Weathering</span></b></a><br />The automatic weather station atop Mt. Pisgah shows randomly fluctuating temperature, pressure and cloud cover.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex445.html#e445"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e288"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex288.html#e288" class="eglink"><b>157</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex288.html#e288" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Full Moon</span></b></a><br />Random atmospheric events which last the duration of a scene.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex288.html#e288"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e96"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex96.html#e96" class="eglink"><b>164</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex96.html#e96" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Night and Day</span></b></a><br />Cycling through a sequence of scenes to represent day and night following one another during a game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex96.html#e96"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e239"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex239.html#e239" class="eglink"><b>144</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex239.html#e239" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Totality</span></b></a><br />To schedule an eclipse of the sun, which involves a number of related events.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex239.html#e239"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e275"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_3_9.html#e275" class="eglink"><b>120</b></a></div>
<div class="egpanel" id="example275">
<p>Because we can invent our own adjectives (see the chapter on Phrases), we can make the conditions for a backdrop as simple or as complicated as we like.</p>
<p>In this scenario, we want the player to be able to take, move, and drop orange traffic cones to seal off one street or another. So we create our own &quot;accessible&quot; adjective as follows:</p>
<!-- START CODE "c31909" -->
<a id="c31909"></a><blockquote class="code"><p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p></blockquote>
<!-- END CODE -->
<p>...and now</p>
<!-- START CODE "c31910" -->
<a id="c31910"></a><blockquote class="code"><p class="quoted">
move the traffic backdrop to all accessible roads.
</p></blockquote>
<!-- END CODE -->
<p>will tell the traffic backdrop where to appear.</p>
<!-- START CODE "c31911" -->
<a id="c31911"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Orange Cones[=0x0022=][=0x000A=][=0x000A=]A road is a kind of room.[=0x000A=][=0x000A=]The traffic is a backdrop. It is not scenery. The initial appearance is [=0x0022=]Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.[=0x0022=] The description is [=0x0022=]It is more or less as usual for this time of day. It[=0x0027=]s a wonder it ever dissipates, really.[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]move the traffic backdrop to all accessible roads.[=0x000A=][=0x000A=]A line of orange cones are a thing.[=0x000A=][=0x000A=]Definition: a road is accessible if the orange cones are not in it.[=0x000A=][=0x000A=]After dropping the orange cones in a road:[=0x000A=][=0x0009=]say [=0x0022=]With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.[=0x0022=];[=0x000A=][=0x0009=]update backdrop positions.[=0x000A=][=0x000A=]After taking the orange cones:[=0x000A=][=0x0009=]say [=0x0022=]You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.[=0x0022=];[=0x000A=][=0x0009=]update backdrop positions.[=0x000A=][=0x000A=][That accomplishes everything we set out to do, but let[=0x0027=]s add a very simple puzzle to test it out with:][=0x000A=][=0x000A=]The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.[=0x000A=][=0x000A=]The line of orange cones are in Mortar Street.[=0x000A=][=0x000A=]The player wears a reflective vest and a hard hat.[=0x000A=][=0x000A=]The manhole cover is a door. [=0x0022=][if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There[=0x0027=]s a promising manhole in the middle of the street.[end if][=0x0022=]. It is closed and openable. It is below the Town Square and above the Access Tunnel.[=0x000A=][=0x000A=]Instead of opening the manhole cover when the location is an accessible road:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t get anywhere near the manhole cover with all these cars above it.[=0x0022=][=0x000A=][=0x000A=]Instead of taking the orange cones in Town Square:[=0x000A=][=0x0009=]if the manhole cover is closed or Town Square is accessible, continue the action;[=0x000A=][=0x0009=]otherwise say [=0x0022=]You[=0x0027=]d better not let the traffic back in until you[=0x0027=]ve closed the manhole. There[=0x0027=]ll be accidents otherwise.[=0x0022=][=0x000A=][=0x000A=]After going to the Access Tunnel:[=0x000A=][=0x0009=]say [=0x0022=]With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=][And finally, a couple of features from the Activities chapter to make the output more elegant:][=0x000A=][=0x000A=]Rule for writing a paragraph about the orange cones: say [=0x0022=]A line of orange cones holds back the traffic from entering here.[=0x0022=][=0x000A=][=0x000A=]Rule for printing the name of the orange cones when the cones are carried by the player:[=0x000A=][=0x0009=]say [=0x0022=]stack of orange cones[=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Orange Cones&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31912" -->
<a id="c31912"></a><blockquote class="code"><p class="quoted">
A road is a kind of room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31913" -->
<a id="c31913"></a><blockquote class="code"><p class="quoted">
The traffic is a backdrop. It is not scenery. The initial appearance is &quot;Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.&quot; The description is &quot;It is more or less as usual for this time of day. It's a wonder it ever dissipates, really.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31914" -->
<a id="c31914"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;move the traffic backdrop to all accessible roads.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31915" -->
<a id="c31915"></a><blockquote class="code"><p class="quoted">
A line of orange cones are a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31916" -->
<a id="c31916"></a><blockquote class="code"><p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31917" -->
<a id="c31917"></a><blockquote class="code"><p class="quoted">
After dropping the orange cones in a road:
<br />&#160;&#160;&#160;&#160;say &quot;With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.&quot;;
<br />&#160;&#160;&#160;&#160;update backdrop positions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31918" -->
<a id="c31918"></a><blockquote class="code"><p class="quoted">
After taking the orange cones:
<br />&#160;&#160;&#160;&#160;say &quot;You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.&quot;;
<br />&#160;&#160;&#160;&#160;update backdrop positions.
</p></blockquote>
<!-- END CODE -->
<p>That accomplishes everything we set out to do, but let's add a very simple puzzle to test it out with:</p>
<!-- START CODE "c31919" -->
<a id="c31919"></a><blockquote class="code"><p class="quoted">
The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31920" -->
<a id="c31920"></a><blockquote class="code"><p class="quoted">
The line of orange cones are in Mortar Street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31921" -->
<a id="c31921"></a><blockquote class="code"><p class="quoted">
The player wears a reflective vest and a hard hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31922" -->
<a id="c31922"></a><blockquote class="code"><p class="quoted">
The manhole cover is a door. &quot;[if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There's a promising manhole in the middle of the street.[end if]&quot;. It is closed and openable. It is below the Town Square and above the Access Tunnel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31923" -->
<a id="c31923"></a><blockquote class="code"><p class="quoted">
Instead of opening the manhole cover when the location is an accessible road:
<br />&#160;&#160;&#160;&#160;say &quot;You can't get anywhere near the manhole cover with all these cars above it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31924" -->
<a id="c31924"></a><blockquote class="code"><p class="quoted">
Instead of taking the orange cones in Town Square:
<br />&#160;&#160;&#160;&#160;if the manhole cover is closed or Town Square is accessible, continue the action;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You'd better not let the traffic back in until you've closed the manhole. There'll be accidents otherwise.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31925" -->
<a id="c31925"></a><blockquote class="code"><p class="quoted">
After going to the Access Tunnel:
<br />&#160;&#160;&#160;&#160;say &quot;With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>And finally, a couple of features from the Activities chapter to make the output more elegant:</p>
<!-- START CODE "c31926" -->
<a id="c31926"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the orange cones: say &quot;A line of orange cones holds back the traffic from entering here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31927" -->
<a id="c31927"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the orange cones when the cones are carried by the player:
<br />&#160;&#160;&#160;&#160;say &quot;stack of orange cones&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31928" -->
<a id="c31928"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3_9.html#e275" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Orange Cones</span></b></a><br />Creating a traffic backdrop that appears in all road rooms except the one in which the player has laid down orange cones.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example275">
<p>Because we can invent our own adjectives (see the chapter on Phrases), we can make the conditions for a backdrop as simple or as complicated as we like.</p>
<p>In this scenario, we want the player to be able to take, move, and drop orange traffic cones to seal off one street or another. So we create our own &quot;accessible&quot; adjective as follows:</p>
<!-- START CODE "c31929" -->
<a id="c31929"></a><blockquote class="code"><p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p></blockquote>
<!-- END CODE -->
<p>...and now</p>
<!-- START CODE "c31930" -->
<a id="c31930"></a><blockquote class="code"><p class="quoted">
move the traffic backdrop to all accessible roads.
</p></blockquote>
<!-- END CODE -->
<p>will tell the traffic backdrop where to appear.</p>
<!-- START CODE "c31931" -->
<a id="c31931"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Orange Cones[=0x0022=][=0x000A=][=0x000A=]A road is a kind of room.[=0x000A=][=0x000A=]The traffic is a backdrop. It is not scenery. The initial appearance is [=0x0022=]Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.[=0x0022=] The description is [=0x0022=]It is more or less as usual for this time of day. It[=0x0027=]s a wonder it ever dissipates, really.[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]move the traffic backdrop to all accessible roads.[=0x000A=][=0x000A=]A line of orange cones are a thing.[=0x000A=][=0x000A=]Definition: a road is accessible if the orange cones are not in it.[=0x000A=][=0x000A=]After dropping the orange cones in a road:[=0x000A=][=0x0009=]say [=0x0022=]With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.[=0x0022=];[=0x000A=][=0x0009=]update backdrop positions.[=0x000A=][=0x000A=]After taking the orange cones:[=0x000A=][=0x0009=]say [=0x0022=]You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.[=0x0022=];[=0x000A=][=0x0009=]update backdrop positions.[=0x000A=][=0x000A=][That accomplishes everything we set out to do, but let[=0x0027=]s add a very simple puzzle to test it out with:][=0x000A=][=0x000A=]The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.[=0x000A=][=0x000A=]The line of orange cones are in Mortar Street.[=0x000A=][=0x000A=]The player wears a reflective vest and a hard hat.[=0x000A=][=0x000A=]The manhole cover is a door. [=0x0022=][if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There[=0x0027=]s a promising manhole in the middle of the street.[end if][=0x0022=]. It is closed and openable. It is below the Town Square and above the Access Tunnel.[=0x000A=][=0x000A=]Instead of opening the manhole cover when the location is an accessible road:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t get anywhere near the manhole cover with all these cars above it.[=0x0022=][=0x000A=][=0x000A=]Instead of taking the orange cones in Town Square:[=0x000A=][=0x0009=]if the manhole cover is closed or Town Square is accessible, continue the action;[=0x000A=][=0x0009=]otherwise say [=0x0022=]You[=0x0027=]d better not let the traffic back in until you[=0x0027=]ve closed the manhole. There[=0x0027=]ll be accidents otherwise.[=0x0022=][=0x000A=][=0x000A=]After going to the Access Tunnel:[=0x000A=][=0x0009=]say [=0x0022=]With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=][And finally, a couple of features from the Activities chapter to make the output more elegant:][=0x000A=][=0x000A=]Rule for writing a paragraph about the orange cones: say [=0x0022=]A line of orange cones holds back the traffic from entering here.[=0x0022=][=0x000A=][=0x000A=]Rule for printing the name of the orange cones when the cones are carried by the player:[=0x000A=][=0x0009=]say [=0x0022=]stack of orange cones[=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Orange Cones&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31932" -->
<a id="c31932"></a><blockquote class="code"><p class="quoted">
A road is a kind of room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31933" -->
<a id="c31933"></a><blockquote class="code"><p class="quoted">
The traffic is a backdrop. It is not scenery. The initial appearance is &quot;Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.&quot; The description is &quot;It is more or less as usual for this time of day. It's a wonder it ever dissipates, really.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31934" -->
<a id="c31934"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;move the traffic backdrop to all accessible roads.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31935" -->
<a id="c31935"></a><blockquote class="code"><p class="quoted">
A line of orange cones are a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31936" -->
<a id="c31936"></a><blockquote class="code"><p class="quoted">
Definition: a road is accessible if the orange cones are not in it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31937" -->
<a id="c31937"></a><blockquote class="code"><p class="quoted">
After dropping the orange cones in a road:
<br />&#160;&#160;&#160;&#160;say &quot;With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.&quot;;
<br />&#160;&#160;&#160;&#160;update backdrop positions.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31938" -->
<a id="c31938"></a><blockquote class="code"><p class="quoted">
After taking the orange cones:
<br />&#160;&#160;&#160;&#160;say &quot;You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.&quot;;
<br />&#160;&#160;&#160;&#160;update backdrop positions.
</p></blockquote>
<!-- END CODE -->
<p>That accomplishes everything we set out to do, but let's add a very simple puzzle to test it out with:</p>
<!-- START CODE "c31939" -->
<a id="c31939"></a><blockquote class="code"><p class="quoted">
The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31940" -->
<a id="c31940"></a><blockquote class="code"><p class="quoted">
The line of orange cones are in Mortar Street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31941" -->
<a id="c31941"></a><blockquote class="code"><p class="quoted">
The player wears a reflective vest and a hard hat.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31942" -->
<a id="c31942"></a><blockquote class="code"><p class="quoted">
The manhole cover is a door. &quot;[if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There's a promising manhole in the middle of the street.[end if]&quot;. It is closed and openable. It is below the Town Square and above the Access Tunnel.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31943" -->
<a id="c31943"></a><blockquote class="code"><p class="quoted">
Instead of opening the manhole cover when the location is an accessible road:
<br />&#160;&#160;&#160;&#160;say &quot;You can't get anywhere near the manhole cover with all these cars above it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31944" -->
<a id="c31944"></a><blockquote class="code"><p class="quoted">
Instead of taking the orange cones in Town Square:
<br />&#160;&#160;&#160;&#160;if the manhole cover is closed or Town Square is accessible, continue the action;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You'd better not let the traffic back in until you've closed the manhole. There'll be accidents otherwise.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31945" -->
<a id="c31945"></a><blockquote class="code"><p class="quoted">
After going to the Access Tunnel:
<br />&#160;&#160;&#160;&#160;say &quot;With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>And finally, a couple of features from the Activities chapter to make the output more elegant:</p>
<!-- START CODE "c31946" -->
<a id="c31946"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the orange cones: say &quot;A line of orange cones holds back the traffic from entering here.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31947" -->
<a id="c31947"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of the orange cones when the cones are carried by the player:
<br />&#160;&#160;&#160;&#160;say &quot;stack of orange cones&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c31948" -->
<a id="c31948"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex275.html#e275"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e174"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex174.html#e174" class="eglink"><b>132</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex174.html#e174" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Uptown Girls</span></b></a><br />A stream of random pedestrians who go by the player.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex174.html#e174"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
