<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>21.10. Lengthening or shortening a list</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง21.10. Lengthening or shortening a list</p>
<p>We can explicitly change the length of a list like so:</p>
<!-- START PHRASE "defn348" -->
<div class="definition"><a id="defn348"></a><p class="defnprototype"><b>change </b>(list of values)<b> to have </b>(number)<b> entries</b>/entry</p>
<!-- END PHRASE -->
<!-- definition of ph_changelength -->

<p>This phrase alters the given list so that it now has exactly the number of entries given. Example:</p>
<!-- START CODE "c1807" -->
<a id="c1807"></a><blockquote class="code"><p class="quoted">
change L to have 21 entries;
</p></blockquote>
<!-- END CODE -->
<p>If L previously had more than 21 entries, they are thrown away (and lost forever); if L previously had fewer, then new entries are created, using the default value for whatever kind of value L holds. So extending a list of numbers will pad it out with 0s, but extending a list of texts will pad it out with the empty text &quot;&quot;, and so on.</p>

<!-- end definition -->
</div>

<p>We can also write the equivalent phrases:</p>
<!-- START PHRASE "defn349" -->
<div class="definition"><a id="defn349"></a><p class="defnprototype"><b>truncate </b>(list of values)<b> to </b>(number)<b> entries</b>/entry</p>
<!-- END PHRASE -->
<!-- definition of ph_truncate -->

<p>This phrase alters the given list so that it now has no more than the number of entries given. Example:</p>
<!-- START CODE "c1808" -->
<a id="c1808"></a><blockquote class="code"><p class="quoted">
truncate L to 8 entries;
</p></blockquote>
<!-- END CODE -->
<p>shortens L to length 8 if it is currently longer than that, trimming entries from the end, but would (for instance) leave a list of length 3 unchanged. Note that</p>
<!-- START CODE "c1809" -->
<a id="c1809"></a><blockquote class="code"><p class="quoted">
truncate L to 0 entries;
</p></blockquote>
<!-- END CODE -->
<p>empties it to { }, the list with nothing in.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn350" -->
<div class="definition"><a id="defn350"></a><p class="defnprototype"><b>truncate </b>(list of values)<b> to the first </b>(number)<b> entries</b>/entry</p>
<!-- END PHRASE -->
<!-- definition of ph_truncatefirst -->

<p>This phrase alters the given list so that it now consists only of the initial part of the list with the given length. Example:</p>
<!-- START CODE "c1810" -->
<a id="c1810"></a><blockquote class="code"><p class="quoted">
truncate L to the first 4 entries;
</p></blockquote>
<!-- END CODE -->
<p>turns {1, 3, 5, 7, 9, 11} to {1, 3, 5, 7}.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn351" -->
<div class="definition"><a id="defn351"></a><p class="defnprototype"><b>truncate </b>(list of values)<b> to the last </b>(number)<b> entries</b>/entry</p>
<!-- END PHRASE -->
<!-- definition of ph_truncatelast -->

<p>This phrase alters the given list so that it now consists only of the final part of the list with the given length. Example:</p>
<!-- START CODE "c1811" -->
<a id="c1811"></a><blockquote class="code"><p class="quoted">
truncate L to the last 4 entries;
</p></blockquote>
<!-- END CODE -->
<p>turns {1, 3, 5, 7, 9, 11} to {5, 7, 9, 11}.</p>

<!-- end definition -->
</div>

<p>But we don't have to truncate: we can also -</p>
<!-- START PHRASE "defn352" -->
<div class="definition"><a id="defn352"></a><p class="defnprototype"><b>extend </b>(list of values)<b> to </b>(number)<b> entries</b>/entry</p>
<!-- END PHRASE -->
<!-- definition of ph_extend -->

<p>This phrase pads out the list with default values as needed so that it now has at least the given length. (If the list is already at least that length, nothing is done.) Example:</p>
<!-- START CODE "c1812" -->
<a id="c1812"></a><blockquote class="code"><p class="quoted">
extend L to 80 entries;
</p></blockquote>
<!-- END CODE -->
<p>lengthens L to length 80 if it is currently shorter than that.</p>

<!-- end definition -->
</div>

<p>For example,</p>
<!-- START CODE "c1813" -->
<a id="c1813"></a><blockquote class="code"><p class="quoted">
To check sorting (N - a number):
<br />&#160;&#160;&#160;&#160;let L be a list of numbers;
<br />&#160;&#160;&#160;&#160;extend L to N entries;
<br />&#160;&#160;&#160;&#160;repeat with X running from 1 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now entry X of L is X;
<br />&#160;&#160;&#160;&#160;say &quot;L unrandomised is [L].&quot;;
<br />&#160;&#160;&#160;&#160;sort L in random order;
<br />&#160;&#160;&#160;&#160;say &quot;L randomised is [L].&quot;;
<br />&#160;&#160;&#160;&#160;sort L;
<br />&#160;&#160;&#160;&#160;say &quot;L in ascending order is [L].&quot;
</p></blockquote>
<!-- END CODE -->
<p>builds a list of N numbers (initially all 0), fills it with the numbers 1, 2, 3, ..., N, then randomly reorders them, then sorts them back again, recovering the original order. The text produced by &quot;check sorting 10&quot; depends partly on chance but might for instance be:</p>
<!-- START CODE "c1814" -->
<a id="c1814"></a><blockquote class="code"><p class="quoted">
L unrandomised is 1, 2, 3, 4, 5, 6, 7, 8, 9 and 10.
<br />L randomised is 6, 2, 9, 3, 10, 1, 7, 4, 8 and 5.
<br />L in ascending order is 1, 2, 3, 4, 5, 6, 7, 8, 9 and 10.
</p></blockquote>
<!-- END CODE -->
<p>As with text in the previous chapter, a project which needs really long lists should use the Glulx virtual machine - &quot;check sorting 10000&quot;, for instance, would break the default memory environment on the Z-machine, which is very tight, but works fine (if not very rapidly) on Glulx.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_21_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_21_1.html" class="standardlink">Start of Chapter 21: Lists</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_21_9.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_21_9.html" class="standardlink">Back to ยง21.9. Accessing entries in a list</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_21_11.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_21_11.html" class="standardlink">Onward to ยง21.11. Variations: arrays, logs, queues, stacks, sets, sieves and rings</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e31"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex31.html#e31" class="eglink"><b>430</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex31.html#e31" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Leopard-skin</span></b></a><br />A maze that the player can escape if he performs an exact sequence of actions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex31.html#e31"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e294"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex294.html#e294" class="eglink"><b>431</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex294.html#e294" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Facts Were These</span></b></a><br />Creating a variant GIVE action that lets the player give multiple objects simultaneously with commands like GIVE ALL TO ATTENDANT or GIVE THREE DOLLARS TO ATTENDANT or GIVE PIE AND HAT TO ATTENDANT. The attendant accepts the gifts only if their total combined value matches some minimum amount.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex294.html#e294"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
