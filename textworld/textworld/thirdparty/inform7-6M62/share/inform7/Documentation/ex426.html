<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>9.11. Future events</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง9.11. Future events</p>
<p>We often want to arrange for something to happen at some point in the future. Here is yet another timepiece:</p>
<!-- START CODE "c669" -->
<a id="c669"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('An egg-timer is in the Chamber. [=0x0022=]A plastic egg timer in the shape of a chicken can be pressed to set it going.[=0x0022=][=0x000A=][=0x000A=]Instead of pushing the egg-timer:[=0x000A=][=0x0009=]say [=0x0022=]It begins to mark time.[=0x0022=];[=0x000A=][=0x0009=]the egg-timer clucks in four turns from now.[=0x000A=][=0x000A=]At the time when the egg-timer clucks:[=0x000A=][=0x0009=]say [=0x0022=]Cluck! Cluck! Cluck! says the egg-timer.[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> An egg-timer is in the Chamber. &quot;A plastic egg timer in the shape of a chicken can be pressed to set it going.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c670" -->
<a id="c670"></a><blockquote class="code"><p class="quoted">
Instead of pushing the egg-timer:
<br />&#160;&#160;&#160;&#160;say &quot;It begins to mark time.&quot;;
<br />&#160;&#160;&#160;&#160;the egg-timer clucks in four turns from now.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c671" -->
<a id="c671"></a><blockquote class="code"><p class="quoted">
At the time when the egg-timer clucks:
<br />&#160;&#160;&#160;&#160;say &quot;Cluck! Cluck! Cluck! says the egg-timer.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The event here is called &quot;the egg-timer clucks&quot;. It only happens if we instruct so, using one of the following phrases:</p>
<!-- START PHRASE "defn108" -->
<div class="definition"><a id="defn108"></a><p class="defnprototype"><b></b>(rule)<b> in </b>(time)<b> from now</b></p>
<!-- END PHRASE -->
<!-- definition of ph_timefromnow -->

<p>This phrase causes the given rule to be run at a given time offset from the current time of day. Example:</p>
<!-- START CODE "c672" -->
<a id="c672"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks in 18 minutes from now;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn109" -->
<div class="definition"><a id="defn109"></a><p class="defnprototype"><b></b>(rule)<b> in </b>(number)<b> turn</b>/turns<b> from now</b></p>
<!-- END PHRASE -->
<!-- definition of ph_turnsfromnow -->

<p>This phrase causes the given rule to be run at a given number of turns after the current one. Example:</p>
<!-- START CODE "c673" -->
<a id="c673"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks in four turns from now;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn110" -->
<div class="definition"><a id="defn110"></a><p class="defnprototype"><b></b>(rule)<b> at </b>(time)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_attime -->

<p>This phrase causes the given rule to be run at a given time of day. Example:</p>
<!-- START CODE "c674" -->
<a id="c674"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks at 11:35 AM;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>If we know in advance what time we want something to happen, we can more simply write:</p>
<!-- START CODE "c675" -->
<a id="c675"></a><blockquote class="code"><p class="quoted">
At 4 PM: say &quot;The great bells of the clock tower chime four.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(Note that in either case such rules begin with the word &quot;at&quot;: they are the only rules allowed to begin with the word &quot;at&quot;.)</p>
<p>A small warning: timed events like these only have a chance to occur during the turn sequence, that is, once every turn. In most stories, one turn takes one minute, so there will in due course be a turn happening at exactly (say) 11:35 AM. But if the clock is being advanced faster than this, it's possible that there are turns at (say) 11:32 AM and then not until 11:37 AM. But an event set for 11:35 AM will nevertheless happen -- it will run at the first available turn after that time, which will be 11:37 AM. Events can thus happen up to half an hour late, though Inform cancels them if the elapsed time is greater than that.</p>
<p>The Scenes panel of the Index can be a useful way to see what events have been set.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_9_1.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9_10.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_9_10.html" class="standardlink">Back to ยง9.10. Calculating times</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9_12.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_9_12.html" class="standardlink">Onward to ยง9.12. Actions as conditions</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e332"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex332.html#e332" class="eglink"><b>143</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex332.html#e332" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">MRE</span></b></a><br />Hunger that eventually kills the player, and foodstuffs that can delay the inevitable by different amounts of time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex332.html#e332"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e239"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex239.html#e239" class="eglink"><b>144</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex239.html#e239" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Totality</span></b></a><br />To schedule an eclipse of the sun, which involves a number of related events.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex239.html#e239"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e426"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_9_11.html#e426" class="eglink"><b>145</b></a></div>
<div class="egpanel" id="example426">
<p>Suppose we want to have a train which, at fixed times, arrives at and leaves stations. It should be possible for the player to get on and off the train when it is stopped, but not while the train is in motion.</p>
<!-- START CODE "c22435" -->
<a id="c22435"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Empire[=0x0022=][=0x000A=][=0x000A=]The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.[=0x000A=][=0x000A=]The description of the Empire Builder is [=0x0022=]One of the (relatively) plush long-distance Amtrak trains. You[=0x0027=]re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.[=0x000A=][=0x000A=][if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if][=0x0022=][=0x000A=][=0x000A=]Instead of exiting when the player is in the Train:[=0x000A=][=0x0009=]if the station of the Train is the Train:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The train is not stopped at a station.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]move the player to the station of the train instead.[=0x000A=][=0x000A=]Before going outside when the player is in the Train:[=0x000A=][=0x0009=]try exiting instead.[=0x000A=][=0x000A=]Before going inside when the player is in the station of the Train:[=0x000A=][=0x0009=]move the player to the Train instead.[=0x000A=][=0x000A=]Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually [=0x0022=]The scenic train station of [the location][if the location is the station of the train].[=0x000A=][=0x000A=]The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].[=0x0022=][=0x000A=][=0x000A=][And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.][=0x000A=][=0x000A=]At 4:45 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train]![=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 5:10 PM:[=0x000A=][=0x0009=]now the station of the Train is Edmonds;[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls into Edmonds and comes to a stop.[=0x0022=][=0x000A=][=0x000A=]At 5:17 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train], running north along the shore towards Everett.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 5:39 PM:[=0x000A=][=0x0009=]now the station of the Train is Everett;[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.[=0x0022=][=0x000A=][=0x000A=]At 5:44 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train] and turns east.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 8:39 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is Wenatchee.[=0x000A=][=0x000A=]At 8:44 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=][Playing this out would of course require near inhuman patience. Let[=0x0027=]s set things up so that the player at least doesn[=0x0027=]t have to wait too long for his first departure:][=0x000A=][=0x000A=]The time of day is 4:43 PM.[=0x000A=][=0x000A=][...and provide fair warning of how slowly time is elapsing.][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z[=0x0022=].[=0x000A=][=0x000A=]Test more with [=0x0022=]out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Empire&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22436" -->
<a id="c22436"></a><blockquote class="code"><p class="quoted">
The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22437" -->
<a id="c22437"></a><blockquote class="code"><p class="quoted">
The description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You're in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22438" -->
<a id="c22438"></a><blockquote class="code"><p class="quoted">
[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22439" -->
<a id="c22439"></a><blockquote class="code"><p class="quoted">
Instead of exiting when the player is in the Train:
<br />&#160;&#160;&#160;&#160;if the station of the Train is the Train:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The train is not stopped at a station.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the station of the train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22440" -->
<a id="c22440"></a><blockquote class="code"><p class="quoted">
Before going outside when the player is in the Train:
<br />&#160;&#160;&#160;&#160;try exiting instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22441" -->
<a id="c22441"></a><blockquote class="code"><p class="quoted">
Before going inside when the player is in the station of the Train:
<br />&#160;&#160;&#160;&#160;move the player to the Train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22442" -->
<a id="c22442"></a><blockquote class="code"><p class="quoted">
Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22443" -->
<a id="c22443"></a><blockquote class="code"><p class="quoted">
The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.</p>
<!-- START CODE "c22444" -->
<a id="c22444"></a><blockquote class="code"><p class="quoted">
At 4:45 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22445" -->
<a id="c22445"></a><blockquote class="code"><p class="quoted">
At 5:10 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Edmonds;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22446" -->
<a id="c22446"></a><blockquote class="code"><p class="quoted">
At 5:17 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22447" -->
<a id="c22447"></a><blockquote class="code"><p class="quoted">
At 5:39 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Everett;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22448" -->
<a id="c22448"></a><blockquote class="code"><p class="quoted">
At 5:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22449" -->
<a id="c22449"></a><blockquote class="code"><p class="quoted">
At 8:39 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is Wenatchee.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22450" -->
<a id="c22450"></a><blockquote class="code"><p class="quoted">
At 8:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<p>Playing this out would of course require near inhuman patience. Let's set things up so that the player at least doesn't have to wait too long for his first departure:</p>
<!-- START CODE "c22451" -->
<a id="c22451"></a><blockquote class="code"><p class="quoted">
The time of day is 4:43 PM.
</p></blockquote>
<!-- END CODE -->
<p>...and provide fair warning of how slowly time is elapsing.</p>
<!-- START CODE "c22452" -->
<a id="c22452"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22453" -->
<a id="c22453"></a><blockquote class="code"><p class="quoted">
Test me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22454" -->
<a id="c22454"></a><blockquote class="code"><p class="quoted">
Test more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9_11.html#e426" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Empire</span></b></a><br />A train which follows a schedule, stopping at a number of different locations.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example426">
<p>Suppose we want to have a train which, at fixed times, arrives at and leaves stations. It should be possible for the player to get on and off the train when it is stopped, but not while the train is in motion.</p>
<!-- START CODE "c22455" -->
<a id="c22455"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Empire[=0x0022=][=0x000A=][=0x000A=]The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.[=0x000A=][=0x000A=]The description of the Empire Builder is [=0x0022=]One of the (relatively) plush long-distance Amtrak trains. You[=0x0027=]re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.[=0x000A=][=0x000A=][if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if][=0x0022=][=0x000A=][=0x000A=]Instead of exiting when the player is in the Train:[=0x000A=][=0x0009=]if the station of the Train is the Train:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The train is not stopped at a station.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]move the player to the station of the train instead.[=0x000A=][=0x000A=]Before going outside when the player is in the Train:[=0x000A=][=0x0009=]try exiting instead.[=0x000A=][=0x000A=]Before going inside when the player is in the station of the Train:[=0x000A=][=0x0009=]move the player to the Train instead.[=0x000A=][=0x000A=]Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually [=0x0022=]The scenic train station of [the location][if the location is the station of the train].[=0x000A=][=0x000A=]The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].[=0x0022=][=0x000A=][=0x000A=][And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.][=0x000A=][=0x000A=]At 4:45 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train]![=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 5:10 PM:[=0x000A=][=0x0009=]now the station of the Train is Edmonds;[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls into Edmonds and comes to a stop.[=0x0022=][=0x000A=][=0x000A=]At 5:17 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train], running north along the shore towards Everett.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 5:39 PM:[=0x000A=][=0x0009=]now the station of the Train is Everett;[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.[=0x0022=][=0x000A=][=0x000A=]At 5:44 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train] and turns east.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 8:39 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is Wenatchee.[=0x000A=][=0x000A=]At 8:44 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=][Playing this out would of course require near inhuman patience. Let[=0x0027=]s set things up so that the player at least doesn[=0x0027=]t have to wait too long for his first departure:][=0x000A=][=0x000A=]The time of day is 4:43 PM.[=0x000A=][=0x000A=][...and provide fair warning of how slowly time is elapsing.][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z[=0x0022=].[=0x000A=][=0x000A=]Test more with [=0x0022=]out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Empire&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22456" -->
<a id="c22456"></a><blockquote class="code"><p class="quoted">
The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22457" -->
<a id="c22457"></a><blockquote class="code"><p class="quoted">
The description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You're in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22458" -->
<a id="c22458"></a><blockquote class="code"><p class="quoted">
[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22459" -->
<a id="c22459"></a><blockquote class="code"><p class="quoted">
Instead of exiting when the player is in the Train:
<br />&#160;&#160;&#160;&#160;if the station of the Train is the Train:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The train is not stopped at a station.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the station of the train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22460" -->
<a id="c22460"></a><blockquote class="code"><p class="quoted">
Before going outside when the player is in the Train:
<br />&#160;&#160;&#160;&#160;try exiting instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22461" -->
<a id="c22461"></a><blockquote class="code"><p class="quoted">
Before going inside when the player is in the station of the Train:
<br />&#160;&#160;&#160;&#160;move the player to the Train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22462" -->
<a id="c22462"></a><blockquote class="code"><p class="quoted">
Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22463" -->
<a id="c22463"></a><blockquote class="code"><p class="quoted">
The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.</p>
<!-- START CODE "c22464" -->
<a id="c22464"></a><blockquote class="code"><p class="quoted">
At 4:45 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22465" -->
<a id="c22465"></a><blockquote class="code"><p class="quoted">
At 5:10 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Edmonds;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22466" -->
<a id="c22466"></a><blockquote class="code"><p class="quoted">
At 5:17 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22467" -->
<a id="c22467"></a><blockquote class="code"><p class="quoted">
At 5:39 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Everett;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22468" -->
<a id="c22468"></a><blockquote class="code"><p class="quoted">
At 5:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22469" -->
<a id="c22469"></a><blockquote class="code"><p class="quoted">
At 8:39 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is Wenatchee.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22470" -->
<a id="c22470"></a><blockquote class="code"><p class="quoted">
At 8:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<p>Playing this out would of course require near inhuman patience. Let's set things up so that the player at least doesn't have to wait too long for his first departure:</p>
<!-- START CODE "c22471" -->
<a id="c22471"></a><blockquote class="code"><p class="quoted">
The time of day is 4:43 PM.
</p></blockquote>
<!-- END CODE -->
<p>...and provide fair warning of how slowly time is elapsing.</p>
<!-- START CODE "c22472" -->
<a id="c22472"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22473" -->
<a id="c22473"></a><blockquote class="code"><p class="quoted">
Test me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22474" -->
<a id="c22474"></a><blockquote class="code"><p class="quoted">
Test more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex426.html#e426"><i>RB</i></a></div>
<div class="egpanel" id="example426">
<p>Suppose we want to have a train which, at fixed times, arrives at and leaves stations. It should be possible for the player to get on and off the train when it is stopped, but not while the train is in motion.</p>
<!-- START CODE "c22475" -->
<a id="c22475"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Empire[=0x0022=][=0x000A=][=0x000A=]The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.[=0x000A=][=0x000A=]The description of the Empire Builder is [=0x0022=]One of the (relatively) plush long-distance Amtrak trains. You[=0x0027=]re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.[=0x000A=][=0x000A=][if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if][=0x0022=][=0x000A=][=0x000A=]Instead of exiting when the player is in the Train:[=0x000A=][=0x0009=]if the station of the Train is the Train:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The train is not stopped at a station.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]move the player to the station of the train instead.[=0x000A=][=0x000A=]Before going outside when the player is in the Train:[=0x000A=][=0x0009=]try exiting instead.[=0x000A=][=0x000A=]Before going inside when the player is in the station of the Train:[=0x000A=][=0x0009=]move the player to the Train instead.[=0x000A=][=0x000A=]Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually [=0x0022=]The scenic train station of [the location][if the location is the station of the train].[=0x000A=][=0x000A=]The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].[=0x0022=][=0x000A=][=0x000A=][And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.][=0x000A=][=0x000A=]At 4:45 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train]![=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 5:10 PM:[=0x000A=][=0x0009=]now the station of the Train is Edmonds;[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls into Edmonds and comes to a stop.[=0x0022=][=0x000A=][=0x000A=]At 5:17 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train], running north along the shore towards Everett.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 5:39 PM:[=0x000A=][=0x0009=]now the station of the Train is Everett;[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.[=0x0022=][=0x000A=][=0x000A=]At 5:44 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train] and turns east.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=]At 8:39 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is Wenatchee.[=0x000A=][=0x000A=]At 8:44 PM:[=0x000A=][=0x0009=]if the player is in the train or the player is in the station of the train, say [=0x0022=]The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.[=0x0022=];[=0x000A=][=0x0009=]now the station of the Train is the Train.[=0x000A=][=0x000A=][Playing this out would of course require near inhuman patience. Let[=0x0027=]s set things up so that the player at least doesn[=0x0027=]t have to wait too long for his first departure:][=0x000A=][=0x000A=]The time of day is 4:43 PM.[=0x000A=][=0x000A=][...and provide fair warning of how slowly time is elapsing.][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=].[=0x000A=][=0x000A=]Test me with [=0x0022=]out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z[=0x0022=].[=0x000A=][=0x000A=]Test more with [=0x0022=]out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Empire&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22476" -->
<a id="c22476"></a><blockquote class="code"><p class="quoted">
The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22477" -->
<a id="c22477"></a><blockquote class="code"><p class="quoted">
The description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You're in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22478" -->
<a id="c22478"></a><blockquote class="code"><p class="quoted">
[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22479" -->
<a id="c22479"></a><blockquote class="code"><p class="quoted">
Instead of exiting when the player is in the Train:
<br />&#160;&#160;&#160;&#160;if the station of the Train is the Train:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The train is not stopped at a station.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the player to the station of the train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22480" -->
<a id="c22480"></a><blockquote class="code"><p class="quoted">
Before going outside when the player is in the Train:
<br />&#160;&#160;&#160;&#160;try exiting instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22481" -->
<a id="c22481"></a><blockquote class="code"><p class="quoted">
Before going inside when the player is in the station of the Train:
<br />&#160;&#160;&#160;&#160;move the player to the Train instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22482" -->
<a id="c22482"></a><blockquote class="code"><p class="quoted">
Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22483" -->
<a id="c22483"></a><blockquote class="code"><p class="quoted">
The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.</p>
<!-- START CODE "c22484" -->
<a id="c22484"></a><blockquote class="code"><p class="quoted">
At 4:45 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22485" -->
<a id="c22485"></a><blockquote class="code"><p class="quoted">
At 5:10 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Edmonds;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22486" -->
<a id="c22486"></a><blockquote class="code"><p class="quoted">
At 5:17 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22487" -->
<a id="c22487"></a><blockquote class="code"><p class="quoted">
At 5:39 PM:
<br />&#160;&#160;&#160;&#160;now the station of the Train is Everett;
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22488" -->
<a id="c22488"></a><blockquote class="code"><p class="quoted">
At 5:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22489" -->
<a id="c22489"></a><blockquote class="code"><p class="quoted">
At 8:39 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is Wenatchee.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22490" -->
<a id="c22490"></a><blockquote class="code"><p class="quoted">
At 8:44 PM:
<br />&#160;&#160;&#160;&#160;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;
<br />&#160;&#160;&#160;&#160;now the station of the Train is the Train.
</p></blockquote>
<!-- END CODE -->
<p>Playing this out would of course require near inhuman patience. Let's set things up so that the player at least doesn't have to wait too long for his first departure:</p>
<!-- START CODE "c22491" -->
<a id="c22491"></a><blockquote class="code"><p class="quoted">
The time of day is 4:43 PM.
</p></blockquote>
<!-- END CODE -->
<p>...and provide fair warning of how slowly time is elapsing.</p>
<!-- START CODE "c22492" -->
<a id="c22492"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22493" -->
<a id="c22493"></a><blockquote class="code"><p class="quoted">
Test me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22494" -->
<a id="c22494"></a><blockquote class="code"><p class="quoted">
Test more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<a id="e359"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex359.html#e359" class="eglink"><b>146</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex359.html#e359" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hour of the Wren</span></b></a><br />Allowing the player to make an appointment, which is then kept.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex359.html#e359"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
