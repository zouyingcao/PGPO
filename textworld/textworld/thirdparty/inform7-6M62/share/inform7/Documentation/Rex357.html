<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.2. Liquids</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง10.2. Liquids</p>
<p>Liquids are notoriously difficult to simulate well. A fully thorough approach consumes endless storage and can be very finicky to write and keep realistic. It is essential to decide what aspect of a liquid's behaviour is actually needed in a given story, and to simulate only that. For instance, if we only need a little chemistry, where a player can add (say) water to salt and make a solution, we do not want to fool around with calculating quantities or concentrations: what's important is that &quot;some water&quot; (amount unspecified) combines with &quot;some salt&quot; to produce &quot;some salty water&quot;. We should no more calculate precisely here than we would work out where all the furniture is to the nearest inch. Good advice for handling liquids is to simulate the least amount of realism possible, but no less.</p>
<p>Sometimes all we want is a down-in-one drink: we needn't simulate the actual liquid, just the bottle it comes in, and all we need is to handle the &quot;drinking&quot; action. See <span class="boldface">Beverage Service</span>, and also <span class="boldface">3 AM</span>, where carbonated drinks can be shaken - again simulating the vessel, not the liquid.</p>
<p>Some elementary biochemistry in <span class="boldface">Xylan</span> is done simply by... well, the point is that two different liquids are represented by single things each, and a chemical reaction simply switches one for the other.</p>
<p>In <span class="boldface">Frizz</span>, we allow any container to be filled with water (only) and we simulate what happens to any solid objects also inside: some waterproof, some not. <span class="boldface">Flotation</span> provides a well (always full of water), with rules to determine whether things dropped into it should sink or float.</p>
<p>Next we move up to quantitative approaches, where we remember not just whether a liquid is present, but how much of it. In its simplest form, we could have a drinking vessel from which we draw in sips, so that it can be full, half-empty or empty: see <span class="boldface">Thirst</span>.</p>
<p>The example with the best compromise between simulation quality and complexity is <span class="boldface">Lemonade</span>. Here we provide a kind of container called a &quot;fluid container&quot;, not just a single cup, and each such vessel has a given &quot;fluid capacity&quot;. Each holds only a single liquid at a time (so no mixtures) and can be empty or full to any level (rounded off to the nearest 0.1 fl oz). We can fill one vessel from another (unless it would make a mixture). But liquids leaving these vessels must be consumed - drunk or poured away without trace: we cannot make pools on the floor, or carry liquids in our cupped hands. There is no object representing &quot;lemonade&quot;: there are only fluid containers, but which can be called LEMONADE if that is what they now contain.</p>
<p><span class="boldface">Savannah</span> is a light elaboration of Lemonade, showing how liquids might be poured on other objects, as for instance to extinguish a fire.</p>
<p><span class="boldface">Noisy Cricket</span> extends <span class="boldface">Lemonade</span> to allow for mixing, though then the number of different possible mixtures is so large that complexity increases greatly. <span class="boldface">Lakeside Living</span> extends <span class="boldface">Lemonade</span> differently to add a &quot;liquid source&quot; kind, a form of fluid container which has infinite fluid capacity and is scenery - ideal for a lake, river or spring.</p>
<p class="crossreference"><a href="RB_9_2.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Bags, Bottles, Boxes and Safes</b></a><i> for stoppered bottles which could also be used for carrying liquids around in</i></p><p class="crossreference"><a href="RB_10_9.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Heat</b></a><i> for keeping liquids warm in insulated containers</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Back to ยง10.1. Gases</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_3.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_10_3.html" class="standardlink">Onward to ยง10.3. Dispensers and Supplies of Small Objects</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e118"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex118.html#e118" class="eglink"><b>117</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex118.html#e118" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Thirst</span></b></a><br />A waterskin that is depleted as the player drinks from it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex118.html#e118"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e439"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex439.html#e439" class="eglink"><b>123</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex439.html#e439" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Beverage Service</span></b></a><br />A potion that the player can drink.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex439.html#e439"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e149"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex149.html#e149" class="eglink"><b>403</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex149.html#e149" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Flotation</span></b></a><br />Objects that can sink or float in a well, depending on their own properties and the state of the surrounding environment.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex149.html#e149"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e354"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex354.html#e354" class="eglink"><b>288</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex354.html#e354" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Xylan</span></b></a><br />Creating a new command that does require an object to be named; and some comments about the choice of vocabulary, in general.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex354.html#e354"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e8"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex8.html#e8" class="eglink"><b>192</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex8.html#e8" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frizz</span></b></a><br />Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex8.html#e8"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e323"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex323.html#e323" class="eglink"><b>193</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex323.html#e323" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">3 AM</span></b></a><br />A shake command which agitates soda and makes items thump around in boxes.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex323.html#e323"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e58"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex58.html#e58" class="eglink"><b>266</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex58.html#e58" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Savannah</span></b></a><br />Using the liquid implementation demonstrated in Lemonade for putting out fires.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex58.html#e58"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e85"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex85.html#e85" class="eglink"><b>267</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex85.html#e85" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lemonade</span></b></a><br />Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex85.html#e85"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e357"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_10_2.html#e357" class="eglink"><b>276</b></a></div>
<div class="egpanel" id="example357">
<p>Our previous experiments into liquid have not dealt with the possibility of mixing components, but that is because for most games, tracking the details of mixture is overkill.</p>
<p>But let's suppose that this time we do want to have mixed liquids; moreover, we want a way to describe the mixtures to the player inventively, so that if he hits specific combinations those combinations are recognized: calling the result a martini, say, rather than just &quot;a mixture of vodka and vermouth&quot;.</p>
<p>The implementation that follows relies on a fairly simple idea from linear algebra. Any given liquid can be expressed as a vector in N-space, where N is the number of available ingredients and the length of the vector depends on how much of each ingredient is used; then we find the recipe that best describes the liquid by taking the dot product of our liquid vector with a bunch of sample vectors and selecting the one with the largest result.</p>
<p>If this does not make sense, don't worry: it's not necessary to understand the idea to use the code.</p>
<p>Any implementation involving a large number of place values is always a bit challenging in integer arithmetic. This examples assumes that no bodies of liquid will ever be very large, and that the proportions of ingredients in a mixture will not be vastly askew. (No 20-parts-to-1 proportions, for instance.) This probably works reasonably well for the cocktails that we make the basis of the example.</p>
<!-- START CODE "c34839" -->
<a id="c34839"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Noisy Cricket[=0x0022=][=0x000A=][=0x000A=]Part 1 - Volumes and Mixtures[=0x000A=][=0x000A=]A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).[=0x000A=][=0x000A=]A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called creme de menthe volume. A fluid container has a volume called vodka volume. A fluid container has a volume called cacao volume.[=0x000A=][=0x000A=]The fluid capacity of a fluid container is usually 12.0 fl oz. The creme de menthe volume of a fluid container is usually 0.0 fl oz. The vodka volume of a fluid container is usually 0.0 fl oz. The cacao volume of fluid container is usually 0.0 fl oz.[=0x000A=][=0x000A=]To decide what volume is the current volume of (item - a fluid container):[=0x000A=][=0x0009=]let total be the creme de menthe volume of the item;[=0x000A=][=0x0009=]increase total by the vodka volume of the item;[=0x000A=][=0x0009=]increase total by the cacao volume of the item;[=0x000A=][=0x0009=]decide on total.[=0x000A=][=0x000A=]Instead of examining a fluid container:[=0x000A=][=0x0009=]if the noun is empty,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You catch just a hint of [the nominal descriptor of the noun] at the bottom.[=0x0022=];[=0x000A=][=0x0009=]otherwise[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] contains [current volume of the noun in rough terms] of [adjectival descriptor of the noun] [nominal descriptor of the noun].[=0x0022=][=0x000A=][=0x000A=]Adjectival descriptor is a kind of value. The adjectival descriptors are strong, chocolatey, minty, perfect, and pure.[=0x000A=][=0x000A=]Nominal descriptor is a kind of value. The Nominal descriptors are creme de menthe, vodka, creme de cacao, grasshopper, chocolate vodka, mint vodka, chocolate martini, mintini, chocolate mint martini.[=0x000A=][=0x000A=][Our table of mixtures is expressed in parts: so if a recipe contains one part X and two parts Y, we would put [=0x0022=]1[=0x0022=] in the first column and [=0x0022=]2[=0x0022=] in the second column.][=0x000A=][=0x000A=]Table of Mixtures[=0x000A=]rating[=0x0009=]creme de menthe comp[=0x0009=]vodka comp[=0x0009=]cacao comp[=0x0009=]adjectival descriptor[=0x0009=]nominal descriptor[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]0[=0x0009=]0[=0x0009=]minty[=0x0009=]creme de menthe[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]1[=0x0009=]0[=0x0009=]chocolatey[=0x0009=]vodka[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]0[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]creme de cacao[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]2[=0x0009=]0[=0x0009=]chocolatey[=0x0009=]mintini[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]0[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]grasshopper[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]2[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]chocolate martini[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]3[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]chocolate vodka[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]3[=0x0009=]0[=0x0009=]chocolatey[=0x0009=]mint vodka[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]2[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]chocolate mint martini[=0x000A=][=0x000A=]A fluid container has an adjectival descriptor. A fluid container has a nominal descriptor. Understand the adjectival descriptor property as describing a fluid container. Understand the nominal descriptor property as describing a fluid container.[=0x000A=][=0x000A=]To decide what number is (quantity - a number) squared:[=0x000A=][=0x0009=]decide on quantity times quantity.[=0x000A=][=0x000A=]To score mixtures in (item - a fluid container):[=0x000A=][=0x0009=]repeat through Table of Mixtures:[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]now rating entry is total score;[=0x000A=][=0x0009=][=0x0009=]if total line parts is 1, now adjectival descriptor entry is pure;[=0x000A=][=0x0009=][=0x0009=]otherwise now adjectival descriptor entry is perfect;[=0x000A=][=0x0009=][=0x0009=][and for creme de menthe...][=0x000A=][=0x0009=][=0x0009=]now creme de menthe comp entry is creme de menthe comp entry plus 1;[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]if total score is greater than rating entry, now adjectival descriptor entry is minty;[=0x000A=][=0x0009=][=0x0009=]now creme de menthe comp entry is creme de menthe comp entry minus 1;[=0x000A=][=0x0009=][=0x0009=][and for vodka...][=0x000A=][=0x0009=][=0x0009=]now vodka comp entry is vodka comp entry plus 1;[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]if total score is greater than rating entry, now adjectival descriptor entry is strong;[=0x000A=][=0x0009=][=0x0009=]now vodka comp entry is vodka comp entry minus 1;[=0x000A=][=0x0009=][=0x0009=][and for cacao...][=0x000A=][=0x0009=][=0x0009=]now cacao comp entry is cacao comp entry plus 1;[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]if total score is greater than rating entry, now adjectival descriptor entry is chocolatey;[=0x000A=][=0x0009=][=0x0009=]now cacao comp entry is cacao comp entry minus 1.[=0x000A=][=0x000A=]To identify mixture in (item - a fluid container):[=0x000A=][=0x0009=]score mixtures in item;[=0x000A=][=0x0009=]sort Table of Mixtures in reverse rating order;[=0x000A=][=0x0009=]choose row 1 in Table of Mixtures;[=0x000A=][=0x0009=]now nominal descriptor of the item is nominal descriptor entry;[=0x000A=][=0x0009=]let sample vodka be vodka comp entry; [Now keep track of all these][=0x000A=][=0x0009=]let sample creme de menthe be creme de menthe comp entry;[=0x000A=][=0x0009=]let sample cacao be cacao comp entry;[=0x000A=][=0x0009=]if rating entry divided by 100 is the current volume of the item:[=0x000A=][=0x0009=][=0x0009=]now adjectival descriptor of the item is pure;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now adjectival descriptor of the item is adjectival descriptor entry.[=0x000A=][=0x000A=]To decide what number is the raw quantity of (item volume - a volume):[=0x000A=][=0x0009=]let raw be item volume divided by 0.5 fl oz;[=0x000A=][=0x0009=]decide on raw.[=0x000A=][=0x000A=]To decide what number is calibration for (total - a number):[=0x000A=][=0x0009=]if total is an initial listed in the table of Multipliers, decide on result entry;[=0x000A=][=0x0009=]decide on 21.[=0x000A=][=0x000A=][Here we cheat on our arithmetic. The following chart just provides values corresponding roughly to 1/(sqrt (x)), but since Inform does not deal very gracefully with square roots or fractions, we will calculate this elsewhere and just supply the answers in the code:][=0x000A=][=0x000A=]Table of Multipliers[=0x000A=]initial[=0x0009=]result[=0x000A=]1[=0x0009=]100[=0x000A=]2[=0x0009=]71[=0x000A=]3[=0x0009=]57[=0x000A=]4[=0x0009=]50[=0x000A=]5[=0x0009=]44[=0x000A=]6[=0x0009=]41[=0x000A=]7[=0x0009=]38[=0x000A=]8[=0x0009=]35[=0x000A=]9[=0x0009=]33[=0x000A=]10[=0x0009=]31[=0x000A=]11[=0x0009=]30[=0x000A=]12[=0x0009=]29[=0x000A=]13[=0x0009=]28[=0x000A=]14[=0x0009=]27[=0x000A=]15[=0x0009=]26[=0x000A=]16[=0x0009=]25[=0x000A=]17[=0x0009=]24[=0x000A=]18[=0x0009=]24[=0x000A=]19[=0x0009=]23[=0x000A=]20[=0x0009=]22[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]repeat with item running through fluid containers:[=0x000A=][=0x0009=][=0x0009=]identify mixture in item.[=0x000A=][=0x000A=]To say (amount - a volume) in rough terms:[=0x000A=][=0x0009=]if the amount is less than 0.6 fl oz:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]half an ounce or less[=0x0022=];[=0x000A=][=0x0009=]otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:[=0x000A=][=0x0009=][=0x0009=]let estimate be ounces part of amount;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][estimate in words] or [estimate plus 1 in words] fluid ounces[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]about [ounces part of amount in words] fluid ounce[s][=0x0022=].[=0x000A=][=0x000A=]Before printing the name of a fluid container (called the target) while not drinking or pouring:[=0x000A=][=0x0009=]if the target is empty:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]empty [=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]do nothing.[=0x000A=][=0x000A=]After printing the name of a fluid container (called the target) while not examining or pouring:[=0x000A=][=0x0009=]unless the target is empty:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] of [adjectival descriptor of the target] [nominal descriptor of the target][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]omit contents in listing.[=0x000A=][=0x000A=]Instead of inserting something into a fluid container:[=0x000A=][=0x0009=]say [=0x0022=][The second noun] has too narrow a mouth to accept anything but liquids.[=0x0022=][=0x000A=][=0x000A=]Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.[=0x000A=][=0x000A=]Understand [=0x0022=]drink from [fluid container][=0x0022=] as drinking.[=0x000A=][=0x000A=]Instead of drinking a fluid container:[=0x000A=][=0x0009=]if the noun is empty:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]There is no more [nominal descriptor of the noun] within.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]let cacao loss be the consumed cacao of the noun out of sip volume;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe loss be the consumed creme de menthe of the noun out of sip volume;[=0x000A=][=0x0009=][=0x0009=]let vodka loss be the consumed vodka of the noun out of sip volume;[=0x000A=][=0x0009=][=0x0009=]decrease the cacao volume of the noun by the cacao loss;[=0x000A=][=0x0009=][=0x0009=]decrease the creme de menthe volume of the noun by creme de menthe loss;[=0x000A=][=0x0009=][=0x0009=]decrease the vodka volume of the noun by vodka loss;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You take a sip of [the nominal descriptor of the noun][if the noun is empty], leaving [the noun] empty[end if].[=0x0022=].[=0x000A=][=0x000A=]Sip volume is a volume that varies. Sip volume is 0.5 fl oz.[=0x000A=][=0x000A=]To decide what volume is the consumed cacao of (item - a fluid container) out of (total consumption - a volume):[=0x000A=][=0x0009=]let new volume be the cacao volume of the item times 100;[=0x000A=][=0x0009=]let percentage be the new volume divided by the current volume of the item;[=0x000A=][=0x0009=]let consumed volume be the percentage times total consumption;[=0x000A=][=0x0009=]let consumed volume be consumed volume divided by 100;[=0x000A=][=0x0009=]if consumed volume is greater than the cacao volume of the item, decide on the cacao volume of the item;[=0x000A=][=0x0009=]decide on consumed volume.[=0x000A=][=0x000A=]To decide what volume is the consumed creme de menthe of (item - a fluid container) out of (total consumption - a volume):[=0x000A=][=0x0009=]let new volume be the creme de menthe volume of the item times 100;[=0x000A=][=0x0009=]let percentage be the new volume divided by the current volume of the item;[=0x000A=][=0x0009=]let consumed volume be the percentage times total consumption;[=0x000A=][=0x0009=]let consumed volume be consumed volume divided by 100;[=0x000A=][=0x0009=]if consumed volume is greater than the creme de menthe volume of the item, decide on the creme de menthe volume of the item;[=0x000A=][=0x0009=]decide on consumed volume.[=0x000A=][=0x000A=]To decide what volume is the consumed vodka of (item - a fluid container) out of (total consumption - a volume):[=0x000A=][=0x0009=]let new volume be the vodka volume of the item times 100;[=0x000A=][=0x0009=]let percentage be the new volume divided by the current volume of the item;[=0x000A=][=0x0009=]let consumed volume be the percentage times total consumption;[=0x000A=][=0x0009=]let consumed volume be consumed volume divided by 100;[=0x000A=][=0x0009=]if consumed volume is greater than the vodka volume of the item, decide on the vodka volume of the item;[=0x000A=][=0x0009=]decide on consumed volume.[=0x000A=][=0x000A=]Part 2 - Filling[=0x000A=][=0x000A=]Understand the command [=0x0022=]fill[=0x0022=] as something new.[=0x000A=][=0x000A=]Understand [=0x0022=]fill [something] with/from [something][=0x0022=] as filling it with.[=0x000A=][=0x000A=]Filling it with is an action applying to two things. Carry out filling it with: try pouring the second noun into the noun instead.[=0x000A=][=0x000A=]Understand [=0x0022=]pour [fluid container] in/into/on/onto [fluid container][=0x0022=] as pouring it into. Understand [=0x0022=]empty [fluid container] into [fluid container][=0x0022=] as pouring it into.[=0x000A=][=0x000A=]Understand [=0x0022=]pour [something] in/into/on/onto [something][=0x0022=] as pouring it into. Understand [=0x0022=]empty [something] into [something][=0x0022=] as pouring it into.[=0x000A=][=0x000A=]Pouring it into is an action applying to two things.[=0x000A=][=0x000A=]Check pouring it into:[=0x000A=][=0x0009=]if the noun is not a fluid container, say [=0x0022=]You can[=0x0027=]t pour [the noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not a fluid container, say [=0x0022=]You can[=0x0027=]t pour liquids into [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is the second noun, say [=0x0022=]You can hardly pour [the noun] into itself.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is empty, say [=0x0022=]No more [nominal descriptor of the noun] remains in [the noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is full, say [=0x0022=][The second noun] cannot contain any more than it already holds.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out pouring it into:[=0x000A=][=0x0009=]let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;[=0x000A=][=0x0009=]if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;[=0x000A=][=0x0009=]let cacao loss be the consumed cacao of the noun out of available capacity;[=0x000A=][=0x0009=]let creme de menthe loss be the consumed creme de menthe of the noun out of available capacity;[=0x000A=][=0x0009=]let vodka loss be the consumed vodka of the noun out of available capacity;[=0x000A=][=0x0009=]decrease the cacao volume of the noun by the cacao loss;[=0x000A=][=0x0009=]decrease the creme de menthe volume of the noun by creme de menthe loss;[=0x000A=][=0x0009=]decrease the vodka volume of the noun by vodka loss;[=0x000A=][=0x0009=]increase the cacao volume of the second noun by the cacao loss;[=0x000A=][=0x0009=]increase the creme de menthe volume of the second noun by creme de menthe loss;[=0x000A=][=0x0009=]increase the vodka volume of the second noun by vodka loss.[=0x000A=][=0x000A=]Report pouring it into:[=0x000A=][=0x0009=]identify mixture in noun;[=0x000A=][=0x0009=]identify mixture in second noun;[=0x000A=][=0x0009=]say [=0x0022=][if the noun is empty][The noun] is now empty; [otherwise][The noun] now contains [current volume of the noun in rough terms] of [nominal descriptor of the noun]; [end if][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=][the second noun] contains [current volume of the second noun in rough terms] of [adjectival descriptor of the second noun] [nominal descriptor of the second noun][if the second noun is full], and is now full[end if].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]of[=0x0022=] as a fluid container.[=0x000A=][=0x000A=]Part 3 - Scenario[=0x000A=][=0x000A=]When play begins: say [=0x0022=]When you decided to try Mixology WS102 (*cross-listed with Women[=0x0027=]s Studies), you envisioned yourself writing essays about gender discrimination during the Prohibition, say, or reading essays on male vs. female metabolism of alcohol. But no: MxWS102 turns out to be about... mixing the perfect chocolate mint martini.[=0x0022=][=0x000A=][=0x000A=]The College of Mixology is a room. The bar is a supporter in the college.[=0x000A=][=0x000A=]The cocktail glass is a fluid container carried by the player. The fluid capacity of the cocktail glass is 4.0 fl oz.[=0x000A=][=0x000A=]The flask is a fluid container carried by the player. The vodka volume of the flask is 4.0 fl oz.[=0x000A=][=0x000A=]The jigger is a fluid container carried by the player. The fluid capacity of the jigger is 1.0 fl oz.[=0x000A=][=0x000A=]The small measure is a fluid container carried by the player. The fluid capacity of the small measure is 0.5 fl oz.[=0x000A=][=0x000A=]The decanter is a fluid container on the bar. The fluid capacity of the decanter is 32.0 fl oz. The creme de menthe volume of the decanter is 20.0 fl oz.[=0x000A=][=0x000A=]The bottle is a fluid container carried by the player. The cacao volume of the bottle is 10.0 fl oz.[=0x000A=][=0x000A=]Test me with [=0x0022=]i / pour flask in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour decanter in jigger / pour jigger in glass / drink glass / g / g / x glass / pour flask in glass[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Noisy Cricket&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34840" -->
<a id="c34840"></a><blockquote class="code"><p class="quoted">
Part 1 - Volumes and Mixtures
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34841" -->
<a id="c34841"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34842" -->
<a id="c34842"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called creme de menthe volume. A fluid container has a volume called vodka volume. A fluid container has a volume called cacao volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34843" -->
<a id="c34843"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The creme de menthe volume of a fluid container is usually 0.0 fl oz. The vodka volume of a fluid container is usually 0.0 fl oz. The cacao volume of fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34844" -->
<a id="c34844"></a><blockquote class="code"><p class="quoted">
To decide what volume is the current volume of (item - a fluid container):
<br />&#160;&#160;&#160;&#160;let total be the creme de menthe volume of the item;
<br />&#160;&#160;&#160;&#160;increase total by the vodka volume of the item;
<br />&#160;&#160;&#160;&#160;increase total by the cacao volume of the item;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34845" -->
<a id="c34845"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the nominal descriptor of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [adjectival descriptor of the noun] [nominal descriptor of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34846" -->
<a id="c34846"></a><blockquote class="code"><p class="quoted">
Adjectival descriptor is a kind of value. The adjectival descriptors are strong, chocolatey, minty, perfect, and pure.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34847" -->
<a id="c34847"></a><blockquote class="code"><p class="quoted">
Nominal descriptor is a kind of value. The Nominal descriptors are creme de menthe, vodka, creme de cacao, grasshopper, chocolate vodka, mint vodka, chocolate martini, mintini, chocolate mint martini.
</p></blockquote>
<!-- END CODE -->
<p>Our table of mixtures is expressed in parts: so if a recipe contains one part X and two parts Y, we would put &quot;1&quot; in the first column and &quot;2&quot; in the second column.</p>
<!-- START CODE "c34848" -->
<a id="c34848"></a><blockquote class="code"><p class="quoted">
Table of Mixtures
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">rating</p></td><td class="quotedtablecell"><p class="quoted">creme de menthe comp</p></td><td class="quotedtablecell"><p class="quoted">vodka comp</p></td><td class="quotedtablecell"><p class="quoted">cacao comp</p></td><td class="quotedtablecell"><p class="quoted">adjectival descriptor</p></td><td class="quotedtablecell"><p class="quoted">nominal descriptor</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">minty</p></td><td class="quotedtablecell"><p class="quoted">creme de menthe</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">creme de cacao</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">mintini</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">grasshopper</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate martini</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">mint vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate mint martini</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34849" -->
<a id="c34849"></a><blockquote class="code"><p class="quoted">
A fluid container has an adjectival descriptor. A fluid container has a nominal descriptor. Understand the adjectival descriptor property as describing a fluid container. Understand the nominal descriptor property as describing a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34850" -->
<a id="c34850"></a><blockquote class="code"><p class="quoted">
To decide what number is (quantity - a number) squared:
<br />&#160;&#160;&#160;&#160;decide on quantity times quantity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34851" -->
<a id="c34851"></a><blockquote class="code"><p class="quoted">
To score mixtures in (item - a fluid container):
<br />&#160;&#160;&#160;&#160;repeat through Table of Mixtures:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rating entry is total score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total line parts is 1, now adjectival descriptor entry is pure;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now adjectival descriptor entry is perfect;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for creme de menthe...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now creme de menthe comp entry is creme de menthe comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is minty;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now creme de menthe comp entry is creme de menthe comp entry minus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for vodka...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now vodka comp entry is vodka comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is strong;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now vodka comp entry is vodka comp entry minus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for cacao...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now cacao comp entry is cacao comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is chocolatey;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now cacao comp entry is cacao comp entry minus 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34852" -->
<a id="c34852"></a><blockquote class="code"><p class="quoted">
To identify mixture in (item - a fluid container):
<br />&#160;&#160;&#160;&#160;score mixtures in item;
<br />&#160;&#160;&#160;&#160;sort Table of Mixtures in reverse rating order;
<br />&#160;&#160;&#160;&#160;choose row 1 in Table of Mixtures;
<br />&#160;&#160;&#160;&#160;now nominal descriptor of the item is nominal descriptor entry;
<br />&#160;&#160;&#160;&#160;let sample vodka be vodka comp entry; [Now keep track of all these]
<br />&#160;&#160;&#160;&#160;let sample creme de menthe be creme de menthe comp entry;
<br />&#160;&#160;&#160;&#160;let sample cacao be cacao comp entry;
<br />&#160;&#160;&#160;&#160;if rating entry divided by 100 is the current volume of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now adjectival descriptor of the item is pure;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now adjectival descriptor of the item is adjectival descriptor entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34853" -->
<a id="c34853"></a><blockquote class="code"><p class="quoted">
To decide what number is the raw quantity of (item volume - a volume):
<br />&#160;&#160;&#160;&#160;let raw be item volume divided by 0.5 fl oz;
<br />&#160;&#160;&#160;&#160;decide on raw.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34854" -->
<a id="c34854"></a><blockquote class="code"><p class="quoted">
To decide what number is calibration for (total - a number):
<br />&#160;&#160;&#160;&#160;if total is an initial listed in the table of Multipliers, decide on result entry;
<br />&#160;&#160;&#160;&#160;decide on 21.
</p></blockquote>
<!-- END CODE -->
<p>Here we cheat on our arithmetic. The following chart just provides values corresponding roughly to 1/(sqrt (x)), but since Inform does not deal very gracefully with square roots or fractions, we will calculate this elsewhere and just supply the answers in the code:</p>
<!-- START CODE "c34855" -->
<a id="c34855"></a><blockquote class="code"><p class="quoted">
Table of Multipliers
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">initial</p></td><td class="quotedtablecell"><p class="quoted">result</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">100</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">71</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">57</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">50</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">44</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">41</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">7</p></td><td class="quotedtablecell"><p class="quoted">38</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8</p></td><td class="quotedtablecell"><p class="quoted">35</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">9</p></td><td class="quotedtablecell"><p class="quoted">33</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">10</p></td><td class="quotedtablecell"><p class="quoted">31</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11</p></td><td class="quotedtablecell"><p class="quoted">30</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">29</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">28</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">14</p></td><td class="quotedtablecell"><p class="quoted">27</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">15</p></td><td class="quotedtablecell"><p class="quoted">26</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">16</p></td><td class="quotedtablecell"><p class="quoted">25</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">17</p></td><td class="quotedtablecell"><p class="quoted">24</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">18</p></td><td class="quotedtablecell"><p class="quoted">24</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">19</p></td><td class="quotedtablecell"><p class="quoted">23</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">20</p></td><td class="quotedtablecell"><p class="quoted">22</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34856" -->
<a id="c34856"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with item running through fluid containers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;identify mixture in item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34857" -->
<a id="c34857"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.6 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;half an ounce or less&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34858" -->
<a id="c34858"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking or pouring:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34859" -->
<a id="c34859"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining or pouring:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [adjectival descriptor of the target] [nominal descriptor of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34860" -->
<a id="c34860"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34861" -->
<a id="c34861"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34862" -->
<a id="c34862"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34863" -->
<a id="c34863"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [nominal descriptor of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao loss be the consumed cacao of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe loss be the consumed creme de menthe of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka loss be the consumed vodka of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the cacao volume of the noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the creme de menthe volume of the noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the vodka volume of the noun by vodka loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the nominal descriptor of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34864" -->
<a id="c34864"></a><blockquote class="code"><p class="quoted">
Sip volume is a volume that varies. Sip volume is 0.5 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34865" -->
<a id="c34865"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed cacao of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the cacao volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the cacao volume of the item, decide on the cacao volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34866" -->
<a id="c34866"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed creme de menthe of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the creme de menthe volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the creme de menthe volume of the item, decide on the creme de menthe volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34867" -->
<a id="c34867"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed vodka of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the vodka volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the vodka volume of the item, decide on the vodka volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34868" -->
<a id="c34868"></a><blockquote class="code"><p class="quoted">
Part 2 - Filling
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34869" -->
<a id="c34869"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34870" -->
<a id="c34870"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [something] with/from [something]&quot; as filling it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34871" -->
<a id="c34871"></a><blockquote class="code"><p class="quoted">
Filling it with is an action applying to two things. Carry out filling it with: try pouring the second noun into the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34872" -->
<a id="c34872"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34873" -->
<a id="c34873"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34874" -->
<a id="c34874"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34875" -->
<a id="c34875"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [nominal descriptor of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34876" -->
<a id="c34876"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;let cacao loss be the consumed cacao of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;let creme de menthe loss be the consumed creme de menthe of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;let vodka loss be the consumed vodka of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;decrease the cacao volume of the noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;decrease the creme de menthe volume of the noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;decrease the vodka volume of the noun by vodka loss;
<br />&#160;&#160;&#160;&#160;increase the cacao volume of the second noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;increase the creme de menthe volume of the second noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;increase the vodka volume of the second noun by vodka loss.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34877" -->
<a id="c34877"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;identify mixture in noun;
<br />&#160;&#160;&#160;&#160;identify mixture in second noun;
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty; [otherwise][The noun] now contains [current volume of the noun in rough terms] of [nominal descriptor of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [adjectival descriptor of the second noun] [nominal descriptor of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34878" -->
<a id="c34878"></a><blockquote class="code"><p class="quoted">
Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34879" -->
<a id="c34879"></a><blockquote class="code"><p class="quoted">
Part 3 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34880" -->
<a id="c34880"></a><blockquote class="code"><p class="quoted">
When play begins: say &quot;When you decided to try Mixology WS102 (*cross-listed with Women's Studies), you envisioned yourself writing essays about gender discrimination during the Prohibition, say, or reading essays on male vs. female metabolism of alcohol. But no: MxWS102 turns out to be about... mixing the perfect chocolate mint martini.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34881" -->
<a id="c34881"></a><blockquote class="code"><p class="quoted">
The College of Mixology is a room. The bar is a supporter in the college.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34882" -->
<a id="c34882"></a><blockquote class="code"><p class="quoted">
The cocktail glass is a fluid container carried by the player. The fluid capacity of the cocktail glass is 4.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34883" -->
<a id="c34883"></a><blockquote class="code"><p class="quoted">
The flask is a fluid container carried by the player. The vodka volume of the flask is 4.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34884" -->
<a id="c34884"></a><blockquote class="code"><p class="quoted">
The jigger is a fluid container carried by the player. The fluid capacity of the jigger is 1.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34885" -->
<a id="c34885"></a><blockquote class="code"><p class="quoted">
The small measure is a fluid container carried by the player. The fluid capacity of the small measure is 0.5 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34886" -->
<a id="c34886"></a><blockquote class="code"><p class="quoted">
The decanter is a fluid container on the bar. The fluid capacity of the decanter is 32.0 fl oz. The creme de menthe volume of the decanter is 20.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34887" -->
<a id="c34887"></a><blockquote class="code"><p class="quoted">
The bottle is a fluid container carried by the player. The cacao volume of the bottle is 10.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34888" -->
<a id="c34888"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / pour flask in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour decanter in jigger / pour jigger in glass / drink glass / g / g / x glass / pour flask in glass&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10_2.html#e357" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Noisy Cricket</span></b></a><br />Implementing liquids that can be mixed, and the components automatically recognized as matching one recipe or another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example357">
<p>Our previous experiments into liquid have not dealt with the possibility of mixing components, but that is because for most games, tracking the details of mixture is overkill.</p>
<p>But let's suppose that this time we do want to have mixed liquids; moreover, we want a way to describe the mixtures to the player inventively, so that if he hits specific combinations those combinations are recognized: calling the result a martini, say, rather than just &quot;a mixture of vodka and vermouth&quot;.</p>
<p>The implementation that follows relies on a fairly simple idea from linear algebra. Any given liquid can be expressed as a vector in N-space, where N is the number of available ingredients and the length of the vector depends on how much of each ingredient is used; then we find the recipe that best describes the liquid by taking the dot product of our liquid vector with a bunch of sample vectors and selecting the one with the largest result.</p>
<p>If this does not make sense, don't worry: it's not necessary to understand the idea to use the code.</p>
<p>Any implementation involving a large number of place values is always a bit challenging in integer arithmetic. This examples assumes that no bodies of liquid will ever be very large, and that the proportions of ingredients in a mixture will not be vastly askew. (No 20-parts-to-1 proportions, for instance.) This probably works reasonably well for the cocktails that we make the basis of the example.</p>
<!-- START CODE "c34889" -->
<a id="c34889"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Noisy Cricket[=0x0022=][=0x000A=][=0x000A=]Part 1 - Volumes and Mixtures[=0x000A=][=0x000A=]A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).[=0x000A=][=0x000A=]A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called creme de menthe volume. A fluid container has a volume called vodka volume. A fluid container has a volume called cacao volume.[=0x000A=][=0x000A=]The fluid capacity of a fluid container is usually 12.0 fl oz. The creme de menthe volume of a fluid container is usually 0.0 fl oz. The vodka volume of a fluid container is usually 0.0 fl oz. The cacao volume of fluid container is usually 0.0 fl oz.[=0x000A=][=0x000A=]To decide what volume is the current volume of (item - a fluid container):[=0x000A=][=0x0009=]let total be the creme de menthe volume of the item;[=0x000A=][=0x0009=]increase total by the vodka volume of the item;[=0x000A=][=0x0009=]increase total by the cacao volume of the item;[=0x000A=][=0x0009=]decide on total.[=0x000A=][=0x000A=]Instead of examining a fluid container:[=0x000A=][=0x0009=]if the noun is empty,[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You catch just a hint of [the nominal descriptor of the noun] at the bottom.[=0x0022=];[=0x000A=][=0x0009=]otherwise[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][The noun] contains [current volume of the noun in rough terms] of [adjectival descriptor of the noun] [nominal descriptor of the noun].[=0x0022=][=0x000A=][=0x000A=]Adjectival descriptor is a kind of value. The adjectival descriptors are strong, chocolatey, minty, perfect, and pure.[=0x000A=][=0x000A=]Nominal descriptor is a kind of value. The Nominal descriptors are creme de menthe, vodka, creme de cacao, grasshopper, chocolate vodka, mint vodka, chocolate martini, mintini, chocolate mint martini.[=0x000A=][=0x000A=][Our table of mixtures is expressed in parts: so if a recipe contains one part X and two parts Y, we would put [=0x0022=]1[=0x0022=] in the first column and [=0x0022=]2[=0x0022=] in the second column.][=0x000A=][=0x000A=]Table of Mixtures[=0x000A=]rating[=0x0009=]creme de menthe comp[=0x0009=]vodka comp[=0x0009=]cacao comp[=0x0009=]adjectival descriptor[=0x0009=]nominal descriptor[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]0[=0x0009=]0[=0x0009=]minty[=0x0009=]creme de menthe[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]1[=0x0009=]0[=0x0009=]chocolatey[=0x0009=]vodka[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]0[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]creme de cacao[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]2[=0x0009=]0[=0x0009=]chocolatey[=0x0009=]mintini[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]0[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]grasshopper[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]2[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]chocolate martini[=0x000A=]0.0 fl oz[=0x0009=]0[=0x0009=]3[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]chocolate vodka[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]3[=0x0009=]0[=0x0009=]chocolatey[=0x0009=]mint vodka[=0x000A=]0.0 fl oz[=0x0009=]1[=0x0009=]2[=0x0009=]1[=0x0009=]chocolatey[=0x0009=]chocolate mint martini[=0x000A=][=0x000A=]A fluid container has an adjectival descriptor. A fluid container has a nominal descriptor. Understand the adjectival descriptor property as describing a fluid container. Understand the nominal descriptor property as describing a fluid container.[=0x000A=][=0x000A=]To decide what number is (quantity - a number) squared:[=0x000A=][=0x0009=]decide on quantity times quantity.[=0x000A=][=0x000A=]To score mixtures in (item - a fluid container):[=0x000A=][=0x0009=]repeat through Table of Mixtures:[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]now rating entry is total score;[=0x000A=][=0x0009=][=0x0009=]if total line parts is 1, now adjectival descriptor entry is pure;[=0x000A=][=0x0009=][=0x0009=]otherwise now adjectival descriptor entry is perfect;[=0x000A=][=0x0009=][=0x0009=][and for creme de menthe...][=0x000A=][=0x0009=][=0x0009=]now creme de menthe comp entry is creme de menthe comp entry plus 1;[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]if total score is greater than rating entry, now adjectival descriptor entry is minty;[=0x000A=][=0x0009=][=0x0009=]now creme de menthe comp entry is creme de menthe comp entry minus 1;[=0x000A=][=0x0009=][=0x0009=][and for vodka...][=0x000A=][=0x0009=][=0x0009=]now vodka comp entry is vodka comp entry plus 1;[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]if total score is greater than rating entry, now adjectival descriptor entry is strong;[=0x000A=][=0x0009=][=0x0009=]now vodka comp entry is vodka comp entry minus 1;[=0x000A=][=0x0009=][=0x0009=][and for cacao...][=0x000A=][=0x0009=][=0x0009=]now cacao comp entry is cacao comp entry plus 1;[=0x000A=][=0x0009=][=0x0009=]let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let total line parts be total line parts plus cacao comp entry squared;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;[=0x000A=][=0x0009=][=0x0009=]let vodka score be vodka comp entry times the vodka volume of item;[=0x000A=][=0x0009=][=0x0009=]let cacao score be cacao comp entry times the cacao volume of item;[=0x000A=][=0x0009=][=0x0009=]let total score be creme de menthe score plus vodka score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score plus cacao score;[=0x000A=][=0x0009=][=0x0009=]let total score be total score times calibration for total line parts;[=0x000A=][=0x0009=][=0x0009=]if total score is greater than rating entry, now adjectival descriptor entry is chocolatey;[=0x000A=][=0x0009=][=0x0009=]now cacao comp entry is cacao comp entry minus 1.[=0x000A=][=0x000A=]To identify mixture in (item - a fluid container):[=0x000A=][=0x0009=]score mixtures in item;[=0x000A=][=0x0009=]sort Table of Mixtures in reverse rating order;[=0x000A=][=0x0009=]choose row 1 in Table of Mixtures;[=0x000A=][=0x0009=]now nominal descriptor of the item is nominal descriptor entry;[=0x000A=][=0x0009=]let sample vodka be vodka comp entry; [Now keep track of all these][=0x000A=][=0x0009=]let sample creme de menthe be creme de menthe comp entry;[=0x000A=][=0x0009=]let sample cacao be cacao comp entry;[=0x000A=][=0x0009=]if rating entry divided by 100 is the current volume of the item:[=0x000A=][=0x0009=][=0x0009=]now adjectival descriptor of the item is pure;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now adjectival descriptor of the item is adjectival descriptor entry.[=0x000A=][=0x000A=]To decide what number is the raw quantity of (item volume - a volume):[=0x000A=][=0x0009=]let raw be item volume divided by 0.5 fl oz;[=0x000A=][=0x0009=]decide on raw.[=0x000A=][=0x000A=]To decide what number is calibration for (total - a number):[=0x000A=][=0x0009=]if total is an initial listed in the table of Multipliers, decide on result entry;[=0x000A=][=0x0009=]decide on 21.[=0x000A=][=0x000A=][Here we cheat on our arithmetic. The following chart just provides values corresponding roughly to 1/(sqrt (x)), but since Inform does not deal very gracefully with square roots or fractions, we will calculate this elsewhere and just supply the answers in the code:][=0x000A=][=0x000A=]Table of Multipliers[=0x000A=]initial[=0x0009=]result[=0x000A=]1[=0x0009=]100[=0x000A=]2[=0x0009=]71[=0x000A=]3[=0x0009=]57[=0x000A=]4[=0x0009=]50[=0x000A=]5[=0x0009=]44[=0x000A=]6[=0x0009=]41[=0x000A=]7[=0x0009=]38[=0x000A=]8[=0x0009=]35[=0x000A=]9[=0x0009=]33[=0x000A=]10[=0x0009=]31[=0x000A=]11[=0x0009=]30[=0x000A=]12[=0x0009=]29[=0x000A=]13[=0x0009=]28[=0x000A=]14[=0x0009=]27[=0x000A=]15[=0x0009=]26[=0x000A=]16[=0x0009=]25[=0x000A=]17[=0x0009=]24[=0x000A=]18[=0x0009=]24[=0x000A=]19[=0x0009=]23[=0x000A=]20[=0x0009=]22[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]repeat with item running through fluid containers:[=0x000A=][=0x0009=][=0x0009=]identify mixture in item.[=0x000A=][=0x000A=]To say (amount - a volume) in rough terms:[=0x000A=][=0x0009=]if the amount is less than 0.6 fl oz:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]half an ounce or less[=0x0022=];[=0x000A=][=0x0009=]otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:[=0x000A=][=0x0009=][=0x0009=]let estimate be ounces part of amount;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][estimate in words] or [estimate plus 1 in words] fluid ounces[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]about [ounces part of amount in words] fluid ounce[s][=0x0022=].[=0x000A=][=0x000A=]Before printing the name of a fluid container (called the target) while not drinking or pouring:[=0x000A=][=0x0009=]if the target is empty:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]empty [=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]do nothing.[=0x000A=][=0x000A=]After printing the name of a fluid container (called the target) while not examining or pouring:[=0x000A=][=0x0009=]unless the target is empty:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] of [adjectival descriptor of the target] [nominal descriptor of the target][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]omit contents in listing.[=0x000A=][=0x000A=]Instead of inserting something into a fluid container:[=0x000A=][=0x0009=]say [=0x0022=][The second noun] has too narrow a mouth to accept anything but liquids.[=0x0022=][=0x000A=][=0x000A=]Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.[=0x000A=][=0x000A=]Understand [=0x0022=]drink from [fluid container][=0x0022=] as drinking.[=0x000A=][=0x000A=]Instead of drinking a fluid container:[=0x000A=][=0x0009=]if the noun is empty:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]There is no more [nominal descriptor of the noun] within.[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]let cacao loss be the consumed cacao of the noun out of sip volume;[=0x000A=][=0x0009=][=0x0009=]let creme de menthe loss be the consumed creme de menthe of the noun out of sip volume;[=0x000A=][=0x0009=][=0x0009=]let vodka loss be the consumed vodka of the noun out of sip volume;[=0x000A=][=0x0009=][=0x0009=]decrease the cacao volume of the noun by the cacao loss;[=0x000A=][=0x0009=][=0x0009=]decrease the creme de menthe volume of the noun by creme de menthe loss;[=0x000A=][=0x0009=][=0x0009=]decrease the vodka volume of the noun by vodka loss;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You take a sip of [the nominal descriptor of the noun][if the noun is empty], leaving [the noun] empty[end if].[=0x0022=].[=0x000A=][=0x000A=]Sip volume is a volume that varies. Sip volume is 0.5 fl oz.[=0x000A=][=0x000A=]To decide what volume is the consumed cacao of (item - a fluid container) out of (total consumption - a volume):[=0x000A=][=0x0009=]let new volume be the cacao volume of the item times 100;[=0x000A=][=0x0009=]let percentage be the new volume divided by the current volume of the item;[=0x000A=][=0x0009=]let consumed volume be the percentage times total consumption;[=0x000A=][=0x0009=]let consumed volume be consumed volume divided by 100;[=0x000A=][=0x0009=]if consumed volume is greater than the cacao volume of the item, decide on the cacao volume of the item;[=0x000A=][=0x0009=]decide on consumed volume.[=0x000A=][=0x000A=]To decide what volume is the consumed creme de menthe of (item - a fluid container) out of (total consumption - a volume):[=0x000A=][=0x0009=]let new volume be the creme de menthe volume of the item times 100;[=0x000A=][=0x0009=]let percentage be the new volume divided by the current volume of the item;[=0x000A=][=0x0009=]let consumed volume be the percentage times total consumption;[=0x000A=][=0x0009=]let consumed volume be consumed volume divided by 100;[=0x000A=][=0x0009=]if consumed volume is greater than the creme de menthe volume of the item, decide on the creme de menthe volume of the item;[=0x000A=][=0x0009=]decide on consumed volume.[=0x000A=][=0x000A=]To decide what volume is the consumed vodka of (item - a fluid container) out of (total consumption - a volume):[=0x000A=][=0x0009=]let new volume be the vodka volume of the item times 100;[=0x000A=][=0x0009=]let percentage be the new volume divided by the current volume of the item;[=0x000A=][=0x0009=]let consumed volume be the percentage times total consumption;[=0x000A=][=0x0009=]let consumed volume be consumed volume divided by 100;[=0x000A=][=0x0009=]if consumed volume is greater than the vodka volume of the item, decide on the vodka volume of the item;[=0x000A=][=0x0009=]decide on consumed volume.[=0x000A=][=0x000A=]Part 2 - Filling[=0x000A=][=0x000A=]Understand the command [=0x0022=]fill[=0x0022=] as something new.[=0x000A=][=0x000A=]Understand [=0x0022=]fill [something] with/from [something][=0x0022=] as filling it with.[=0x000A=][=0x000A=]Filling it with is an action applying to two things. Carry out filling it with: try pouring the second noun into the noun instead.[=0x000A=][=0x000A=]Understand [=0x0022=]pour [fluid container] in/into/on/onto [fluid container][=0x0022=] as pouring it into. Understand [=0x0022=]empty [fluid container] into [fluid container][=0x0022=] as pouring it into.[=0x000A=][=0x000A=]Understand [=0x0022=]pour [something] in/into/on/onto [something][=0x0022=] as pouring it into. Understand [=0x0022=]empty [something] into [something][=0x0022=] as pouring it into.[=0x000A=][=0x000A=]Pouring it into is an action applying to two things.[=0x000A=][=0x000A=]Check pouring it into:[=0x000A=][=0x0009=]if the noun is not a fluid container, say [=0x0022=]You can[=0x0027=]t pour [the noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not a fluid container, say [=0x0022=]You can[=0x0027=]t pour liquids into [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is the second noun, say [=0x0022=]You can hardly pour [the noun] into itself.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is empty, say [=0x0022=]No more [nominal descriptor of the noun] remains in [the noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is full, say [=0x0022=][The second noun] cannot contain any more than it already holds.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out pouring it into:[=0x000A=][=0x0009=]let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;[=0x000A=][=0x0009=]if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;[=0x000A=][=0x0009=]let cacao loss be the consumed cacao of the noun out of available capacity;[=0x000A=][=0x0009=]let creme de menthe loss be the consumed creme de menthe of the noun out of available capacity;[=0x000A=][=0x0009=]let vodka loss be the consumed vodka of the noun out of available capacity;[=0x000A=][=0x0009=]decrease the cacao volume of the noun by the cacao loss;[=0x000A=][=0x0009=]decrease the creme de menthe volume of the noun by creme de menthe loss;[=0x000A=][=0x0009=]decrease the vodka volume of the noun by vodka loss;[=0x000A=][=0x0009=]increase the cacao volume of the second noun by the cacao loss;[=0x000A=][=0x0009=]increase the creme de menthe volume of the second noun by creme de menthe loss;[=0x000A=][=0x0009=]increase the vodka volume of the second noun by vodka loss.[=0x000A=][=0x000A=]Report pouring it into:[=0x000A=][=0x0009=]identify mixture in noun;[=0x000A=][=0x0009=]identify mixture in second noun;[=0x000A=][=0x0009=]say [=0x0022=][if the noun is empty][The noun] is now empty; [otherwise][The noun] now contains [current volume of the noun in rough terms] of [nominal descriptor of the noun]; [end if][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=][the second noun] contains [current volume of the second noun in rough terms] of [adjectival descriptor of the second noun] [nominal descriptor of the second noun][if the second noun is full], and is now full[end if].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]of[=0x0022=] as a fluid container.[=0x000A=][=0x000A=]Part 3 - Scenario[=0x000A=][=0x000A=]When play begins: say [=0x0022=]When you decided to try Mixology WS102 (*cross-listed with Women[=0x0027=]s Studies), you envisioned yourself writing essays about gender discrimination during the Prohibition, say, or reading essays on male vs. female metabolism of alcohol. But no: MxWS102 turns out to be about... mixing the perfect chocolate mint martini.[=0x0022=][=0x000A=][=0x000A=]The College of Mixology is a room. The bar is a supporter in the college.[=0x000A=][=0x000A=]The cocktail glass is a fluid container carried by the player. The fluid capacity of the cocktail glass is 4.0 fl oz.[=0x000A=][=0x000A=]The flask is a fluid container carried by the player. The vodka volume of the flask is 4.0 fl oz.[=0x000A=][=0x000A=]The jigger is a fluid container carried by the player. The fluid capacity of the jigger is 1.0 fl oz.[=0x000A=][=0x000A=]The small measure is a fluid container carried by the player. The fluid capacity of the small measure is 0.5 fl oz.[=0x000A=][=0x000A=]The decanter is a fluid container on the bar. The fluid capacity of the decanter is 32.0 fl oz. The creme de menthe volume of the decanter is 20.0 fl oz.[=0x000A=][=0x000A=]The bottle is a fluid container carried by the player. The cacao volume of the bottle is 10.0 fl oz.[=0x000A=][=0x000A=]Test me with [=0x0022=]i / pour flask in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour decanter in jigger / pour jigger in glass / drink glass / g / g / x glass / pour flask in glass[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Noisy Cricket&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34890" -->
<a id="c34890"></a><blockquote class="code"><p class="quoted">
Part 1 - Volumes and Mixtures
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34891" -->
<a id="c34891"></a><blockquote class="code"><p class="quoted">
A volume is a kind of value. 15.9 fl oz specifies a volume with parts ounces and tenths (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34892" -->
<a id="c34892"></a><blockquote class="code"><p class="quoted">
A fluid container is a kind of container. A fluid container has a volume called a fluid capacity. A fluid container has a volume called creme de menthe volume. A fluid container has a volume called vodka volume. A fluid container has a volume called cacao volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34893" -->
<a id="c34893"></a><blockquote class="code"><p class="quoted">
The fluid capacity of a fluid container is usually 12.0 fl oz. The creme de menthe volume of a fluid container is usually 0.0 fl oz. The vodka volume of a fluid container is usually 0.0 fl oz. The cacao volume of fluid container is usually 0.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34894" -->
<a id="c34894"></a><blockquote class="code"><p class="quoted">
To decide what volume is the current volume of (item - a fluid container):
<br />&#160;&#160;&#160;&#160;let total be the creme de menthe volume of the item;
<br />&#160;&#160;&#160;&#160;increase total by the vodka volume of the item;
<br />&#160;&#160;&#160;&#160;increase total by the cacao volume of the item;
<br />&#160;&#160;&#160;&#160;decide on total.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34895" -->
<a id="c34895"></a><blockquote class="code"><p class="quoted">
Instead of examining a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You catch just a hint of [the nominal descriptor of the noun] at the bottom.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[The noun] contains [current volume of the noun in rough terms] of [adjectival descriptor of the noun] [nominal descriptor of the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34896" -->
<a id="c34896"></a><blockquote class="code"><p class="quoted">
Adjectival descriptor is a kind of value. The adjectival descriptors are strong, chocolatey, minty, perfect, and pure.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34897" -->
<a id="c34897"></a><blockquote class="code"><p class="quoted">
Nominal descriptor is a kind of value. The Nominal descriptors are creme de menthe, vodka, creme de cacao, grasshopper, chocolate vodka, mint vodka, chocolate martini, mintini, chocolate mint martini.
</p></blockquote>
<!-- END CODE -->
<p>Our table of mixtures is expressed in parts: so if a recipe contains one part X and two parts Y, we would put &quot;1&quot; in the first column and &quot;2&quot; in the second column.</p>
<!-- START CODE "c34898" -->
<a id="c34898"></a><blockquote class="code"><p class="quoted">
Table of Mixtures
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">rating</p></td><td class="quotedtablecell"><p class="quoted">creme de menthe comp</p></td><td class="quotedtablecell"><p class="quoted">vodka comp</p></td><td class="quotedtablecell"><p class="quoted">cacao comp</p></td><td class="quotedtablecell"><p class="quoted">adjectival descriptor</p></td><td class="quotedtablecell"><p class="quoted">nominal descriptor</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">minty</p></td><td class="quotedtablecell"><p class="quoted">creme de menthe</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">creme de cacao</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">mintini</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">grasshopper</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate martini</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">0</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">mint vodka</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">0.0 fl oz</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">chocolatey</p></td><td class="quotedtablecell"><p class="quoted">chocolate mint martini</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34899" -->
<a id="c34899"></a><blockquote class="code"><p class="quoted">
A fluid container has an adjectival descriptor. A fluid container has a nominal descriptor. Understand the adjectival descriptor property as describing a fluid container. Understand the nominal descriptor property as describing a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34900" -->
<a id="c34900"></a><blockquote class="code"><p class="quoted">
To decide what number is (quantity - a number) squared:
<br />&#160;&#160;&#160;&#160;decide on quantity times quantity.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34901" -->
<a id="c34901"></a><blockquote class="code"><p class="quoted">
To score mixtures in (item - a fluid container):
<br />&#160;&#160;&#160;&#160;repeat through Table of Mixtures:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now rating entry is total score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total line parts is 1, now adjectival descriptor entry is pure;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise now adjectival descriptor entry is perfect;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for creme de menthe...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now creme de menthe comp entry is creme de menthe comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is minty;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now creme de menthe comp entry is creme de menthe comp entry minus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for vodka...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now vodka comp entry is vodka comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is strong;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now vodka comp entry is vodka comp entry minus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[and for cacao...]
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now cacao comp entry is cacao comp entry plus 1;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be creme de menthe comp entry squared plus vodka comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total line parts be total line parts plus cacao comp entry squared;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe score be creme de menthe comp entry times the creme de menthe volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka score be vodka comp entry times the vodka volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao score be cacao comp entry times the cacao volume of item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be creme de menthe score plus vodka score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score plus cacao score;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let total score be total score times calibration for total line parts;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if total score is greater than rating entry, now adjectival descriptor entry is chocolatey;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now cacao comp entry is cacao comp entry minus 1.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34902" -->
<a id="c34902"></a><blockquote class="code"><p class="quoted">
To identify mixture in (item - a fluid container):
<br />&#160;&#160;&#160;&#160;score mixtures in item;
<br />&#160;&#160;&#160;&#160;sort Table of Mixtures in reverse rating order;
<br />&#160;&#160;&#160;&#160;choose row 1 in Table of Mixtures;
<br />&#160;&#160;&#160;&#160;now nominal descriptor of the item is nominal descriptor entry;
<br />&#160;&#160;&#160;&#160;let sample vodka be vodka comp entry; [Now keep track of all these]
<br />&#160;&#160;&#160;&#160;let sample creme de menthe be creme de menthe comp entry;
<br />&#160;&#160;&#160;&#160;let sample cacao be cacao comp entry;
<br />&#160;&#160;&#160;&#160;if rating entry divided by 100 is the current volume of the item:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now adjectival descriptor of the item is pure;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now adjectival descriptor of the item is adjectival descriptor entry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34903" -->
<a id="c34903"></a><blockquote class="code"><p class="quoted">
To decide what number is the raw quantity of (item volume - a volume):
<br />&#160;&#160;&#160;&#160;let raw be item volume divided by 0.5 fl oz;
<br />&#160;&#160;&#160;&#160;decide on raw.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34904" -->
<a id="c34904"></a><blockquote class="code"><p class="quoted">
To decide what number is calibration for (total - a number):
<br />&#160;&#160;&#160;&#160;if total is an initial listed in the table of Multipliers, decide on result entry;
<br />&#160;&#160;&#160;&#160;decide on 21.
</p></blockquote>
<!-- END CODE -->
<p>Here we cheat on our arithmetic. The following chart just provides values corresponding roughly to 1/(sqrt (x)), but since Inform does not deal very gracefully with square roots or fractions, we will calculate this elsewhere and just supply the answers in the code:</p>
<!-- START CODE "c34905" -->
<a id="c34905"></a><blockquote class="code"><p class="quoted">
Table of Multipliers
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">initial</p></td><td class="quotedtablecell"><p class="quoted">result</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">100</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">71</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">3</p></td><td class="quotedtablecell"><p class="quoted">57</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">4</p></td><td class="quotedtablecell"><p class="quoted">50</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">5</p></td><td class="quotedtablecell"><p class="quoted">44</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">6</p></td><td class="quotedtablecell"><p class="quoted">41</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">7</p></td><td class="quotedtablecell"><p class="quoted">38</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">8</p></td><td class="quotedtablecell"><p class="quoted">35</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">9</p></td><td class="quotedtablecell"><p class="quoted">33</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">10</p></td><td class="quotedtablecell"><p class="quoted">31</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11</p></td><td class="quotedtablecell"><p class="quoted">30</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">12</p></td><td class="quotedtablecell"><p class="quoted">29</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">13</p></td><td class="quotedtablecell"><p class="quoted">28</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">14</p></td><td class="quotedtablecell"><p class="quoted">27</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">15</p></td><td class="quotedtablecell"><p class="quoted">26</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">16</p></td><td class="quotedtablecell"><p class="quoted">25</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">17</p></td><td class="quotedtablecell"><p class="quoted">24</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">18</p></td><td class="quotedtablecell"><p class="quoted">24</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">19</p></td><td class="quotedtablecell"><p class="quoted">23</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">20</p></td><td class="quotedtablecell"><p class="quoted">22</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34906" -->
<a id="c34906"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;repeat with item running through fluid containers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;identify mixture in item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34907" -->
<a id="c34907"></a><blockquote class="code"><p class="quoted">
To say (amount - a volume) in rough terms:
<br />&#160;&#160;&#160;&#160;if the amount is less than 0.6 fl oz:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;half an ounce or less&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if tenths part of amount is greater than 3 and tenths part of amount is less than 7:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let estimate be ounces part of amount;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[estimate in words] or [estimate plus 1 in words] fluid ounces&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if tenths part of amount is greater than 6, increase amount by 1.0 fl oz;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;about [ounces part of amount in words] fluid ounce[s]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34908" -->
<a id="c34908"></a><blockquote class="code"><p class="quoted">
Before printing the name of a fluid container (called the target) while not drinking or pouring:
<br />&#160;&#160;&#160;&#160;if the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;empty &quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;do nothing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34909" -->
<a id="c34909"></a><blockquote class="code"><p class="quoted">
After printing the name of a fluid container (called the target) while not examining or pouring:
<br />&#160;&#160;&#160;&#160;unless the target is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; of [adjectival descriptor of the target] [nominal descriptor of the target]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;omit contents in listing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34910" -->
<a id="c34910"></a><blockquote class="code"><p class="quoted">
Instead of inserting something into a fluid container:
<br />&#160;&#160;&#160;&#160;say &quot;[The second noun] has too narrow a mouth to accept anything but liquids.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34911" -->
<a id="c34911"></a><blockquote class="code"><p class="quoted">
Definition: a fluid container is empty if the current volume of it is 0.0 fl oz. Definition: a fluid container is full if the current volume of it is the fluid capacity of it.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34912" -->
<a id="c34912"></a><blockquote class="code"><p class="quoted">
Understand &quot;drink from [fluid container]&quot; as drinking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34913" -->
<a id="c34913"></a><blockquote class="code"><p class="quoted">
Instead of drinking a fluid container:
<br />&#160;&#160;&#160;&#160;if the noun is empty:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;There is no more [nominal descriptor of the noun] within.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let cacao loss be the consumed cacao of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let creme de menthe loss be the consumed creme de menthe of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let vodka loss be the consumed vodka of the noun out of sip volume;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the cacao volume of the noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the creme de menthe volume of the noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the vodka volume of the noun by vodka loss;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You take a sip of [the nominal descriptor of the noun][if the noun is empty], leaving [the noun] empty[end if].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34914" -->
<a id="c34914"></a><blockquote class="code"><p class="quoted">
Sip volume is a volume that varies. Sip volume is 0.5 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34915" -->
<a id="c34915"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed cacao of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the cacao volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the cacao volume of the item, decide on the cacao volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34916" -->
<a id="c34916"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed creme de menthe of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the creme de menthe volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the creme de menthe volume of the item, decide on the creme de menthe volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34917" -->
<a id="c34917"></a><blockquote class="code"><p class="quoted">
To decide what volume is the consumed vodka of (item - a fluid container) out of (total consumption - a volume):
<br />&#160;&#160;&#160;&#160;let new volume be the vodka volume of the item times 100;
<br />&#160;&#160;&#160;&#160;let percentage be the new volume divided by the current volume of the item;
<br />&#160;&#160;&#160;&#160;let consumed volume be the percentage times total consumption;
<br />&#160;&#160;&#160;&#160;let consumed volume be consumed volume divided by 100;
<br />&#160;&#160;&#160;&#160;if consumed volume is greater than the vodka volume of the item, decide on the vodka volume of the item;
<br />&#160;&#160;&#160;&#160;decide on consumed volume.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34918" -->
<a id="c34918"></a><blockquote class="code"><p class="quoted">
Part 2 - Filling
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34919" -->
<a id="c34919"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;fill&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34920" -->
<a id="c34920"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [something] with/from [something]&quot; as filling it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34921" -->
<a id="c34921"></a><blockquote class="code"><p class="quoted">
Filling it with is an action applying to two things. Carry out filling it with: try pouring the second noun into the noun instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34922" -->
<a id="c34922"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [fluid container] in/into/on/onto [fluid container]&quot; as pouring it into. Understand &quot;empty [fluid container] into [fluid container]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34923" -->
<a id="c34923"></a><blockquote class="code"><p class="quoted">
Understand &quot;pour [something] in/into/on/onto [something]&quot; as pouring it into. Understand &quot;empty [something] into [something]&quot; as pouring it into.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34924" -->
<a id="c34924"></a><blockquote class="code"><p class="quoted">
Pouring it into is an action applying to two things.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34925" -->
<a id="c34925"></a><blockquote class="code"><p class="quoted">
Check pouring it into:
<br />&#160;&#160;&#160;&#160;if the noun is not a fluid container, say &quot;You can't pour [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not a fluid container, say &quot;You can't pour liquids into [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is the second noun, say &quot;You can hardly pour [the noun] into itself.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is empty, say &quot;No more [nominal descriptor of the noun] remains in [the noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is full, say &quot;[The second noun] cannot contain any more than it already holds.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34926" -->
<a id="c34926"></a><blockquote class="code"><p class="quoted">
Carry out pouring it into:
<br />&#160;&#160;&#160;&#160;let available capacity be the fluid capacity of the second noun minus the current volume of the second noun;
<br />&#160;&#160;&#160;&#160;if the available capacity is greater than the current volume of the noun, now the available capacity is the current volume of the noun;
<br />&#160;&#160;&#160;&#160;let cacao loss be the consumed cacao of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;let creme de menthe loss be the consumed creme de menthe of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;let vodka loss be the consumed vodka of the noun out of available capacity;
<br />&#160;&#160;&#160;&#160;decrease the cacao volume of the noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;decrease the creme de menthe volume of the noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;decrease the vodka volume of the noun by vodka loss;
<br />&#160;&#160;&#160;&#160;increase the cacao volume of the second noun by the cacao loss;
<br />&#160;&#160;&#160;&#160;increase the creme de menthe volume of the second noun by creme de menthe loss;
<br />&#160;&#160;&#160;&#160;increase the vodka volume of the second noun by vodka loss.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34927" -->
<a id="c34927"></a><blockquote class="code"><p class="quoted">
Report pouring it into:
<br />&#160;&#160;&#160;&#160;identify mixture in noun;
<br />&#160;&#160;&#160;&#160;identify mixture in second noun;
<br />&#160;&#160;&#160;&#160;say &quot;[if the noun is empty][The noun] is now empty; [otherwise][The noun] now contains [current volume of the noun in rough terms] of [nominal descriptor of the noun]; [end if]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;[the second noun] contains [current volume of the second noun in rough terms] of [adjectival descriptor of the second noun] [nominal descriptor of the second noun][if the second noun is full], and is now full[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34928" -->
<a id="c34928"></a><blockquote class="code"><p class="quoted">
Understand &quot;of&quot; as a fluid container.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34929" -->
<a id="c34929"></a><blockquote class="code"><p class="quoted">
Part 3 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34930" -->
<a id="c34930"></a><blockquote class="code"><p class="quoted">
When play begins: say &quot;When you decided to try Mixology WS102 (*cross-listed with Women's Studies), you envisioned yourself writing essays about gender discrimination during the Prohibition, say, or reading essays on male vs. female metabolism of alcohol. But no: MxWS102 turns out to be about... mixing the perfect chocolate mint martini.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34931" -->
<a id="c34931"></a><blockquote class="code"><p class="quoted">
The College of Mixology is a room. The bar is a supporter in the college.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34932" -->
<a id="c34932"></a><blockquote class="code"><p class="quoted">
The cocktail glass is a fluid container carried by the player. The fluid capacity of the cocktail glass is 4.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34933" -->
<a id="c34933"></a><blockquote class="code"><p class="quoted">
The flask is a fluid container carried by the player. The vodka volume of the flask is 4.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34934" -->
<a id="c34934"></a><blockquote class="code"><p class="quoted">
The jigger is a fluid container carried by the player. The fluid capacity of the jigger is 1.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34935" -->
<a id="c34935"></a><blockquote class="code"><p class="quoted">
The small measure is a fluid container carried by the player. The fluid capacity of the small measure is 0.5 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34936" -->
<a id="c34936"></a><blockquote class="code"><p class="quoted">
The decanter is a fluid container on the bar. The fluid capacity of the decanter is 32.0 fl oz. The creme de menthe volume of the decanter is 20.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34937" -->
<a id="c34937"></a><blockquote class="code"><p class="quoted">
The bottle is a fluid container carried by the player. The cacao volume of the bottle is 10.0 fl oz.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c34938" -->
<a id="c34938"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / pour flask in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour bottle in jigger / pour jigger in glass / pour decanter in jigger / pour jigger in glass / drink glass / g / g / x glass / pour flask in glass&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex357.html#e357"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e254"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex254.html#e254" class="eglink"><b>333</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex254.html#e254" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lakeside Living</span></b></a><br />Similar to "Lemonade", but with bodies of liquid that can never be depleted, and some adjustments to the "fill" command so that it will automatically attempt to fill from a large liquid source if possible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex254.html#e254"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
