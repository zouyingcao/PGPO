<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>3.2. Map</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง3.2. Map</p>
<p>A work of IF contains many spectacles and activities, and these must not all present themselves at once, or the player will be overwhelmed. One way to spread them out is in time, by having them available only as a plot develops, but another is to spread them out literally in space. The player has to walk between the Library and the Swimming Pool, and thus bookish and athletic tasks are not both presenting themselves at once. There have been valiant &quot;one-room&quot; IFs, and it forms a respectable sub-genre of the art, but most works of any size need a map.</p>
<p>Inform, following IF conventions, divides the world up into locations called &quot;rooms&quot;, connected together by so-called &quot;map connections&quot; along compass bearings. Thus:</p>
<!-- START CODE "c23601" -->
<a id="c23601"></a><blockquote class="code"><p class="quoted">
The Library is east of the Swimming Pool.
</p></blockquote>
<!-- END CODE -->
<p>The example <span class="boldface">Port Royal 1</span> develops a medium-sized map from such sentences. This develops in <span class="boldface">Port Royal 2</span> to include connections which bend around, allowing the rooms not to lie on an imaginary square grid.</p>
<p>Because it is useful to group rooms together under names describing whole areas, Inform also allows rooms to be placed in &quot;regions&quot;. Thus:</p>
<!-- START CODE "c23602" -->
<a id="c23602"></a><blockquote class="code"><p class="quoted">
The Campus Area is a region. The Library and the Swimming Pool are in the Campus Area.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Port Royal 3</span> demonstrates this further. <span class="boldface">A&amp;E</span> shows how regions can be used to write simple rules which regulate access to and from whole areas of the map.</p>
<p>Many old-school IF puzzles involve journeys through the map which are confused, randomised or otherwise frustrated: see <span class="boldface">Bee Chambers</span> for a typical maze, <span class="boldface">Zork II</span> for a randomised connection, <span class="boldface">Prisoner's Dilemma</span> for a change in the map occurring during play. A completely random map takes us away from traditional IF and more towards a different sort of old-school game, the computerised role-playing game with its endless quests through dungeons with randomly generated treasures and monsters. This style of map - building itself one step at a time, as the player explores - can sometimes be useful to provide an illusion of infinite expanse: see <span class="boldface">All Roads Lead To Mars</span>.</p>
<p>While the standard compass directions are conventional in IF, there are times when we may want to replace them without other forms of directional relationship. <span class="boldface">Indirection</span> renames the compass directions to correspond to primary colors, as in Mayan thinking. <span class="boldface">The World of Charles S. Roberts</span> substitutes new ones, instead, introducing a hex-grid map in place of the usual one.</p>
<p class="crossreference"><a href="RB_6_9.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Going, Pushing Things in Directions</b></a><i> for ways to add more relative directions, such as context-sensitive understanding of OUT and IN</i></p><p class="crossreference"><a href="RB_3_1.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Room Descriptions</b></a><i> for ways to modify the room description printed</i></p><p class="crossreference"><a href="RB_8_2.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Ships, Trains and Elevators</b></a><i> for rooms which move around in the map and for directions aboard a ship</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_3_1.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3_1.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_3_1.html" class="standardlink">Back to ยง3.1. Room Descriptions</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3_3.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_3_3.html" class="standardlink">Onward to ยง3.3. Position Within Rooms</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e273"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex273.html#e273" class="eglink"><b>5</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex273.html#e273" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 1</span></b></a><br />A partial implementation of Port Royal, Jamaica, set before the earthquake of 1692 demolished large portions of the city.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex273.html#e273"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e188"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex188.html#e188" class="eglink"><b>9</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex188.html#e188" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 2</span></b></a><br />Another part of Port Royal, with less typical map connections.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex188.html#e188"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e102"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex102.html#e102" class="eglink"><b>10</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex102.html#e102" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Port Royal 3</span></b></a><br />Division of Port Royal into regions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex102.html#e102"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e16"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_3_2.html#e16" class="eglink"><b>78</b></a></div>
<div class="egpanel" id="example16">
<p>Suppose we want to allow the player to wander freely in any direction, but ourselves maintain control over the order in which he encounters the rooms. This sort of effect emphasizes the order of the story-telling over any kind of rigorous simulation of space; on multiple play-throughs, the player might not find all the same rooms in the same locations.</p>
<!-- START CODE "c24427" -->
<a id="c24427"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]All Roads Lead to Mars[=0x0022=][=0x000A=][=0x000A=]Before going a direction (called way) when a room (called next location) is not visited:[=0x000A=][=0x0009=]let further place be the room the way from the location;[=0x000A=][=0x0009=]if further place is a room, continue the action;[=0x000A=][=0x0009=]change the way exit of the location to the next location;[=0x000A=][=0x0009=]let reverse be the opposite of the way;[=0x000A=][=0x0009=]change the reverse exit of the next location to the location.[=0x000A=][=0x000A=]The Open Plain is a room. [=0x0022=]A wide-open grassy expanse, from which you could really go any way at all.[=0x0022=][=0x000A=][=0x000A=]The Hilly Place is a room. [=0x0022=]The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way.[=0x0022=][=0x000A=][=0x000A=]The Stream is a room. [=0x0022=]This is the third place you[=0x0027=]ve been today, and so the stream is welcome. How refreshing![=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]n / s / e / e[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;All Roads Lead to Mars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24428" -->
<a id="c24428"></a><blockquote class="code"><p class="quoted">
Before going a direction (called way) when a room (called next location) is not visited:
<br />&#160;&#160;&#160;&#160;let further place be the room the way from the location;
<br />&#160;&#160;&#160;&#160;if further place is a room, continue the action;
<br />&#160;&#160;&#160;&#160;change the way exit of the location to the next location;
<br />&#160;&#160;&#160;&#160;let reverse be the opposite of the way;
<br />&#160;&#160;&#160;&#160;change the reverse exit of the next location to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24429" -->
<a id="c24429"></a><blockquote class="code"><p class="quoted">
The Open Plain is a room. &quot;A wide-open grassy expanse, from which you could really go any way at all.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24430" -->
<a id="c24430"></a><blockquote class="code"><p class="quoted">
The Hilly Place is a room. &quot;The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24431" -->
<a id="c24431"></a><blockquote class="code"><p class="quoted">
The Stream is a room. &quot;This is the third place you've been today, and so the stream is welcome. How refreshing!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24432" -->
<a id="c24432"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / s / e / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted still to be able to find routes between places, we could define a relationship of connection between rooms, which we would add to as we went along.</p>
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3_2.html#e16" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">All Roads Lead to Mars</span></b></a><br />Layout where the player is allowed to wander any direction he likes, and the map will arrange itself in order so that he finds the correct "next" location.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example16">
<p>Suppose we want to allow the player to wander freely in any direction, but ourselves maintain control over the order in which he encounters the rooms. This sort of effect emphasizes the order of the story-telling over any kind of rigorous simulation of space; on multiple play-throughs, the player might not find all the same rooms in the same locations.</p>
<!-- START CODE "c24433" -->
<a id="c24433"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]All Roads Lead to Mars[=0x0022=][=0x000A=][=0x000A=]Before going a direction (called way) when a room (called next location) is not visited:[=0x000A=][=0x0009=]let further place be the room the way from the location;[=0x000A=][=0x0009=]if further place is a room, continue the action;[=0x000A=][=0x0009=]change the way exit of the location to the next location;[=0x000A=][=0x0009=]let reverse be the opposite of the way;[=0x000A=][=0x0009=]change the reverse exit of the next location to the location.[=0x000A=][=0x000A=]The Open Plain is a room. [=0x0022=]A wide-open grassy expanse, from which you could really go any way at all.[=0x0022=][=0x000A=][=0x000A=]The Hilly Place is a room. [=0x0022=]The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way.[=0x0022=][=0x000A=][=0x000A=]The Stream is a room. [=0x0022=]This is the third place you[=0x0027=]ve been today, and so the stream is welcome. How refreshing![=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]n / s / e / e[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;All Roads Lead to Mars&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24434" -->
<a id="c24434"></a><blockquote class="code"><p class="quoted">
Before going a direction (called way) when a room (called next location) is not visited:
<br />&#160;&#160;&#160;&#160;let further place be the room the way from the location;
<br />&#160;&#160;&#160;&#160;if further place is a room, continue the action;
<br />&#160;&#160;&#160;&#160;change the way exit of the location to the next location;
<br />&#160;&#160;&#160;&#160;let reverse be the opposite of the way;
<br />&#160;&#160;&#160;&#160;change the reverse exit of the next location to the location.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24435" -->
<a id="c24435"></a><blockquote class="code"><p class="quoted">
The Open Plain is a room. &quot;A wide-open grassy expanse, from which you could really go any way at all.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24436" -->
<a id="c24436"></a><blockquote class="code"><p class="quoted">
The Hilly Place is a room. &quot;The grassland gives way to a somewhat more hilly area, though there is still very little to guide you any particular way.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24437" -->
<a id="c24437"></a><blockquote class="code"><p class="quoted">
The Stream is a room. &quot;This is the third place you've been today, and so the stream is welcome. How refreshing!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24438" -->
<a id="c24438"></a><blockquote class="code"><p class="quoted">
Test me with &quot;n / s / e / e&quot;.
</p></blockquote>
<!-- END CODE -->
<p>If we wanted still to be able to find routes between places, we could define a relationship of connection between rooms, which we would add to as we went along.</p>
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex16.html#e16"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e300"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex300.html#e300" class="eglink"><b>125</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex300.html#e300" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bee Chambers</span></b></a><br />A maze with directions between rooms randomized at the start of play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex300.html#e300"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e403"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex403.html#e403" class="eglink"><b>134</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex403.html#e403" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zork II</span></b></a><br />A "Carousel Room", as in Zork II, where moving in any direction from the room leads (at random) to one of the eight rooms nearby.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex403.html#e403"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e99"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex99.html#e99" class="eglink"><b>286</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex99.html#e99" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Indirection</span></b></a><br />Renaming the directions of the compass so that "white" corresponds to north, "red" to east, "yellow" to south, and "black" to west.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex99.html#e99"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e187"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex187.html#e187" class="eglink"><b>40</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex187.html#e187" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The World of Charles S. Roberts</span></b></a><br />Replacing the ordinary compass bearings with a set of six directions to impose a hexagonal rather than square grid on the landscape.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex187.html#e187"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e234"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex234.html#e234" class="eglink"><b>41</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex234.html#e234" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Prisoner's Dilemma</span></b></a><br />A button that causes a previously non-existent exit to come into being.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex234.html#e234"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e326"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex326.html#e326" class="eglink"><b>101</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex326.html#e326" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A&amp;E</span></b></a><br />Using regions to block access to an entire area when the player does not carry a pass, regardless of which entrance he uses.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex326.html#e326"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
