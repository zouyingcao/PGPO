<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>18.28. Printing a locale paragraph about</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง18.28. Printing a locale paragraph about</p>
<p><span class="boldface">1. When it happens.</span> See &quot;printing the locale description&quot;. By this point, the locale description process has identified a number of items as candidates to be described, and worked out a priority order. This activity is then called for each candidate in turn, starting with the highest priority items and working downwards. It can either print some text or not, and can either mark the item as &quot;mentioned&quot; or not: if it does, then the item won't appear subsequently in the locale description. If the activity does nothing, the item becomes &quot;nondescript&quot; and falls through into the final &quot;You can also see...&quot; paragraph, unless another rule mentions it in the mean time.</p>
<p><span class="boldface">2. The default behaviour.</span> Is provided by a sequence of seven rules:</p>
<!-- START CODE "c1526" -->
<a id="c1526"></a><blockquote class="code"><p class="quoted">
(1) The &quot;don't mention player's supporter in room descriptions rule&quot; excludes anything the player is directly or indirectly standing on or, less frequently, in. The header of the room description has probably already said something like &quot;Boudoir (on the four-poster bed)&quot;, so the player can't be unaware of this item.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1527" -->
<a id="c1527"></a><blockquote class="code"><p class="quoted">
(2) The &quot;don't mention scenery in room descriptions rule&quot; excludes scenery.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1528" -->
<a id="c1528"></a><blockquote class="code"><p class="quoted">
(3) The &quot;don't mention undescribed items in room descriptions rule&quot; excludes the player object. (It's redundant to say &quot;You can also see yourself here.&quot;) At present nothing else in I7 is &quot;undescribed&quot; in this sense.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1529" -->
<a id="c1529"></a><blockquote class="code"><p class="quoted">
(4) The &quot;set pronouns from items in room descriptions rule&quot; adjusts the meaning of pronouns like IT and HER to pick up items mentioned. Thus if a room description ends &quot;Mme Tourmalet glares at you.&quot;, then HER would be adjusted to mean Mme Tourmalet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1530" -->
<a id="c1530"></a><blockquote class="code"><p class="quoted">
(5) The &quot;offer items to writing a paragraph about rule&quot; gives the &quot;writing a paragraph about&quot; activity a chance to intervene. We detect whether it does intervene or not by looking to see if it has printed any text.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1531" -->
<a id="c1531"></a><blockquote class="code"><p class="quoted">
(6) The &quot;use initial appearance in room descriptions rule&quot; prints the &quot;initial appearance&quot; property of an item which has never been handled as a paragraph, if it has one.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1532" -->
<a id="c1532"></a><blockquote class="code"><p class="quoted">
(7) The &quot;describe what's on scenery supporters in room descriptions rule&quot; is somewhat controversial. It prints text such as &quot;On the mantelpiece is a piece of chalk.&quot; for items which, like the mantelpiece, are scenery mentioned - we assume - in the main room description. (It is assumed that scenery supporters make their contents more prominently visible than scenery containers, which we do not announce the contents of.)
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">3. Examples.</span> If all that's required is to supply an interesting paragraph of room description about something then it's always better to use the &quot;writing a paragraph about&quot; activity, not this one. This activity should only be used when the mechanism itself needs to be adjusted.</p>
<p>(a) The following excludes doors from room descriptions:</p>
<!-- START CODE "c1533" -->
<a id="c1533"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('For printing a locale paragraph about a door (called the item)[=0x000A=][=0x0009=](this is the don[=0x0027=]t mention doors in room descriptions rule):[=0x000A=][=0x0009=]set the locale priority of the item to 0;[=0x000A=][=0x0009=]continue the activity.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> For printing a locale paragraph about a door (called the item)
<br />&#160;&#160;&#160;&#160;(this is the don't mention doors in room descriptions rule):
<br />&#160;&#160;&#160;&#160;set the locale priority of the item to 0;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<p>(It's usually a good idea to &quot;continue the activity&quot; at the end of rules for this activity, since usually they all need to take effect for a happy outcome to the process. Here it doesn't really matter, since we were trying to stop anything from happening about the door, but it doesn't do any harm either.)</p>
<p>(b) Here's how to abolish what may be the most contentious rule in the whole Standard Rules:</p>
<!-- START CODE "c1534" -->
<a id="c1534"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('The describe what[=0x0027=]s on scenery supporters in room descriptions rule is not listed in any rulebook.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> The describe what's on scenery supporters in room descriptions rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_18_1.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_27.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_18_27.html" class="standardlink">Back to ยง18.27. Choosing notable locale objects for something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_29.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_18_29.html" class="standardlink">Onward to ยง18.29. Deciding the scope of something</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e53"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_18_28.html#e53" class="eglink"><b>361</b></a></div>
<div class="egpanel" id="example53">
<p>Suppose we want there to be some high shelves in our game, which the player can't get at unless he's standing on a prop of some kind. (This is a pretty hoary and over-used puzzle, but there may still be occasions when it becomes useful again.)</p>
<p>In order to resolve this, we want to set up a raised supporter kind. When something is on a raised supporter, it should be mentioned to the player only if the player is in the right position (i.e., standing on something) and otherwise omitted from the description entirely.</p>
<!-- START CODE "c4909" -->
<a id="c4909"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Kiwi[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]A raised supporter is a kind of supporter.[=0x000A=][=0x000A=]For printing a locale paragraph about a raised supporter (called the high place):[=0x000A=][=0x0009=]if the player is on a supporter (called the riser):[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Up on [the high place] (and only visible because you[=0x0027=]re on [the riser]) [is-are a list of things on the high place].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The [high place] is above you.[=0x0022=][=0x000A=][=0x000A=][Note that here we don[=0x0027=]t continue the activity because we want to completely replace the normal behavior of describing what is on supporters.][=0x000A=][=0x000A=]Definition: a thing (called target item) is out of reach:[=0x000A=][=0x0009=]if the player is on a supporter, no;[=0x000A=][=0x0009=]if the target item is on a raised supporter, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=][Now we also need to prevent the player from interacting with things that are out of reach:][=0x000A=][=0x000A=]Before doing something:[=0x000A=][=0x0009=]if the noun is out of reach or the second noun is out of reach:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=] instead.[=0x000A=][=0x000A=][...or restoring things to the shelves while the player is in the wrong position...][=0x000A=][=0x000A=]Instead of putting something on a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=][=0x000A=][=0x000A=][And raised supporters shouldn[=0x0027=]t be searchable from the ground either:][=0x000A=][=0x000A=]Instead of searching or examining a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t see from down here.[=0x0022=][=0x000A=][=0x000A=][Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don[=0x0027=]t want to list the objects up there if the player can[=0x0027=]t even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can[=0x0027=]t be reached, and then we adjust the parser error so that it[=0x0027=]s a little more instructive than [=0x0022=]There are none at all available![=0x0022=], which is what the response would otherwise be:][=0x000A=][=0x000A=]Disallowed-all is a truth state that varies. Disallowed-all is false.[=0x000A=][=0x000A=]Rule for deciding whether all includes an out of reach thing:[=0x000A=][=0x0009=]now disallowed-all is true;[=0x000A=][=0x0009=]it does not.[=0x000A=][=0x000A=]Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:[=0x000A=][=0x0009=]if disallowed-all is true:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Whatever might be up there, you can[=0x0027=]t see or reach from down here.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]make no decision.[=0x000A=][=0x000A=]A first action-processing rule:[=0x000A=][=0x0009=]now disallowed-all is false.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Bottom of the Nursery is a room. [=0x0022=]Ever since you ate that mysterious cake, you[=0x0027=]ve been even shorter than usual.[=0x0022=][=0x000A=][=0x000A=]The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.[=0x000A=][=0x000A=]The step-ladder is an enterable supporter in the Nursery. Understand [=0x0022=]ladder[=0x0022=] as the step-ladder.[=0x000A=][=0x000A=]Test me with [=0x0022=]x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Kiwi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4910" -->
<a id="c4910"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4911" -->
<a id="c4911"></a><blockquote class="code"><p class="quoted">
A raised supporter is a kind of supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4912" -->
<a id="c4912"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a raised supporter (called the high place):
<br />&#160;&#160;&#160;&#160;if the player is on a supporter (called the riser):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Up on [the high place] (and only visible because you're on [the riser]) [is-are a list of things on the high place].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The [high place] is above you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that here we don't continue the activity because we want to completely replace the normal behavior of describing what is on supporters.</p>
<!-- START CODE "c4913" -->
<a id="c4913"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called target item) is out of reach:
<br />&#160;&#160;&#160;&#160;if the player is on a supporter, no;
<br />&#160;&#160;&#160;&#160;if the target item is on a raised supporter, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<p>Now we also need to prevent the player from interacting with things that are out of reach:</p>
<!-- START CODE "c4914" -->
<a id="c4914"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the noun is out of reach or the second noun is out of reach:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...or restoring things to the shelves while the player is in the wrong position...</p>
<!-- START CODE "c4915" -->
<a id="c4915"></a><blockquote class="code"><p class="quoted">
Instead of putting something on a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And raised supporters shouldn't be searchable from the ground either:</p>
<!-- START CODE "c4916" -->
<a id="c4916"></a><blockquote class="code"><p class="quoted">
Instead of searching or examining a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't see from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don't want to list the objects up there if the player can't even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can't be reached, and then we adjust the parser error so that it's a little more instructive than &quot;There are none at all available!&quot;, which is what the response would otherwise be:</p>
<!-- START CODE "c4917" -->
<a id="c4917"></a><blockquote class="code"><p class="quoted">
Disallowed-all is a truth state that varies. Disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4918" -->
<a id="c4918"></a><blockquote class="code"><p class="quoted">
Rule for deciding whether all includes an out of reach thing:
<br />&#160;&#160;&#160;&#160;now disallowed-all is true;
<br />&#160;&#160;&#160;&#160;it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4919" -->
<a id="c4919"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;if disallowed-all is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Whatever might be up there, you can't see or reach from down here.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4920" -->
<a id="c4920"></a><blockquote class="code"><p class="quoted">
A first action-processing rule:
<br />&#160;&#160;&#160;&#160;now disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4921" -->
<a id="c4921"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4922" -->
<a id="c4922"></a><blockquote class="code"><p class="quoted">
The Bottom of the Nursery is a room. &quot;Ever since you ate that mysterious cake, you've been even shorter than usual.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4923" -->
<a id="c4923"></a><blockquote class="code"><p class="quoted">
The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4924" -->
<a id="c4924"></a><blockquote class="code"><p class="quoted">
The step-ladder is an enterable supporter in the Nursery. Understand &quot;ladder&quot; as the step-ladder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4925" -->
<a id="c4925"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18_28.html#e53" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Kiwi</span></b></a><br />Creating a raised supporter kind whose contents the player can't see or take from the ground.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example53">
<p>Suppose we want there to be some high shelves in our game, which the player can't get at unless he's standing on a prop of some kind. (This is a pretty hoary and over-used puzzle, but there may still be occasions when it becomes useful again.)</p>
<p>In order to resolve this, we want to set up a raised supporter kind. When something is on a raised supporter, it should be mentioned to the player only if the player is in the right position (i.e., standing on something) and otherwise omitted from the description entirely.</p>
<!-- START CODE "c4926" -->
<a id="c4926"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Kiwi[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]A raised supporter is a kind of supporter.[=0x000A=][=0x000A=]For printing a locale paragraph about a raised supporter (called the high place):[=0x000A=][=0x0009=]if the player is on a supporter (called the riser):[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Up on [the high place] (and only visible because you[=0x0027=]re on [the riser]) [is-are a list of things on the high place].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The [high place] is above you.[=0x0022=][=0x000A=][=0x000A=][Note that here we don[=0x0027=]t continue the activity because we want to completely replace the normal behavior of describing what is on supporters.][=0x000A=][=0x000A=]Definition: a thing (called target item) is out of reach:[=0x000A=][=0x0009=]if the player is on a supporter, no;[=0x000A=][=0x0009=]if the target item is on a raised supporter, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=][Now we also need to prevent the player from interacting with things that are out of reach:][=0x000A=][=0x000A=]Before doing something:[=0x000A=][=0x0009=]if the noun is out of reach or the second noun is out of reach:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=] instead.[=0x000A=][=0x000A=][...or restoring things to the shelves while the player is in the wrong position...][=0x000A=][=0x000A=]Instead of putting something on a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=][=0x000A=][=0x000A=][And raised supporters shouldn[=0x0027=]t be searchable from the ground either:][=0x000A=][=0x000A=]Instead of searching or examining a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t see from down here.[=0x0022=][=0x000A=][=0x000A=][Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don[=0x0027=]t want to list the objects up there if the player can[=0x0027=]t even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can[=0x0027=]t be reached, and then we adjust the parser error so that it[=0x0027=]s a little more instructive than [=0x0022=]There are none at all available![=0x0022=], which is what the response would otherwise be:][=0x000A=][=0x000A=]Disallowed-all is a truth state that varies. Disallowed-all is false.[=0x000A=][=0x000A=]Rule for deciding whether all includes an out of reach thing:[=0x000A=][=0x0009=]now disallowed-all is true;[=0x000A=][=0x0009=]it does not.[=0x000A=][=0x000A=]Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:[=0x000A=][=0x0009=]if disallowed-all is true:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Whatever might be up there, you can[=0x0027=]t see or reach from down here.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]make no decision.[=0x000A=][=0x000A=]A first action-processing rule:[=0x000A=][=0x0009=]now disallowed-all is false.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Bottom of the Nursery is a room. [=0x0022=]Ever since you ate that mysterious cake, you[=0x0027=]ve been even shorter than usual.[=0x0022=][=0x000A=][=0x000A=]The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.[=0x000A=][=0x000A=]The step-ladder is an enterable supporter in the Nursery. Understand [=0x0022=]ladder[=0x0022=] as the step-ladder.[=0x000A=][=0x000A=]Test me with [=0x0022=]x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Kiwi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4927" -->
<a id="c4927"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4928" -->
<a id="c4928"></a><blockquote class="code"><p class="quoted">
A raised supporter is a kind of supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4929" -->
<a id="c4929"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a raised supporter (called the high place):
<br />&#160;&#160;&#160;&#160;if the player is on a supporter (called the riser):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Up on [the high place] (and only visible because you're on [the riser]) [is-are a list of things on the high place].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The [high place] is above you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that here we don't continue the activity because we want to completely replace the normal behavior of describing what is on supporters.</p>
<!-- START CODE "c4930" -->
<a id="c4930"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called target item) is out of reach:
<br />&#160;&#160;&#160;&#160;if the player is on a supporter, no;
<br />&#160;&#160;&#160;&#160;if the target item is on a raised supporter, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<p>Now we also need to prevent the player from interacting with things that are out of reach:</p>
<!-- START CODE "c4931" -->
<a id="c4931"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the noun is out of reach or the second noun is out of reach:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...or restoring things to the shelves while the player is in the wrong position...</p>
<!-- START CODE "c4932" -->
<a id="c4932"></a><blockquote class="code"><p class="quoted">
Instead of putting something on a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And raised supporters shouldn't be searchable from the ground either:</p>
<!-- START CODE "c4933" -->
<a id="c4933"></a><blockquote class="code"><p class="quoted">
Instead of searching or examining a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't see from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don't want to list the objects up there if the player can't even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can't be reached, and then we adjust the parser error so that it's a little more instructive than &quot;There are none at all available!&quot;, which is what the response would otherwise be:</p>
<!-- START CODE "c4934" -->
<a id="c4934"></a><blockquote class="code"><p class="quoted">
Disallowed-all is a truth state that varies. Disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4935" -->
<a id="c4935"></a><blockquote class="code"><p class="quoted">
Rule for deciding whether all includes an out of reach thing:
<br />&#160;&#160;&#160;&#160;now disallowed-all is true;
<br />&#160;&#160;&#160;&#160;it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4936" -->
<a id="c4936"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;if disallowed-all is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Whatever might be up there, you can't see or reach from down here.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4937" -->
<a id="c4937"></a><blockquote class="code"><p class="quoted">
A first action-processing rule:
<br />&#160;&#160;&#160;&#160;now disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4938" -->
<a id="c4938"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4939" -->
<a id="c4939"></a><blockquote class="code"><p class="quoted">
The Bottom of the Nursery is a room. &quot;Ever since you ate that mysterious cake, you've been even shorter than usual.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4940" -->
<a id="c4940"></a><blockquote class="code"><p class="quoted">
The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4941" -->
<a id="c4941"></a><blockquote class="code"><p class="quoted">
The step-ladder is an enterable supporter in the Nursery. Understand &quot;ladder&quot; as the step-ladder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4942" -->
<a id="c4942"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex53.html#e53"><i>RB</i></a></div>
<div class="egpanel" id="example53">
<p>Suppose we want there to be some high shelves in our game, which the player can't get at unless he's standing on a prop of some kind. (This is a pretty hoary and over-used puzzle, but there may still be occasions when it becomes useful again.)</p>
<p>In order to resolve this, we want to set up a raised supporter kind. When something is on a raised supporter, it should be mentioned to the player only if the player is in the right position (i.e., standing on something) and otherwise omitted from the description entirely.</p>
<!-- START CODE "c4943" -->
<a id="c4943"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Kiwi[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]A raised supporter is a kind of supporter.[=0x000A=][=0x000A=]For printing a locale paragraph about a raised supporter (called the high place):[=0x000A=][=0x0009=]if the player is on a supporter (called the riser):[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Up on [the high place] (and only visible because you[=0x0027=]re on [the riser]) [is-are a list of things on the high place].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The [high place] is above you.[=0x0022=][=0x000A=][=0x000A=][Note that here we don[=0x0027=]t continue the activity because we want to completely replace the normal behavior of describing what is on supporters.][=0x000A=][=0x000A=]Definition: a thing (called target item) is out of reach:[=0x000A=][=0x0009=]if the player is on a supporter, no;[=0x000A=][=0x0009=]if the target item is on a raised supporter, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=][Now we also need to prevent the player from interacting with things that are out of reach:][=0x000A=][=0x000A=]Before doing something:[=0x000A=][=0x0009=]if the noun is out of reach or the second noun is out of reach:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=] instead.[=0x000A=][=0x000A=][...or restoring things to the shelves while the player is in the wrong position...][=0x000A=][=0x000A=]Instead of putting something on a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach from down here.[=0x0022=][=0x000A=][=0x000A=][And raised supporters shouldn[=0x0027=]t be searchable from the ground either:][=0x000A=][=0x000A=]Instead of searching or examining a raised supporter when the player is not on a supporter:[=0x000A=][=0x0009=]say [=0x0022=]You can[=0x0027=]t see from down here.[=0x0022=][=0x000A=][=0x000A=][Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don[=0x0027=]t want to list the objects up there if the player can[=0x0027=]t even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can[=0x0027=]t be reached, and then we adjust the parser error so that it[=0x0027=]s a little more instructive than [=0x0022=]There are none at all available![=0x0022=], which is what the response would otherwise be:][=0x000A=][=0x000A=]Disallowed-all is a truth state that varies. Disallowed-all is false.[=0x000A=][=0x000A=]Rule for deciding whether all includes an out of reach thing:[=0x000A=][=0x0009=]now disallowed-all is true;[=0x000A=][=0x0009=]it does not.[=0x000A=][=0x000A=]Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:[=0x000A=][=0x0009=]if disallowed-all is true:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Whatever might be up there, you can[=0x0027=]t see or reach from down here.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]make no decision.[=0x000A=][=0x000A=]A first action-processing rule:[=0x000A=][=0x0009=]now disallowed-all is false.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Bottom of the Nursery is a room. [=0x0022=]Ever since you ate that mysterious cake, you[=0x0027=]ve been even shorter than usual.[=0x0022=][=0x000A=][=0x000A=]The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.[=0x000A=][=0x000A=]The step-ladder is an enterable supporter in the Nursery. Understand [=0x0022=]ladder[=0x0022=] as the step-ladder.[=0x000A=][=0x000A=]Test me with [=0x0022=]x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Kiwi&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4944" -->
<a id="c4944"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4945" -->
<a id="c4945"></a><blockquote class="code"><p class="quoted">
A raised supporter is a kind of supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4946" -->
<a id="c4946"></a><blockquote class="code"><p class="quoted">
For printing a locale paragraph about a raised supporter (called the high place):
<br />&#160;&#160;&#160;&#160;if the player is on a supporter (called the riser):
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Up on [the high place] (and only visible because you're on [the riser]) [is-are a list of things on the high place].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The [high place] is above you.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that here we don't continue the activity because we want to completely replace the normal behavior of describing what is on supporters.</p>
<!-- START CODE "c4947" -->
<a id="c4947"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called target item) is out of reach:
<br />&#160;&#160;&#160;&#160;if the player is on a supporter, no;
<br />&#160;&#160;&#160;&#160;if the target item is on a raised supporter, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<p>Now we also need to prevent the player from interacting with things that are out of reach:</p>
<!-- START CODE "c4948" -->
<a id="c4948"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the noun is out of reach or the second noun is out of reach:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>...or restoring things to the shelves while the player is in the wrong position...</p>
<!-- START CODE "c4949" -->
<a id="c4949"></a><blockquote class="code"><p class="quoted">
Instead of putting something on a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't reach from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And raised supporters shouldn't be searchable from the ground either:</p>
<!-- START CODE "c4950" -->
<a id="c4950"></a><blockquote class="code"><p class="quoted">
Instead of searching or examining a raised supporter when the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;say &quot;You can't see from down here.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Finally, we need to tackle the case where the player types GET ALL FROM SHELF, because we don't want to list the objects up there if the player can't even see them. We use a rule for deciding whether all includes in order to tell Inform not to consider items that can't be reached, and then we adjust the parser error so that it's a little more instructive than &quot;There are none at all available!&quot;, which is what the response would otherwise be:</p>
<!-- START CODE "c4951" -->
<a id="c4951"></a><blockquote class="code"><p class="quoted">
Disallowed-all is a truth state that varies. Disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4952" -->
<a id="c4952"></a><blockquote class="code"><p class="quoted">
Rule for deciding whether all includes an out of reach thing:
<br />&#160;&#160;&#160;&#160;now disallowed-all is true;
<br />&#160;&#160;&#160;&#160;it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4953" -->
<a id="c4953"></a><blockquote class="code"><p class="quoted">
Rule for printing a parser error when the latest parser error is the nothing to do error and the player is not on a supporter:
<br />&#160;&#160;&#160;&#160;if disallowed-all is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Whatever might be up there, you can't see or reach from down here.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;make no decision.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4954" -->
<a id="c4954"></a><blockquote class="code"><p class="quoted">
A first action-processing rule:
<br />&#160;&#160;&#160;&#160;now disallowed-all is false.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4955" -->
<a id="c4955"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4956" -->
<a id="c4956"></a><blockquote class="code"><p class="quoted">
The Bottom of the Nursery is a room. &quot;Ever since you ate that mysterious cake, you've been even shorter than usual.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4957" -->
<a id="c4957"></a><blockquote class="code"><p class="quoted">
The high shelf is a raised supporter in the Nursery. It is scenery. On the high shelf are a kiwi-green ball and a stuffed dodo.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4958" -->
<a id="c4958"></a><blockquote class="code"><p class="quoted">
The step-ladder is an enterable supporter in the Nursery. Understand &quot;ladder&quot; as the step-ladder.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c4959" -->
<a id="c4959"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x shelf / search shelf / get dodo / get all from shelf / stand on ladder / get all from shelf / search shelf / get off / put all on shelf / get all from shelf / stand on ladder / put all on shelf&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<a id="e90"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex90.html#e90" class="eglink"><b>362</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex90.html#e90" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Copper River</span></b></a><br />Manipulating room descriptions so that only interesting items are mentioned, while objects that are present but not currently useful to the player are ignored.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex90.html#e90"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
