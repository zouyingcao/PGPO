<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>6.14. Remembering, Converting and Combining Actions</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง6.14. Remembering, Converting and Combining Actions</p>
<p>Sometimes we want Inform to apply a player's action to a different target than the one specified: for instance, directing all (or almost all) commands from the doorknob to the door of which it is a part. <span class="boldface">Fine Laid</span> demonstrates how to do this. Along the same lines, <span class="boldface">Lucy</span> shows how to direct a player's conversation action to apply to a new conversation topic.</p>
<p>We can also record a series of actions performed by the player or by another character.</p>
<p><span class="boldface">Cactus Will Outlive Us All</span> demonstrates characters each of whom reacts to a very specific provocation; <span class="boldface">I Didn't Come All The Way From Great Portland Street</span> implements a game show in which the player is not allowed ever to repeat an action he has already performed; and <span class="boldface">Leopard-skin</span> implements a maze which the player can escape only by performing a specific sequence of actions.</p>
<p><span class="boldface">Anteaters</span> provides a peculiar gizmo that can remember actions performed in its presence and force the player to reiterate them.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_6_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_6_1.html" class="standardlink">Start of Chapter 6: Commands</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_6_13.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_6_13.html" class="standardlink">Back to ยง6.13. Magic Words</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_6_15.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_6_15.html" class="standardlink">Onward to ยง6.15. Actions on Multiple Objects</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e72"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex72.html#e72" class="eglink"><b>88</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex72.html#e72" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fine Laid</span></b></a><br />Making writing that can be separately examined from the paper on which it appears, but which directs all other actions to the paper.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex72.html#e72"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e246"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex246.html#e246" class="eglink"><b>92</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex246.html#e246" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lucy</span></b></a><br />Redirecting a question about one topic to ask about another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex246.html#e246"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e242"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex242.html#e242" class="eglink"><b>220</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex242.html#e242" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cactus Will Outlive Us All</span></b></a><br />For every character besides the player, there is an action that will cause that character to wither right up and die.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex242.html#e242"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e31"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex31.html#e31" class="eglink"><b>430</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex31.html#e31" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Leopard-skin</span></b></a><br />A maze that the player can escape if he performs an exact sequence of actions.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex31.html#e31"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e172"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_6_14.html#e172" class="eglink"><b>433</b></a></div>
<div class="egpanel" id="example172">
<p>There is very little to this, in fact. The tricky rule to enforce is Repetition: the player is forbidden to repeat any previously tried action. We keep track of this by keeping a set of past actions, which for want of a better term is called the &quot;tally&quot;. All we need to do is:</p>
<!-- START CODE "c29147" -->
<a id="c29147"></a><blockquote class="code"><p class="quoted">
if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot;;
<br />otherwise add the current action to the tally.
</p></blockquote>
<!-- END CODE -->
<p>Note that the tally can never contain duplicates, and that when, at the end of the round, we print it out, we sort it first - this makes a more natural-looking sentence. (Sorting a list of actions uses the natural order for actions: compare the sequence on the Actions page of the Index.) The full text, then, is:</p>
<!-- START CODE "c29148" -->
<a id="c29148"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]I Didn[=0x0027=]t Come All The Way From Great Portland Street[=0x0022=][=0x000A=][=0x000A=]The Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.[=0x000A=][=0x000A=]The Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.[=0x000A=][=0x000A=]The tally is a list of stored actions that varies.[=0x000A=][=0x000A=]When the Round begins:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now![=0x0027=][=0x0022=][=0x000A=][=0x000A=]When the Round ends:[=0x000A=][=0x0009=]sort the tally;[=0x000A=][=0x0009=]say [=0x0022=]Phweeep![paragraph break][=0x0027=]So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.[=0x0027=][=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]To challenge for (infraction - text):[=0x000A=][=0x0009=]say [=0x0022=]Bzzzzt! [=0x0027=]And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.[=0x0027=][paragraph break][=0x0027=][infraction][=0x0027=][paragraph break][=0x0027=]Well, as it[=0x0027=]s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now![=0x0022=][=0x000A=][=0x000A=]Before doing something:[=0x000A=][=0x0009=]if the current action is listed in the tally, challenge for [=0x0022=]Repetition of [the current action]![=0x0022=] instead;[=0x000A=][=0x0009=]otherwise add the current action to the tally;[=0x000A=][=0x0009=]if waiting, challenge for [=0x0022=]Hesitation![=0x0022=] instead;[=0x000A=][=0x0009=]if not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for [=0x0022=]Deviation![=0x0022=] instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;I Didn't Come All The Way From Great Portland Street&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29149" -->
<a id="c29149"></a><blockquote class="code"><p class="quoted">
The Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29150" -->
<a id="c29150"></a><blockquote class="code"><p class="quoted">
The Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29151" -->
<a id="c29151"></a><blockquote class="code"><p class="quoted">
The tally is a list of stored actions that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29152" -->
<a id="c29152"></a><blockquote class="code"><p class="quoted">
When the Round begins:
<br />&#160;&#160;&#160;&#160;say &quot;'And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29153" -->
<a id="c29153"></a><blockquote class="code"><p class="quoted">
When the Round ends:
<br />&#160;&#160;&#160;&#160;sort the tally;
<br />&#160;&#160;&#160;&#160;say &quot;Phweeep![paragraph break]'So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.'&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29154" -->
<a id="c29154"></a><blockquote class="code"><p class="quoted">
To challenge for (infraction - text):
<br />&#160;&#160;&#160;&#160;say &quot;Bzzzzt! 'And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.'[paragraph break]'[infraction]'[paragraph break]'Well, as it's your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29155" -->
<a id="c29155"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise add the current action to the tally;
<br />&#160;&#160;&#160;&#160;if waiting, challenge for &quot;Hesitation!&quot; instead;
<br />&#160;&#160;&#160;&#160;if not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for &quot;Deviation!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29156" -->
<a id="c29156"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(The Paris Theatre in Lower Regent Street, London, was for many years the home of BBC radio panel games.)</p>
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_6_14.html#e172" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">I Didn't Come All The Way From Great Portland Street</span></b></a><br />In this fiendishly difficult puzzle, which may perhaps owe some inspiration to a certain BBC Radio panel game (1967-), a list is used as a set of actions to help enforce the rule that the player must keep going for ten turns without hesitation, repetition, or deviating from the subject on the card.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example172">
<p>There is very little to this, in fact. The tricky rule to enforce is Repetition: the player is forbidden to repeat any previously tried action. We keep track of this by keeping a set of past actions, which for want of a better term is called the &quot;tally&quot;. All we need to do is:</p>
<!-- START CODE "c29157" -->
<a id="c29157"></a><blockquote class="code"><p class="quoted">
if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot;;
<br />otherwise add the current action to the tally.
</p></blockquote>
<!-- END CODE -->
<p>Note that the tally can never contain duplicates, and that when, at the end of the round, we print it out, we sort it first - this makes a more natural-looking sentence. (Sorting a list of actions uses the natural order for actions: compare the sequence on the Actions page of the Index.) The full text, then, is:</p>
<!-- START CODE "c29158" -->
<a id="c29158"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]I Didn[=0x0027=]t Come All The Way From Great Portland Street[=0x0022=][=0x000A=][=0x000A=]The Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.[=0x000A=][=0x000A=]The Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.[=0x000A=][=0x000A=]The tally is a list of stored actions that varies.[=0x000A=][=0x000A=]When the Round begins:[=0x000A=][=0x0009=]say [=0x0022=][=0x0027=]And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now![=0x0027=][=0x0022=][=0x000A=][=0x000A=]When the Round ends:[=0x000A=][=0x0009=]sort the tally;[=0x000A=][=0x0009=]say [=0x0022=]Phweeep![paragraph break][=0x0027=]So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.[=0x0027=][=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]To challenge for (infraction - text):[=0x000A=][=0x0009=]say [=0x0022=]Bzzzzt! [=0x0027=]And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.[=0x0027=][paragraph break][=0x0027=][infraction][=0x0027=][paragraph break][=0x0027=]Well, as it[=0x0027=]s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now![=0x0022=][=0x000A=][=0x000A=]Before doing something:[=0x000A=][=0x0009=]if the current action is listed in the tally, challenge for [=0x0022=]Repetition of [the current action]![=0x0022=] instead;[=0x000A=][=0x0009=]otherwise add the current action to the tally;[=0x000A=][=0x0009=]if waiting, challenge for [=0x0022=]Hesitation![=0x0022=] instead;[=0x000A=][=0x0009=]if not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for [=0x0022=]Deviation![=0x0022=] instead.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;I Didn't Come All The Way From Great Portland Street&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29159" -->
<a id="c29159"></a><blockquote class="code"><p class="quoted">
The Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29160" -->
<a id="c29160"></a><blockquote class="code"><p class="quoted">
The Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29161" -->
<a id="c29161"></a><blockquote class="code"><p class="quoted">
The tally is a list of stored actions that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29162" -->
<a id="c29162"></a><blockquote class="code"><p class="quoted">
When the Round begins:
<br />&#160;&#160;&#160;&#160;say &quot;'And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29163" -->
<a id="c29163"></a><blockquote class="code"><p class="quoted">
When the Round ends:
<br />&#160;&#160;&#160;&#160;sort the tally;
<br />&#160;&#160;&#160;&#160;say &quot;Phweeep![paragraph break]'So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.'&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29164" -->
<a id="c29164"></a><blockquote class="code"><p class="quoted">
To challenge for (infraction - text):
<br />&#160;&#160;&#160;&#160;say &quot;Bzzzzt! 'And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.'[paragraph break]'[infraction]'[paragraph break]'Well, as it's your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29165" -->
<a id="c29165"></a><blockquote class="code"><p class="quoted">
Before doing something:
<br />&#160;&#160;&#160;&#160;if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise add the current action to the tally;
<br />&#160;&#160;&#160;&#160;if waiting, challenge for &quot;Hesitation!&quot; instead;
<br />&#160;&#160;&#160;&#160;if not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for &quot;Deviation!&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29166" -->
<a id="c29166"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin&quot;.
</p></blockquote>
<!-- END CODE -->
<p>(The Paris Theatre in Lower Regent Street, London, was for many years the home of BBC radio panel games.)</p>
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex172.html#e172"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e379"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex379.html#e379" class="eglink"><b>222</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex379.html#e379" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Anteaters</span></b></a><br />The player carries a gizmo that is able to record actions performed by the player, then force him to repeat them when the gizmo is dropped. This includes storing actions that apply to topics, as in "look up anteater colonies in the guide".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex379.html#e379"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
