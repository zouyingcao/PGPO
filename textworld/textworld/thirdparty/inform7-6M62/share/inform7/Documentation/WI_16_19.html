<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>16.19. Table amendments</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง16.19. Table amendments</p>
<p>Tables can have amendments as well as continuations. The arrangement is much the same: a supplementary table supplies new rows for the original table. But instead of adding the new rows at the end of the original, as a continuation would, an amendment replaces matching rows in the original. (So the original stays the same size.)</p>
<p>The amendment table must have exactly the columns of the original and in the same order. Moreover, each row in the amended table must match exactly one row in the original. For instance:</p>
<!-- START CODE "c1311" -->
<a id="c1311"></a><blockquote class="code"><p class="quoted">
Table of Plans
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">moment</p></td><td class="quotedtablecell"><p class="quoted">outcome</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">10 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;takeover of Mars&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11:30 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;canals reflooded&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11:45 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;chocolate bar production doubled&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1312" -->
<a id="c1312"></a><blockquote class="code"><p class="quoted">
Table of Plans (amended)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">moment</p></td><td class="quotedtablecell"><p class="quoted">outcome</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">11:45 AM</p></td><td class="quotedtablecell"><p class="quoted">&quot;volcanic cave production doubled&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>creates a three-row Table of Plans, with reference to the chocolate bars struck out.</p>
<p>Amendment rows may be given in any order. The process of matching a row begins at the left-most column: Inform tries to see if any single row in the original table has a matching entry. If none does, a Problem is issued. If more than one do, Inform then looks at the second column, and so on. For instance:</p>
<!-- START CODE "c1313" -->
<a id="c1313"></a><blockquote class="code"><p class="quoted">
Enthusiasm is a kind of value. The enthusiasms are pumped, wired and languid.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1314" -->
<a id="c1314"></a><blockquote class="code"><p class="quoted">
Table of Mental States
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">feeling</p></td><td class="quotedtablecell"><p class="quoted">extent</p></td><td class="quotedtablecell"><p class="quoted">consequence</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">pumped</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run for your life&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">pumped</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run for President&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">wired</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run&quot;</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">languid</p></td><td class="quotedtablecell"><p class="quoted">1</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1315" -->
<a id="c1315"></a><blockquote class="code"><p class="quoted">
Table of Mental States (amended)
<br /></p></blockquote><table class="codetable">
<tr><td class="quotedtablecell"><p class="quoted">feeling</p></td><td class="quotedtablecell"><p class="quoted">extent</p></td><td class="quotedtablecell"><p class="quoted">consequence</p></td></tr>
<tr><td class="quotedtablecell"><p class="quoted">pumped</p></td><td class="quotedtablecell"><p class="quoted">2</p></td><td class="quotedtablecell"><p class="quoted">&quot;you feel able to run for the Nebraska State Legislature&quot;</p></td></tr>
</table><blockquote><p>
</p></blockquote>
<!-- END CODE -->
<p>Here the amendment is made to the second row of the original table. The value in the leftmost column, &quot;pumped&quot;, matches two rows in the original, so Inform moves on to the next column, reads &quot;2&quot;, and finds that only one row in the original still qualifies - so that is the one replaced.</p>
<p>For the present, at least, the columns used for matching may only contain: numbers, times, objects, action names, activities, figure names, sound names, truth states and any new kinds of value or units which have been declared.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_16_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_16_1.html" class="standardlink">Start of Chapter 16: Tables</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_16_18.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_16_18.html" class="standardlink">Back to ยง16.18. Table continuations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17_1.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_17_1.html" class="standardlink">Onward to Chapter 17: Understanding: ยง17.1. Understand</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e106"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex106.html#e106" class="eglink"><b>285</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex106.html#e106" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Trieste</span></b></a><br />Table amendment to adjust HELP commands provided for the player.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex106.html#e106"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
