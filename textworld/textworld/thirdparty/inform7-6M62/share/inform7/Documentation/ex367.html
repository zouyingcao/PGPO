<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>17.20. Multiple action processing</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง17.20. Multiple action processing</p>
<p>When the player types a command like DROP ALL, this is (usually) a request to carry out more than one action. After the command parser has decided what constitutes &quot;ALL&quot; (a process which can be influenced using the &quot;deciding whether all includes&quot; activity), it forms up a list and then runs through it, starting an action for each in turn. The result usually looks something like this:</p>
<!-- START CODE "c1412" -->
<a id="c1412"></a><blockquote class="code"><p class="quoted">
&gt;GET ALL
<br />foxglove: Taken.
<br />snake's head fritillary: Taken.
</p></blockquote>
<!-- END CODE -->
<p>However, by adding rules to the rulebook:</p>
<!-- START CODE "c1413" -->
<a id="c1413"></a><blockquote class="code"><p class="quoted">
multiple action processing rules
</p></blockquote>
<!-- END CODE -->
<p>we can take a look at the actions intended, and rearrange or indeed change them before they take effect. To do that, we have to deal with a special list of objects. For two technical reasons this isn't stored as a &quot;list of objects that varies&quot; - first because it needs to exist even in low-memory situations where we can't afford full list-processing, and second because there are times when changing it might be hazardous. Instead, two phrases are provided to read the list and to write it back:</p>
<!-- START PHRASE "defn245" -->
<div class="definition"><a id="defn245"></a><p class="defnprototype"><b>multiple object list ... list of objects</b></p>
<!-- END PHRASE -->
<!-- definition of ph_multipleobjectlist -->

<p>This phrase produces the current multiple object list as a value. The list will be the collection of objects found to match a plural noun like ALL in the most recent command typed by the player. If there is no multiple object, say if the command was TAKE PEAR, the list will be empty: it won't be a list of size 1.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn246" -->
<div class="definition"><a id="defn246"></a><p class="defnprototype"><b>alter the multiple object list to </b>(list of objects)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_altermultipleobjectlist -->

<p>This phrase sets the multiple object list to the given value. The list is ordinarily the collection of objects found to match a plural noun like ALL in the most recent command typed by the player, but using this phrase at the right moment (before the &quot;generate action rule&quot; in the turn sequence rules takes effect).</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_17_1.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17_19.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_17_19.html" class="standardlink">Back to ยง17.19. Does the player mean...</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17_21.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_17_21.html" class="standardlink">Onward to ยง17.21. Understanding mistakes</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e296"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex296.html#e296" class="eglink"><b>327</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex296.html#e296" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Western Art History 305</span></b></a><br />Allowing EXAMINE to see multiple objects with a single command.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex296.html#e296"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e367"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_17_20.html#e367" class="eglink"><b>328</b></a></div>
<div class="egpanel" id="example367">
<p>If a single command asks to do many things, some dull and some exciting, we may want to save the good ones for the end.</p>
<!-- START CODE "c19516" -->
<a id="c19516"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]The Best Till Last[=0x0022=][=0x000A=][=0x000A=]The Funky Ignition Lounge is a room. [=0x0022=]This is where all evenings end.[=0x0022=] The stick of gelignite, the solid magnesium footstool, the vetiver candle, and the vodka bottle are here.[=0x000A=][=0x000A=]The burn description of the vetiver candle is [=0x0022=]It burns right down, expensively but gothically.[=0x0022=][=0x000A=][=0x000A=]The player carries an inexpensive firework. The description of the firework is [=0x0022=]It is a cardboard tube with red and green stripes along the outside, and a fuse sticking out of the end.[=0x0022=] The burn description of the firework is [=0x0022=]It ignites gloriously! You take a few hasty steps back in order to avoid burning yourself, and not a moment too soon. Red and green sparks fly out of the tube, and there[=0x0027=]s a whistling noise punctuated by several loud cracks.[=0x0022=][=0x000A=][=0x000A=]The player carries a lighter. The description of the lighter is [=0x0022=]You don[=0x0027=]t smoke, but you like to have access to flame now and then anyway.[=0x0022=][=0x000A=][=0x000A=]Burning it with is an action applying to one thing and one carried thing.[=0x000A=][=0x000A=]Understand [=0x0022=]burn [things] with [something preferably held][=0x0022=] as burning it with.[=0x000A=][=0x000A=]The block burning rule is not listed in any rulebook.[=0x000A=][=0x000A=]A thing has some text called the burn description.[=0x000A=][=0x000A=]Check burning something:[=0x000A=][=0x0009=]if the player carries the lighter:[=0x000A=][=0x0009=][=0x0009=]try burning the noun with the lighter;[=0x000A=][=0x0009=]else:[=0x000A=][=0x0009=][=0x0009=]try burning the noun with the noun.[=0x000A=][=0x000A=]Check burning something with something when the second noun is not the lighter:[=0x000A=][=0x0009=]say [=0x0022=]Your trusty lighter is the best flame source available to you.[=0x0022=] instead.[=0x000A=][=0x000A=]Check burning something with something:[=0x000A=][=0x0009=]if the burn description of the noun is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Best not.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out burning something with something:[=0x000A=][=0x0009=]remove the noun from play.[=0x000A=][=0x000A=]Report burning something with something:[=0x000A=][=0x0009=]say [=0x0022=][burn description of the noun][line break][=0x0022=].[=0x000A=][=0x000A=]A multiple action processing rule when the action name part of the current action is the burning it with action (this is the orderly burn rule):[=0x000A=][=0x0009=]let L be the multiple object list;[=0x000A=][=0x0009=]let dull list be a list of objects;[=0x000A=][=0x0009=]let fun list be a list of objects;[=0x000A=][=0x0009=]repeat with item running through L:[=0x000A=][=0x0009=][=0x0009=]if the burn description of the item is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]add item to dull list;[=0x000A=][=0x0009=][=0x0009=]else:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]add item to fun list;[=0x000A=][=0x0009=]let F be the dull list;[=0x000A=][=0x0009=]add fun list to F;[=0x000A=][=0x0009=]alter the multiple object list to F.[=0x000A=][=0x000A=]Test me with [=0x0022=]burn all with lighter[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;The Best Till Last&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19517" -->
<a id="c19517"></a><blockquote class="code"><p class="quoted">
The Funky Ignition Lounge is a room. &quot;This is where all evenings end.&quot; The stick of gelignite, the solid magnesium footstool, the vetiver candle, and the vodka bottle are here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19518" -->
<a id="c19518"></a><blockquote class="code"><p class="quoted">
The burn description of the vetiver candle is &quot;It burns right down, expensively but gothically.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19519" -->
<a id="c19519"></a><blockquote class="code"><p class="quoted">
The player carries an inexpensive firework. The description of the firework is &quot;It is a cardboard tube with red and green stripes along the outside, and a fuse sticking out of the end.&quot; The burn description of the firework is &quot;It ignites gloriously! You take a few hasty steps back in order to avoid burning yourself, and not a moment too soon. Red and green sparks fly out of the tube, and there's a whistling noise punctuated by several loud cracks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19520" -->
<a id="c19520"></a><blockquote class="code"><p class="quoted">
The player carries a lighter. The description of the lighter is &quot;You don't smoke, but you like to have access to flame now and then anyway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19521" -->
<a id="c19521"></a><blockquote class="code"><p class="quoted">
Burning it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19522" -->
<a id="c19522"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [things] with [something preferably held]&quot; as burning it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19523" -->
<a id="c19523"></a><blockquote class="code"><p class="quoted">
The block burning rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19524" -->
<a id="c19524"></a><blockquote class="code"><p class="quoted">
A thing has some text called the burn description.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19525" -->
<a id="c19525"></a><blockquote class="code"><p class="quoted">
Check burning something:
<br />&#160;&#160;&#160;&#160;if the player carries the lighter:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the lighter;
<br />&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19526" -->
<a id="c19526"></a><blockquote class="code"><p class="quoted">
Check burning something with something when the second noun is not the lighter:
<br />&#160;&#160;&#160;&#160;say &quot;Your trusty lighter is the best flame source available to you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19527" -->
<a id="c19527"></a><blockquote class="code"><p class="quoted">
Check burning something with something:
<br />&#160;&#160;&#160;&#160;if the burn description of the noun is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Best not.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19528" -->
<a id="c19528"></a><blockquote class="code"><p class="quoted">
Carry out burning something with something:
<br />&#160;&#160;&#160;&#160;remove the noun from play.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19529" -->
<a id="c19529"></a><blockquote class="code"><p class="quoted">
Report burning something with something:
<br />&#160;&#160;&#160;&#160;say &quot;[burn description of the noun][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19530" -->
<a id="c19530"></a><blockquote class="code"><p class="quoted">
A multiple action processing rule when the action name part of the current action is the burning it with action (this is the orderly burn rule):
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;let dull list be a list of objects;
<br />&#160;&#160;&#160;&#160;let fun list be a list of objects;
<br />&#160;&#160;&#160;&#160;repeat with item running through L:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the burn description of the item is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to dull list;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to fun list;
<br />&#160;&#160;&#160;&#160;let F be the dull list;
<br />&#160;&#160;&#160;&#160;add fun list to F;
<br />&#160;&#160;&#160;&#160;alter the multiple object list to F.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19531" -->
<a id="c19531"></a><blockquote class="code"><p class="quoted">
Test me with &quot;burn all with lighter&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17_20.html#e367" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">The Best Till Last</span></b></a><br />Reordering multiple objects for dramatic effect.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example367">
<p>If a single command asks to do many things, some dull and some exciting, we may want to save the good ones for the end.</p>
<!-- START CODE "c19532" -->
<a id="c19532"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]The Best Till Last[=0x0022=][=0x000A=][=0x000A=]The Funky Ignition Lounge is a room. [=0x0022=]This is where all evenings end.[=0x0022=] The stick of gelignite, the solid magnesium footstool, the vetiver candle, and the vodka bottle are here.[=0x000A=][=0x000A=]The burn description of the vetiver candle is [=0x0022=]It burns right down, expensively but gothically.[=0x0022=][=0x000A=][=0x000A=]The player carries an inexpensive firework. The description of the firework is [=0x0022=]It is a cardboard tube with red and green stripes along the outside, and a fuse sticking out of the end.[=0x0022=] The burn description of the firework is [=0x0022=]It ignites gloriously! You take a few hasty steps back in order to avoid burning yourself, and not a moment too soon. Red and green sparks fly out of the tube, and there[=0x0027=]s a whistling noise punctuated by several loud cracks.[=0x0022=][=0x000A=][=0x000A=]The player carries a lighter. The description of the lighter is [=0x0022=]You don[=0x0027=]t smoke, but you like to have access to flame now and then anyway.[=0x0022=][=0x000A=][=0x000A=]Burning it with is an action applying to one thing and one carried thing.[=0x000A=][=0x000A=]Understand [=0x0022=]burn [things] with [something preferably held][=0x0022=] as burning it with.[=0x000A=][=0x000A=]The block burning rule is not listed in any rulebook.[=0x000A=][=0x000A=]A thing has some text called the burn description.[=0x000A=][=0x000A=]Check burning something:[=0x000A=][=0x0009=]if the player carries the lighter:[=0x000A=][=0x0009=][=0x0009=]try burning the noun with the lighter;[=0x000A=][=0x0009=]else:[=0x000A=][=0x0009=][=0x0009=]try burning the noun with the noun.[=0x000A=][=0x000A=]Check burning something with something when the second noun is not the lighter:[=0x000A=][=0x0009=]say [=0x0022=]Your trusty lighter is the best flame source available to you.[=0x0022=] instead.[=0x000A=][=0x000A=]Check burning something with something:[=0x000A=][=0x0009=]if the burn description of the noun is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Best not.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out burning something with something:[=0x000A=][=0x0009=]remove the noun from play.[=0x000A=][=0x000A=]Report burning something with something:[=0x000A=][=0x0009=]say [=0x0022=][burn description of the noun][line break][=0x0022=].[=0x000A=][=0x000A=]A multiple action processing rule when the action name part of the current action is the burning it with action (this is the orderly burn rule):[=0x000A=][=0x0009=]let L be the multiple object list;[=0x000A=][=0x0009=]let dull list be a list of objects;[=0x000A=][=0x0009=]let fun list be a list of objects;[=0x000A=][=0x0009=]repeat with item running through L:[=0x000A=][=0x0009=][=0x0009=]if the burn description of the item is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]add item to dull list;[=0x000A=][=0x0009=][=0x0009=]else:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]add item to fun list;[=0x000A=][=0x0009=]let F be the dull list;[=0x000A=][=0x0009=]add fun list to F;[=0x000A=][=0x0009=]alter the multiple object list to F.[=0x000A=][=0x000A=]Test me with [=0x0022=]burn all with lighter[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;The Best Till Last&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19533" -->
<a id="c19533"></a><blockquote class="code"><p class="quoted">
The Funky Ignition Lounge is a room. &quot;This is where all evenings end.&quot; The stick of gelignite, the solid magnesium footstool, the vetiver candle, and the vodka bottle are here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19534" -->
<a id="c19534"></a><blockquote class="code"><p class="quoted">
The burn description of the vetiver candle is &quot;It burns right down, expensively but gothically.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19535" -->
<a id="c19535"></a><blockquote class="code"><p class="quoted">
The player carries an inexpensive firework. The description of the firework is &quot;It is a cardboard tube with red and green stripes along the outside, and a fuse sticking out of the end.&quot; The burn description of the firework is &quot;It ignites gloriously! You take a few hasty steps back in order to avoid burning yourself, and not a moment too soon. Red and green sparks fly out of the tube, and there's a whistling noise punctuated by several loud cracks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19536" -->
<a id="c19536"></a><blockquote class="code"><p class="quoted">
The player carries a lighter. The description of the lighter is &quot;You don't smoke, but you like to have access to flame now and then anyway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19537" -->
<a id="c19537"></a><blockquote class="code"><p class="quoted">
Burning it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19538" -->
<a id="c19538"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [things] with [something preferably held]&quot; as burning it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19539" -->
<a id="c19539"></a><blockquote class="code"><p class="quoted">
The block burning rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19540" -->
<a id="c19540"></a><blockquote class="code"><p class="quoted">
A thing has some text called the burn description.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19541" -->
<a id="c19541"></a><blockquote class="code"><p class="quoted">
Check burning something:
<br />&#160;&#160;&#160;&#160;if the player carries the lighter:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the lighter;
<br />&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19542" -->
<a id="c19542"></a><blockquote class="code"><p class="quoted">
Check burning something with something when the second noun is not the lighter:
<br />&#160;&#160;&#160;&#160;say &quot;Your trusty lighter is the best flame source available to you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19543" -->
<a id="c19543"></a><blockquote class="code"><p class="quoted">
Check burning something with something:
<br />&#160;&#160;&#160;&#160;if the burn description of the noun is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Best not.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19544" -->
<a id="c19544"></a><blockquote class="code"><p class="quoted">
Carry out burning something with something:
<br />&#160;&#160;&#160;&#160;remove the noun from play.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19545" -->
<a id="c19545"></a><blockquote class="code"><p class="quoted">
Report burning something with something:
<br />&#160;&#160;&#160;&#160;say &quot;[burn description of the noun][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19546" -->
<a id="c19546"></a><blockquote class="code"><p class="quoted">
A multiple action processing rule when the action name part of the current action is the burning it with action (this is the orderly burn rule):
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;let dull list be a list of objects;
<br />&#160;&#160;&#160;&#160;let fun list be a list of objects;
<br />&#160;&#160;&#160;&#160;repeat with item running through L:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the burn description of the item is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to dull list;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to fun list;
<br />&#160;&#160;&#160;&#160;let F be the dull list;
<br />&#160;&#160;&#160;&#160;add fun list to F;
<br />&#160;&#160;&#160;&#160;alter the multiple object list to F.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19547" -->
<a id="c19547"></a><blockquote class="code"><p class="quoted">
Test me with &quot;burn all with lighter&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex367.html#e367"><i>RB</i></a></div>
<div class="egpanel" id="example367">
<p>If a single command asks to do many things, some dull and some exciting, we may want to save the good ones for the end.</p>
<!-- START CODE "c19548" -->
<a id="c19548"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]The Best Till Last[=0x0022=][=0x000A=][=0x000A=]The Funky Ignition Lounge is a room. [=0x0022=]This is where all evenings end.[=0x0022=] The stick of gelignite, the solid magnesium footstool, the vetiver candle, and the vodka bottle are here.[=0x000A=][=0x000A=]The burn description of the vetiver candle is [=0x0022=]It burns right down, expensively but gothically.[=0x0022=][=0x000A=][=0x000A=]The player carries an inexpensive firework. The description of the firework is [=0x0022=]It is a cardboard tube with red and green stripes along the outside, and a fuse sticking out of the end.[=0x0022=] The burn description of the firework is [=0x0022=]It ignites gloriously! You take a few hasty steps back in order to avoid burning yourself, and not a moment too soon. Red and green sparks fly out of the tube, and there[=0x0027=]s a whistling noise punctuated by several loud cracks.[=0x0022=][=0x000A=][=0x000A=]The player carries a lighter. The description of the lighter is [=0x0022=]You don[=0x0027=]t smoke, but you like to have access to flame now and then anyway.[=0x0022=][=0x000A=][=0x000A=]Burning it with is an action applying to one thing and one carried thing.[=0x000A=][=0x000A=]Understand [=0x0022=]burn [things] with [something preferably held][=0x0022=] as burning it with.[=0x000A=][=0x000A=]The block burning rule is not listed in any rulebook.[=0x000A=][=0x000A=]A thing has some text called the burn description.[=0x000A=][=0x000A=]Check burning something:[=0x000A=][=0x0009=]if the player carries the lighter:[=0x000A=][=0x0009=][=0x0009=]try burning the noun with the lighter;[=0x000A=][=0x0009=]else:[=0x000A=][=0x0009=][=0x0009=]try burning the noun with the noun.[=0x000A=][=0x000A=]Check burning something with something when the second noun is not the lighter:[=0x000A=][=0x0009=]say [=0x0022=]Your trusty lighter is the best flame source available to you.[=0x0022=] instead.[=0x000A=][=0x000A=]Check burning something with something:[=0x000A=][=0x0009=]if the burn description of the noun is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Best not.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out burning something with something:[=0x000A=][=0x0009=]remove the noun from play.[=0x000A=][=0x000A=]Report burning something with something:[=0x000A=][=0x0009=]say [=0x0022=][burn description of the noun][line break][=0x0022=].[=0x000A=][=0x000A=]A multiple action processing rule when the action name part of the current action is the burning it with action (this is the orderly burn rule):[=0x000A=][=0x0009=]let L be the multiple object list;[=0x000A=][=0x0009=]let dull list be a list of objects;[=0x000A=][=0x0009=]let fun list be a list of objects;[=0x000A=][=0x0009=]repeat with item running through L:[=0x000A=][=0x0009=][=0x0009=]if the burn description of the item is [=0x0022=][=0x0022=]:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]add item to dull list;[=0x000A=][=0x0009=][=0x0009=]else:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]add item to fun list;[=0x000A=][=0x0009=]let F be the dull list;[=0x000A=][=0x0009=]add fun list to F;[=0x000A=][=0x0009=]alter the multiple object list to F.[=0x000A=][=0x000A=]Test me with [=0x0022=]burn all with lighter[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;The Best Till Last&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19549" -->
<a id="c19549"></a><blockquote class="code"><p class="quoted">
The Funky Ignition Lounge is a room. &quot;This is where all evenings end.&quot; The stick of gelignite, the solid magnesium footstool, the vetiver candle, and the vodka bottle are here.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19550" -->
<a id="c19550"></a><blockquote class="code"><p class="quoted">
The burn description of the vetiver candle is &quot;It burns right down, expensively but gothically.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19551" -->
<a id="c19551"></a><blockquote class="code"><p class="quoted">
The player carries an inexpensive firework. The description of the firework is &quot;It is a cardboard tube with red and green stripes along the outside, and a fuse sticking out of the end.&quot; The burn description of the firework is &quot;It ignites gloriously! You take a few hasty steps back in order to avoid burning yourself, and not a moment too soon. Red and green sparks fly out of the tube, and there's a whistling noise punctuated by several loud cracks.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19552" -->
<a id="c19552"></a><blockquote class="code"><p class="quoted">
The player carries a lighter. The description of the lighter is &quot;You don't smoke, but you like to have access to flame now and then anyway.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19553" -->
<a id="c19553"></a><blockquote class="code"><p class="quoted">
Burning it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19554" -->
<a id="c19554"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [things] with [something preferably held]&quot; as burning it with.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19555" -->
<a id="c19555"></a><blockquote class="code"><p class="quoted">
The block burning rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19556" -->
<a id="c19556"></a><blockquote class="code"><p class="quoted">
A thing has some text called the burn description.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19557" -->
<a id="c19557"></a><blockquote class="code"><p class="quoted">
Check burning something:
<br />&#160;&#160;&#160;&#160;if the player carries the lighter:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the lighter;
<br />&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try burning the noun with the noun.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19558" -->
<a id="c19558"></a><blockquote class="code"><p class="quoted">
Check burning something with something when the second noun is not the lighter:
<br />&#160;&#160;&#160;&#160;say &quot;Your trusty lighter is the best flame source available to you.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19559" -->
<a id="c19559"></a><blockquote class="code"><p class="quoted">
Check burning something with something:
<br />&#160;&#160;&#160;&#160;if the burn description of the noun is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Best not.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19560" -->
<a id="c19560"></a><blockquote class="code"><p class="quoted">
Carry out burning something with something:
<br />&#160;&#160;&#160;&#160;remove the noun from play.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19561" -->
<a id="c19561"></a><blockquote class="code"><p class="quoted">
Report burning something with something:
<br />&#160;&#160;&#160;&#160;say &quot;[burn description of the noun][line break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19562" -->
<a id="c19562"></a><blockquote class="code"><p class="quoted">
A multiple action processing rule when the action name part of the current action is the burning it with action (this is the orderly burn rule):
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;let dull list be a list of objects;
<br />&#160;&#160;&#160;&#160;let fun list be a list of objects;
<br />&#160;&#160;&#160;&#160;repeat with item running through L:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the burn description of the item is &quot;&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to dull list;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add item to fun list;
<br />&#160;&#160;&#160;&#160;let F be the dull list;
<br />&#160;&#160;&#160;&#160;add fun list to F;
<br />&#160;&#160;&#160;&#160;alter the multiple object list to F.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c19563" -->
<a id="c19563"></a><blockquote class="code"><p class="quoted">
Test me with &quot;burn all with lighter&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
