<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>19.2. Named rules and rulebooks</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง19.2. Named rules and rulebooks</p>
<p>Most of the rules built into Inform have names. For instance, a rule called &quot;the advance time rule&quot; is the one which increments the number of turns and advances the clock, values which are usually not visible, but are ticking away behind the scenes.</p>
<p>A rulebook is a list of rules to be followed in sequence until one of them makes a decision. For instance, when actions get to the &quot;instead&quot; stage, each &quot;instead&quot; rule is tried until one of them chooses to do something. If the source text contains the rules</p>
<!-- START CODE "c1583" -->
<a id="c1583"></a><blockquote class="code"><p class="quoted">
Instead of taking something: say &quot;You have no particular need just now.&quot;
<br />Instead of taking a fish: say &quot;It's all slimy.&quot;
</p></blockquote>
<!-- END CODE -->
<p>and a command to TAKE something is tried, then only one of these rules will have any effect. The &quot;instead&quot; rulebook contains:</p>
<!-- START CODE "c1584" -->
<a id="c1584"></a><blockquote class="code"><p class="quoted">
Rule (1) to be applied if the action matches &quot;taking a fish&quot;
<br />Rule (2) to be applied if the action matches &quot;taking something&quot;
</p></blockquote>
<!-- END CODE -->
<p>Inside their rulebook, the rules are not listed in the order of definition in the source text. Rule (1) comes before rule (2) because it applies in more specific circumstances. This is the main idea: a rulebook gathers together rules about making some decision, or taking some action, and sorts them in order to give the more specific rules first choice about whether they want to intervene.</p>
<p>Whereas only some rules are named (the two &quot;instead&quot; rules above have no name, for instance), every rulebook has a name. For convenience, the following forms of rule and rulebook name are synonymous:</p>
<!-- START CODE "c1585" -->
<a id="c1585"></a><blockquote class="code"><p class="quoted">
advance time = the advance time rule
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1586" -->
<a id="c1586"></a><blockquote class="code"><p class="quoted">
the instead rules = instead rulebook = instead
</p></blockquote>
<!-- END CODE -->
<p>The names of built-in rules have been chosen as descriptively as possible: the &quot;can't go through closed doors rule&quot;, for instance. Names for rules tend to be verbose, but this is a situation where clarity is very much better than brevity.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_19_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_19_1.html" class="standardlink">Start of Chapter 19: Rulebooks</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_19_1.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_19_1.html" class="standardlink">Back to ยง19.1. On rules</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_19_3.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_19_3.html" class="standardlink">Onward to ยง19.3. New rules</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e207"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex207.html#e207" class="eglink"><b>388</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex207.html#e207" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Nine AM Appointment</span></b></a><br />A WAIT [number] MINUTES command which advances through an arbitrary number of turns.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex207.html#e207"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e251"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_19_2.html#e251" class="eglink"><b>389</b></a></div>
<div class="egpanel" id="example251">
<!-- START CODE "c13168" -->
<a id="c13168"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Delayed Gratification[=0x0022=][=0x000A=][=0x000A=]Hanging around until is an action applying to one time.[=0x000A=][=0x000A=]Check hanging around until:[=0x000A=][=0x0009=]if the time of day is the time understood, say [=0x0022=]It is [time understood] now![=0x0022=] instead;[=0x000A=][=0x0009=]if the time of day is after the time understood, say [=0x0022=]It is too late for that now.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out hanging around until:[=0x000A=][=0x0009=]while the time of day is before the time understood:[=0x000A=][=0x0009=][=0x0009=]follow the turn sequence rules.[=0x000A=][=0x000A=]Report hanging around until:[=0x000A=][=0x0009=]say [=0x0022=]You yawn until [time understood].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]wait until [time][=0x0022=] as hanging around until.[=0x000A=][=0x000A=]The Empty Field is a room. [=0x0022=]It[=0x0027=]s an ordinary empty field. Nothing to see here at all-- yet. Wait until 11:45 PM, though.[=0x0022=][=0x000A=][=0x000A=]At 11:45 PM:[=0x000A=][=0x0009=]say [=0x0022=]Suddenly the air is filled with light and the sounds of an approaching band. Over the crest of the hill comes a parade of singing, stomping, hooting people: and not just people, but dogs, horses, elephants, giraffes... There are banners, and candles, and a flag that glows eerie-green in the dark; there is a float shaped like an enormous turtle, its shell covered with winking green lights; there is an old man dressed as a skeleton, carried in a litter, his neck garlanded with dried chiles. There are small girls throwing rose petals from a basket, and grown women half-naked carrying the emblems of Bacchic revelry, and two little boys each with a silver basin of clear water. All these go by in procession, and you join on at the end.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / z / z / wait until 11:45 PM[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Delayed Gratification&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13169" -->
<a id="c13169"></a><blockquote class="code"><p class="quoted">
Hanging around until is an action applying to one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13170" -->
<a id="c13170"></a><blockquote class="code"><p class="quoted">
Check hanging around until:
<br />&#160;&#160;&#160;&#160;if the time of day is the time understood, say &quot;It is [time understood] now!&quot; instead;
<br />&#160;&#160;&#160;&#160;if the time of day is after the time understood, say &quot;It is too late for that now.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13171" -->
<a id="c13171"></a><blockquote class="code"><p class="quoted">
Carry out hanging around until:
<br />&#160;&#160;&#160;&#160;while the time of day is before the time understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13172" -->
<a id="c13172"></a><blockquote class="code"><p class="quoted">
Report hanging around until:
<br />&#160;&#160;&#160;&#160;say &quot;You yawn until [time understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13173" -->
<a id="c13173"></a><blockquote class="code"><p class="quoted">
Understand &quot;wait until [time]&quot; as hanging around until.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13174" -->
<a id="c13174"></a><blockquote class="code"><p class="quoted">
The Empty Field is a room. &quot;It's an ordinary empty field. Nothing to see here at all-- yet. Wait until 11:45 PM, though.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13175" -->
<a id="c13175"></a><blockquote class="code"><p class="quoted">
At 11:45 PM:
<br />&#160;&#160;&#160;&#160;say &quot;Suddenly the air is filled with light and the sounds of an approaching band. Over the crest of the hill comes a parade of singing, stomping, hooting people: and not just people, but dogs, horses, elephants, giraffes... There are banners, and candles, and a flag that glows eerie-green in the dark; there is a float shaped like an enormous turtle, its shell covered with winking green lights; there is an old man dressed as a skeleton, carried in a litter, his neck garlanded with dried chiles. There are small girls throwing rose petals from a basket, and grown women half-naked carrying the emblems of Bacchic revelry, and two little boys each with a silver basin of clear water. All these go by in procession, and you join on at the end.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13176" -->
<a id="c13176"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / z / z / wait until 11:45 PM&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_19_2.html#e251" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Delayed Gratification</span></b></a><br />A WAIT UNTIL [time] command which advances until the game clock reaches the correct hour.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example251">
<!-- START CODE "c13177" -->
<a id="c13177"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Delayed Gratification[=0x0022=][=0x000A=][=0x000A=]Hanging around until is an action applying to one time.[=0x000A=][=0x000A=]Check hanging around until:[=0x000A=][=0x0009=]if the time of day is the time understood, say [=0x0022=]It is [time understood] now![=0x0022=] instead;[=0x000A=][=0x0009=]if the time of day is after the time understood, say [=0x0022=]It is too late for that now.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out hanging around until:[=0x000A=][=0x0009=]while the time of day is before the time understood:[=0x000A=][=0x0009=][=0x0009=]follow the turn sequence rules.[=0x000A=][=0x000A=]Report hanging around until:[=0x000A=][=0x0009=]say [=0x0022=]You yawn until [time understood].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]wait until [time][=0x0022=] as hanging around until.[=0x000A=][=0x000A=]The Empty Field is a room. [=0x0022=]It[=0x0027=]s an ordinary empty field. Nothing to see here at all-- yet. Wait until 11:45 PM, though.[=0x0022=][=0x000A=][=0x000A=]At 11:45 PM:[=0x000A=][=0x0009=]say [=0x0022=]Suddenly the air is filled with light and the sounds of an approaching band. Over the crest of the hill comes a parade of singing, stomping, hooting people: and not just people, but dogs, horses, elephants, giraffes... There are banners, and candles, and a flag that glows eerie-green in the dark; there is a float shaped like an enormous turtle, its shell covered with winking green lights; there is an old man dressed as a skeleton, carried in a litter, his neck garlanded with dried chiles. There are small girls throwing rose petals from a basket, and grown women half-naked carrying the emblems of Bacchic revelry, and two little boys each with a silver basin of clear water. All these go by in procession, and you join on at the end.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / z / z / wait until 11:45 PM[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Delayed Gratification&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13178" -->
<a id="c13178"></a><blockquote class="code"><p class="quoted">
Hanging around until is an action applying to one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13179" -->
<a id="c13179"></a><blockquote class="code"><p class="quoted">
Check hanging around until:
<br />&#160;&#160;&#160;&#160;if the time of day is the time understood, say &quot;It is [time understood] now!&quot; instead;
<br />&#160;&#160;&#160;&#160;if the time of day is after the time understood, say &quot;It is too late for that now.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13180" -->
<a id="c13180"></a><blockquote class="code"><p class="quoted">
Carry out hanging around until:
<br />&#160;&#160;&#160;&#160;while the time of day is before the time understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13181" -->
<a id="c13181"></a><blockquote class="code"><p class="quoted">
Report hanging around until:
<br />&#160;&#160;&#160;&#160;say &quot;You yawn until [time understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13182" -->
<a id="c13182"></a><blockquote class="code"><p class="quoted">
Understand &quot;wait until [time]&quot; as hanging around until.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13183" -->
<a id="c13183"></a><blockquote class="code"><p class="quoted">
The Empty Field is a room. &quot;It's an ordinary empty field. Nothing to see here at all-- yet. Wait until 11:45 PM, though.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13184" -->
<a id="c13184"></a><blockquote class="code"><p class="quoted">
At 11:45 PM:
<br />&#160;&#160;&#160;&#160;say &quot;Suddenly the air is filled with light and the sounds of an approaching band. Over the crest of the hill comes a parade of singing, stomping, hooting people: and not just people, but dogs, horses, elephants, giraffes... There are banners, and candles, and a flag that glows eerie-green in the dark; there is a float shaped like an enormous turtle, its shell covered with winking green lights; there is an old man dressed as a skeleton, carried in a litter, his neck garlanded with dried chiles. There are small girls throwing rose petals from a basket, and grown women half-naked carrying the emblems of Bacchic revelry, and two little boys each with a silver basin of clear water. All these go by in procession, and you join on at the end.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13185" -->
<a id="c13185"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / z / z / wait until 11:45 PM&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex251.html#e251"><i>RB</i></a></div>
<div class="egpanel" id="example251">
<!-- START CODE "c13186" -->
<a id="c13186"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Delayed Gratification[=0x0022=][=0x000A=][=0x000A=]Hanging around until is an action applying to one time.[=0x000A=][=0x000A=]Check hanging around until:[=0x000A=][=0x0009=]if the time of day is the time understood, say [=0x0022=]It is [time understood] now![=0x0022=] instead;[=0x000A=][=0x0009=]if the time of day is after the time understood, say [=0x0022=]It is too late for that now.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out hanging around until:[=0x000A=][=0x0009=]while the time of day is before the time understood:[=0x000A=][=0x0009=][=0x0009=]follow the turn sequence rules.[=0x000A=][=0x000A=]Report hanging around until:[=0x000A=][=0x0009=]say [=0x0022=]You yawn until [time understood].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]wait until [time][=0x0022=] as hanging around until.[=0x000A=][=0x000A=]The Empty Field is a room. [=0x0022=]It[=0x0027=]s an ordinary empty field. Nothing to see here at all-- yet. Wait until 11:45 PM, though.[=0x0022=][=0x000A=][=0x000A=]At 11:45 PM:[=0x000A=][=0x0009=]say [=0x0022=]Suddenly the air is filled with light and the sounds of an approaching band. Over the crest of the hill comes a parade of singing, stomping, hooting people: and not just people, but dogs, horses, elephants, giraffes... There are banners, and candles, and a flag that glows eerie-green in the dark; there is a float shaped like an enormous turtle, its shell covered with winking green lights; there is an old man dressed as a skeleton, carried in a litter, his neck garlanded with dried chiles. There are small girls throwing rose petals from a basket, and grown women half-naked carrying the emblems of Bacchic revelry, and two little boys each with a silver basin of clear water. All these go by in procession, and you join on at the end.[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=]Test me with [=0x0022=]look / z / z / wait until 11:45 PM[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Delayed Gratification&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13187" -->
<a id="c13187"></a><blockquote class="code"><p class="quoted">
Hanging around until is an action applying to one time.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13188" -->
<a id="c13188"></a><blockquote class="code"><p class="quoted">
Check hanging around until:
<br />&#160;&#160;&#160;&#160;if the time of day is the time understood, say &quot;It is [time understood] now!&quot; instead;
<br />&#160;&#160;&#160;&#160;if the time of day is after the time understood, say &quot;It is too late for that now.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13189" -->
<a id="c13189"></a><blockquote class="code"><p class="quoted">
Carry out hanging around until:
<br />&#160;&#160;&#160;&#160;while the time of day is before the time understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;follow the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13190" -->
<a id="c13190"></a><blockquote class="code"><p class="quoted">
Report hanging around until:
<br />&#160;&#160;&#160;&#160;say &quot;You yawn until [time understood].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13191" -->
<a id="c13191"></a><blockquote class="code"><p class="quoted">
Understand &quot;wait until [time]&quot; as hanging around until.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13192" -->
<a id="c13192"></a><blockquote class="code"><p class="quoted">
The Empty Field is a room. &quot;It's an ordinary empty field. Nothing to see here at all-- yet. Wait until 11:45 PM, though.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13193" -->
<a id="c13193"></a><blockquote class="code"><p class="quoted">
At 11:45 PM:
<br />&#160;&#160;&#160;&#160;say &quot;Suddenly the air is filled with light and the sounds of an approaching band. Over the crest of the hill comes a parade of singing, stomping, hooting people: and not just people, but dogs, horses, elephants, giraffes... There are banners, and candles, and a flag that glows eerie-green in the dark; there is a float shaped like an enormous turtle, its shell covered with winking green lights; there is an old man dressed as a skeleton, carried in a litter, his neck garlanded with dried chiles. There are small girls throwing rose petals from a basket, and grown women half-naked carrying the emblems of Bacchic revelry, and two little boys each with a silver basin of clear water. All these go by in procession, and you join on at the end.&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c13194" -->
<a id="c13194"></a><blockquote class="code"><p class="quoted">
Test me with &quot;look / z / z / wait until 11:45 PM&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
