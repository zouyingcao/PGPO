<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>23.14. Writing, reading and appending text to files</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง23.14. Writing, reading and appending text to files</p>
<p>Text can also be saved to a file, and again all file-handling is automatic:</p>
<!-- START PHRASE "defn372" -->
<div class="definition"><a id="defn372"></a><p class="defnprototype"><b>write </b>(text)<b> to </b>(external file)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_writetext -->

<p>This phrase makes the given text become the entire contents of the named file. Note that files must have been declared, and must be referred to by their Inform names, not by textual filenames. Example:</p>
<!-- START CODE "c1923" -->
<a id="c1923"></a><blockquote class="code"><p class="quoted">
write &quot;Jackdaws love my big sphinx of quartz.&quot; to the file of Abecedary Wisdom;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn373" -->
<div class="definition"><a id="defn373"></a><p class="defnprototype"><b>append </b>(text)<b> to </b>(external file)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_appendtext -->

<p>This phrase adds the given text to the end of the current contents of the named file (creating it if it does not exist on disc). Note that files must have been declared, and must be referred to by their Inform names, not by textual filenames. Example:</p>
<!-- START CODE "c1924" -->
<a id="c1924"></a><blockquote class="code"><p class="quoted">
append &quot;Jinxed wizards pluck ivy from the big quilt.&quot; to the file of Abecedary Wisdom;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>The quoted text can, of course, contain substitutions, so can be long and complex if need be.</p>
<p>Text from a file is printed back with the text substitution:</p>
<!-- START PHRASE "defn374" -->
<div class="definition"><a id="defn374"></a><p class="defnprototype"><b>say &quot;[text of </b>(external file)<b>]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of ph_saytext -->

<p>This text expands to the contents of the named file. Note that files must have been declared, and must be referred to by their Inform names, not by textual filenames. Example:</p>
<!-- START CODE "c1925" -->
<a id="c1925"></a><blockquote class="code"><p class="quoted">
&quot;[text of the File of Abecedary Wisdom]&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>To copy one file to another, for instance,</p>
<!-- START CODE "c1926" -->
<a id="c1926"></a><blockquote class="code"><p class="quoted">
write &quot;[text of the file of Abecedary Wisdom]&quot; to the file of Secondary Wisdom;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_23_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_23_1.html" class="standardlink">Start of Chapter 23: Figures, Sounds and Files</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_23_13.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_23_13.html" class="standardlink">Back to ยง23.13. Writing and reading tables to external files</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_23_15.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_23_15.html" class="standardlink">Onward to ยง23.15. Exchanging files with other programs</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e205"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex205.html#e205" class="eglink"><b>443</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex205.html#e205" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Fourth Body</span></b></a><br />Notebooks in which the player can record assorted notes throughout play.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex205.html#e205"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e315"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex315.html#e315" class="eglink"><b>444</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex315.html#e315" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Fifth Body</span></b></a><br />An expansion on the notebook, allowing the player somewhat more room in which to type his recorded remark.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex315.html#e315"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
