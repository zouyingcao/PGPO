<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>9.5. Every turn</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง9.5. Every turn</p>
<p>The passage of time in interactive fiction is broken up into a succession of turns, in each of which the player types a request and is given a response. Usually each such request triggers one action, but sometimes a whole sequence are fired off, as when the player types &quot;get all&quot; in a cluttered room.</p>
<p>As we've seen, the variable &quot;turn count&quot; holds the number of turns of play so far. By convention turn number 0 is the time when Inform prints up the banner and any initial text; it becomes turn number 1 when the player's first command is typed.</p>
<p>One of the last things to happen in each turn is that Inform will apply any rules which have been set to occur &quot;every turn&quot;, like so:</p>
<!-- START CODE "c646" -->
<a id="c646"></a><blockquote class="code"><p class="quoted">
Every turn, say &quot;The summer breeze shakes the apple-blossom.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is equivalent to writing:</p>
<!-- START CODE "c647" -->
<a id="c647"></a><blockquote class="code"><p class="quoted">
An every turn rule: say &quot;The summer breeze shakes the apple-blossom.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Note that the text about blossom, which will quickly become tiresome, is said at the end of every turn, not at the beginning, and in particular not before the player's first opportunity to type a command.</p>
<p>As usual when defining rules, we can add stipulations: any condition can be attached using &quot;when&quot;.</p>
<!-- START CODE "c648" -->
<a id="c648"></a><blockquote class="code"><p class="quoted">
Every turn when the location is the Orchard, say &quot;The summer breeze shakes the apple-blossom.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c649" -->
<a id="c649"></a><blockquote class="code"><p class="quoted">
Every turn when the player can see the rotting fish, say &quot;Your nose twitches involuntarily.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_9_1.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9_4.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_9_4.html" class="standardlink">Back to ยง9.4. When play ends</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9_6.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_9_6.html" class="standardlink">Onward to ยง9.6. The time of day</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e7"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex7.html#e7" class="eglink"><b>139</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex7.html#e7" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Witnessed 1</span></b></a><br />A kind of battery which can be put into different devices, and which will lose power after extended use.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex7.html#e7"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e280"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex280.html#e280" class="eglink"><b>140</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex280.html#e280" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Text Foosball</span></b></a><br />A game of foosball which relies heavily on every-turn rules.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex280.html#e280"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
