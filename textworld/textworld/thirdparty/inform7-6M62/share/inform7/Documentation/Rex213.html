<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>3.7. Lighting</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง3.7. Lighting</p>
<p>At any place (room, or inside a container) light is either fully present or fully absent. Inform does not usually try to track intermediate states of lighting, but see <span class="boldface">The Undertomb 2</span> for a single lantern with varying light levels and <span class="boldface">Zorn of Zorna</span> for multiple candles that can be lit for cumulative changes to the light level.</p>
<p>Light can be added to, but not taken away: rooms and things can act as sources of light, by having the &quot;lighted&quot; and &quot;lit&quot; properties respectively, but they cannot be sinks which drain light away. The reason darkness is not a constant hazard in Inform-written games is that rooms always have the &quot;lighted&quot; property unless declared &quot;dark&quot;. (We assume daylight or some always-on electric lighting.) A &quot;dark&quot; room may well still be illuminated if a light source happens to be present:</p>
<!-- START CODE "c23606" -->
<a id="c23606"></a><blockquote class="code"><p class="quoted">
The Deep Crypt is a dark room. The candle lantern is a lit thing in the Deep Crypt.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Hymenaeus</span> allows us to explicitly refer to torches as &quot;lit&quot; or &quot;unlit&quot;, or (as synonyms) &quot;flaming&quot; or &quot;extinguished&quot;.</p>
<p>For light produced electrically we might want a wall switch, as in <span class="boldface">Down Below</span>, or a portable lamp, as in <span class="boldface">The Dark Ages Revisited</span>.</p>
<p>The fierce, locally confined light thrown out by a carried lamp has a quality quite unlike weak but ambient daylight, and <span class="boldface">Reflections</span> exploits this to make a lantern feel more realistic.</p>
<p>When the player experiences darkness in a location, Inform is usually very guarded in what it reveals. (&quot;It is pitch dark, and you can't see a thing.&quot;) <span class="boldface">Hohmann Transfer</span> gives darkness a quite different look, and <span class="boldface">Four Stars</span> heightens the other senses so that a player in darkness can still detect her surroundings. The first of the two examples in <span class="boldface">Peeled</span> allows exploration of a dark place by touch.</p>
<p>It is sometimes useful to check whether a room that is not the current location happens to contain a light source or be naturally lighted. This poses a few challenges. <span class="boldface">Unblinking</span> demonstrates one way of doing this, so long as there are no backdrop light sources.</p>
<p><span class="boldface">Cloak of Darkness</span> is a short and sweet game based on a light puzzle.</p>
<p class="crossreference"><a href="RB_3_1.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Room Descriptions</b></a><i> for an item that can only be seen in bright light, when an extra lamp is switched on</i></p><p class="crossreference"><a href="RB_6_6.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Looking Under and Hiding</b></a><i> for a looking under action which is helped by the fiercer brightness of a light source</i></p><p class="crossreference"><a href="RB_6_9.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Going, Pushing Things in Directions</b></a><i> for making it hazardous to walk around in the dark</i></p><p class="crossreference"><a href="RB_10_7.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Electricity and Magnetism</b></a><i> for batteries to power a torch or flashlight</i></p><p class="crossreference"><a href="RB_10_8.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Fire</b></a><i> for a non-electrical way to produce light</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_3_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_3_1.html" class="standardlink">Start of Chapter 3: Place</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3_6.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_3_6.html" class="standardlink">Back to ยง3.6. Windows</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_3_8.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_3_8.html" class="standardlink">Onward to ยง3.8. Sounds</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e182"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex182.html#e182" class="eglink"><b>194</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex182.html#e182" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Dark Ages Revisited</span></b></a><br />An electric light kind of device which becomes lit when switched on and dark when switched off.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex182.html#e182"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e341"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex341.html#e341" class="eglink"><b>311</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex341.html#e341" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hymenaeus</span></b></a><br />Understanding "flaming torch" and "extinguished torch" to refer to torches when lit and unlit.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex341.html#e341"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e129"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex129.html#e129" class="eglink"><b>352</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex129.html#e129" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Reflections</span></b></a><br />Emphasizing the reflective quality of shiny objects whenever they are described in the presence of the torch.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex129.html#e129"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e144"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex144.html#e144" class="eglink"><b>363</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex144.html#e144" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Peeled</span></b></a><br />Two different approaches to adjusting what the player can interact with, compared.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex144.html#e144"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e203"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex203.html#e203" class="eglink"><b>26</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex203.html#e203" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Down Below</span></b></a><br />A light switch which makes the room it is in dark or light.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex203.html#e203"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e353"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex353.html#e353" class="eglink"><b>51</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex353.html#e353" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Undertomb 2</span></b></a><br />Flickering lantern-light effects added to the Undertomb.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex353.html#e353"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e154"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex154.html#e154" class="eglink"><b>348</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex154.html#e154" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hohmann Transfer</span></b></a><br />Changing the way dark rooms are described to avoid the standard Inform phrasing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex154.html#e154"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e197"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex197.html#e197" class="eglink"><b>80</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex197.html#e197" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Unblinking</span></b></a><br />Finding a best route through light-filled rooms only, leaving aside any that might be dark.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex197.html#e197"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e108"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex108.html#e108" class="eglink"><b>347</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex108.html#e108" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zorn of Zorna</span></b></a><br />Light levels vary depending on the number of candles the player has lit, and this determines whether or not he is able to examine detailed objects successfully.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex108.html#e108"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e36"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex36.html#e36" class="eglink"><b>349</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex36.html#e36" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Four Stars 1</span></b></a><br />An elaboration of the idea that when light is absent, the player should be given a description of what he can smell and hear, instead.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex36.html#e36"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e213"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_3_7.html#e213" class="eglink"><b>291</b></a></div>
<div class="egpanel" id="example213">
<p>&quot;Cloak of Darkness&quot; is a brief example game that has been implemented in nearly every IF system currently used. It hasn't got much claim to complexity or richness, but it does exemplify many of the standard things one might want an IF language to be able to do: define descriptions and the results of actions, assign synonyms to nouns, create new verbs, handle darkness, track repeated acts, and so on.</p>
<p>Here is what the game looks like in Inform:</p>
<!-- START CODE "c30127" -->
<a id="c30127"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Cloak of Darkness[=0x0022=][=0x000A=][=0x000A=]The story headline is [=0x0022=]A basic IF demonstration.[=0x0022=][=0x000A=][=0x000A=]Use scoring.[=0x000A=][=0x000A=]The maximum score is 2.[=0x000A=][=0x000A=][Whatever room we define first becomes the starting room of the game, in the absence of other instructions:][=0x000A=][=0x000A=]Foyer of the Opera House is a room.  [=0x0022=]You are standing in a spacious hall, splendidly decorated in red and gold, with glittering chandeliers overhead. The entrance from the street is to the north, and there are doorways south and west.[=0x0022=][=0x000A=][=0x000A=]Instead of going north in the Foyer, say [=0x0022=]You[=0x0027=]ve only just arrived, and besides, the weather outside seems to be getting worse.[=0x0022=][=0x000A=][=0x000A=][We can add more rooms by specifying their relation to the first room. Unless we say otherwise, the connection will automatically be bidirectional, so [=0x0022=]The Cloakroom is west of the Foyer[=0x0022=] will also mean [=0x0022=]The Foyer is east of the Cloakroom[=0x0022=]:][=0x000A=][=0x000A=]The Cloakroom is west of the Foyer. [=0x0022=]The walls of this small room were clearly once lined with hooks, though now only one remains. The exit is a door to the east.[=0x0022=][=0x000A=][=0x000A=]In the Cloakroom is a supporter called the small brass hook. The hook is scenery. Understand [=0x0022=]peg[=0x0022=] as the hook.[=0x000A=][=0x000A=][Inform will automatically understand any words in the object definition ([=0x0022=]small[=0x0022=], [=0x0022=]brass[=0x0022=], and [=0x0022=]hook[=0x0022=], in this case), but we can add extra synonyms with this sort of Understand command.][=0x000A=][=0x000A=]The description of the hook is [=0x0022=]It[=0x0027=]s just a small brass hook, [if something is on the hook]with [a list of things on the hook] hanging on it[otherwise]screwed to the wall[end if].[=0x0022=][=0x000A=][=0x000A=][This description is general enough that, if we were to add other hangable items to the game, they would automatically be described correctly as well.][=0x000A=][=0x000A=]The Bar is south of the Foyer. The printed name of the bar is [=0x0022=]Foyer Bar[=0x0022=]. The Bar is dark.  [=0x0022=]The bar, much rougher than you[=0x0027=]d have guessed after the opulence of the foyer to the north, is completely empty. There seems to be some sort of message scrawled in the sawdust on the floor.[=0x0022=][=0x000A=][=0x000A=]The scrawled message is scenery in the Bar. Understand [=0x0022=]floor[=0x0022=] or [=0x0022=]sawdust[=0x0022=] as the message.[=0x000A=][=0x000A=]Neatness is a kind of value. The neatnesses are neat, scuffed, and trampled. The message has a neatness. The message is neat.[=0x000A=][=0x000A=][We could if we wished use a number to indicate how many times the player has stepped on the message, but Inform also makes it easy to add descriptive properties of this sort, so that the code remains readable even when the reader does not know what [=0x0022=]the number of the message[=0x0022=] might mean.][=0x000A=][=0x000A=]Instead of examining the message:[=0x000A=][=0x0009=]increment score;[=0x000A=][=0x0009=]say [=0x0022=]The message, neatly marked in the sawdust, reads...[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=][This second rule takes precedence over the first one whenever the message is trampled. Inform automatically applies whichever rule is most specific:][=0x000A=][=0x000A=]Instead of examining the trampled message:[=0x000A=][=0x0009=]say [=0x0022=]The message has been carelessly trampled, making it difficult to read. You can just distinguish the words...[=0x0022=];[=0x000A=][=0x0009=]end the story saying [=0x0022=]You have lost[=0x0022=].[=0x000A=][=0x000A=][This command advances the state of the message from neat to scuffed and from scuffed to trampled. We can define any kinds of value we like and advance or decrease them in this way:][=0x000A=][=0x000A=]Instead of doing something other than going in the bar when in darkness:[=0x000A=][=0x0009=]if the message is not trampled, now the neatness of the message is the neatness after the neatness of the message;[=0x000A=][=0x0009=]say [=0x0022=]In the dark? You could easily disturb something.[=0x0022=][=0x000A=][=0x000A=]Instead of going nowhere from the bar when in darkness:[=0x000A=][=0x0009=]now the message is trampled;[=0x000A=][=0x0009=]say [=0x0022=]Blundering around in the dark isn[=0x0027=]t a good idea![=0x0022=][=0x000A=][=0x000A=][This defines an object which is worn at the start of play. Because we have said the player is wearing the item, Inform infers that it is clothing and can be taken off and put on again at will.][=0x000A=][=0x000A=]The player wears a velvet cloak. The cloak can be hung or unhung. Understand [=0x0022=]dark[=0x0022=] or [=0x0022=]black[=0x0022=] or [=0x0022=]satin[=0x0022=] as the cloak. The description of the cloak is [=0x0022=]A handsome cloak, of velvet trimmed with satin, and slightly splattered with raindrops. Its blackness is so deep that it almost seems to suck light from the room.[=0x0022=][=0x000A=][=0x000A=]Carry out taking the cloak:[=0x000A=][=0x0009=]now the bar is dark.[=0x000A=][=0x000A=]Carry out putting the unhung cloak on something in the cloakroom:[=0x000A=][=0x0009=]now the cloak is hung;[=0x000A=][=0x0009=]increment score.[=0x000A=][=0x000A=]Carry out putting the cloak on something in the cloakroom:[=0x000A=][=0x0009=]now the bar is lit.[=0x000A=][=0x000A=]Carry out dropping the cloak in the cloakroom:[=0x000A=][=0x0009=]now the bar is lit.[=0x000A=][=0x000A=]Instead of dropping or putting the cloak on when the player is not in the cloakroom:[=0x000A=][=0x0009=]say [=0x0022=]This isn[=0x0027=]t the best place to leave a smart cloak lying around.[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=][paragraph break]Hurrying through the rainswept November night, you[=0x0027=]re glad to see the bright lights of the Opera House. It[=0x0027=]s surprising that there aren[=0x0027=]t more people about but, hey, what do you expect in a cheap demo game...?[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]hang [something preferably held] on [something][=0x0022=] as putting it on.[=0x000A=][=0x000A=]Test me with [=0x0022=]s / n / w / inventory / hang cloak on hook / e / s / read message[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Cloak of Darkness&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30128" -->
<a id="c30128"></a><blockquote class="code"><p class="quoted">
The story headline is &quot;A basic IF demonstration.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30129" -->
<a id="c30129"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30130" -->
<a id="c30130"></a><blockquote class="code"><p class="quoted">
The maximum score is 2.
</p></blockquote>
<!-- END CODE -->
<p>Whatever room we define first becomes the starting room of the game, in the absence of other instructions:</p>
<!-- START CODE "c30131" -->
<a id="c30131"></a><blockquote class="code"><p class="quoted">
Foyer of the Opera House is a room.  &quot;You are standing in a spacious hall, splendidly decorated in red and gold, with glittering chandeliers overhead. The entrance from the street is to the north, and there are doorways south and west.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30132" -->
<a id="c30132"></a><blockquote class="code"><p class="quoted">
Instead of going north in the Foyer, say &quot;You've only just arrived, and besides, the weather outside seems to be getting worse.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can add more rooms by specifying their relation to the first room. Unless we say otherwise, the connection will automatically be bidirectional, so &quot;The Cloakroom is west of the Foyer&quot; will also mean &quot;The Foyer is east of the Cloakroom&quot;:</p>
<!-- START CODE "c30133" -->
<a id="c30133"></a><blockquote class="code"><p class="quoted">
The Cloakroom is west of the Foyer. &quot;The walls of this small room were clearly once lined with hooks, though now only one remains. The exit is a door to the east.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30134" -->
<a id="c30134"></a><blockquote class="code"><p class="quoted">
In the Cloakroom is a supporter called the small brass hook. The hook is scenery. Understand &quot;peg&quot; as the hook.
</p></blockquote>
<!-- END CODE -->
<p>Inform will automatically understand any words in the object definition (&quot;small&quot;, &quot;brass&quot;, and &quot;hook&quot;, in this case), but we can add extra synonyms with this sort of Understand command.</p>
<!-- START CODE "c30135" -->
<a id="c30135"></a><blockquote class="code"><p class="quoted">
The description of the hook is &quot;It's just a small brass hook, [if something is on the hook]with [a list of things on the hook] hanging on it[otherwise]screwed to the wall[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This description is general enough that, if we were to add other hangable items to the game, they would automatically be described correctly as well.</p>
<!-- START CODE "c30136" -->
<a id="c30136"></a><blockquote class="code"><p class="quoted">
The Bar is south of the Foyer. The printed name of the bar is &quot;Foyer Bar&quot;. The Bar is dark.  &quot;The bar, much rougher than you'd have guessed after the opulence of the foyer to the north, is completely empty. There seems to be some sort of message scrawled in the sawdust on the floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30137" -->
<a id="c30137"></a><blockquote class="code"><p class="quoted">
The scrawled message is scenery in the Bar. Understand &quot;floor&quot; or &quot;sawdust&quot; as the message.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30138" -->
<a id="c30138"></a><blockquote class="code"><p class="quoted">
Neatness is a kind of value. The neatnesses are neat, scuffed, and trampled. The message has a neatness. The message is neat.
</p></blockquote>
<!-- END CODE -->
<p>We could if we wished use a number to indicate how many times the player has stepped on the message, but Inform also makes it easy to add descriptive properties of this sort, so that the code remains readable even when the reader does not know what &quot;the number of the message&quot; might mean.</p>
<!-- START CODE "c30139" -->
<a id="c30139"></a><blockquote class="code"><p class="quoted">
Instead of examining the message:
<br />&#160;&#160;&#160;&#160;increment score;
<br />&#160;&#160;&#160;&#160;say &quot;The message, neatly marked in the sawdust, reads...&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>This second rule takes precedence over the first one whenever the message is trampled. Inform automatically applies whichever rule is most specific:</p>
<!-- START CODE "c30140" -->
<a id="c30140"></a><blockquote class="code"><p class="quoted">
Instead of examining the trampled message:
<br />&#160;&#160;&#160;&#160;say &quot;The message has been carelessly trampled, making it difficult to read. You can just distinguish the words...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;You have lost&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This command advances the state of the message from neat to scuffed and from scuffed to trampled. We can define any kinds of value we like and advance or decrease them in this way:</p>
<!-- START CODE "c30141" -->
<a id="c30141"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than going in the bar when in darkness:
<br />&#160;&#160;&#160;&#160;if the message is not trampled, now the neatness of the message is the neatness after the neatness of the message;
<br />&#160;&#160;&#160;&#160;say &quot;In the dark? You could easily disturb something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30142" -->
<a id="c30142"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere from the bar when in darkness:
<br />&#160;&#160;&#160;&#160;now the message is trampled;
<br />&#160;&#160;&#160;&#160;say &quot;Blundering around in the dark isn't a good idea!&quot;
</p></blockquote>
<!-- END CODE -->
<p>This defines an object which is worn at the start of play. Because we have said the player is wearing the item, Inform infers that it is clothing and can be taken off and put on again at will.</p>
<!-- START CODE "c30143" -->
<a id="c30143"></a><blockquote class="code"><p class="quoted">
The player wears a velvet cloak. The cloak can be hung or unhung. Understand &quot;dark&quot; or &quot;black&quot; or &quot;satin&quot; as the cloak. The description of the cloak is &quot;A handsome cloak, of velvet trimmed with satin, and slightly splattered with raindrops. Its blackness is so deep that it almost seems to suck light from the room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30144" -->
<a id="c30144"></a><blockquote class="code"><p class="quoted">
Carry out taking the cloak:
<br />&#160;&#160;&#160;&#160;now the bar is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30145" -->
<a id="c30145"></a><blockquote class="code"><p class="quoted">
Carry out putting the unhung cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the cloak is hung;
<br />&#160;&#160;&#160;&#160;increment score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30146" -->
<a id="c30146"></a><blockquote class="code"><p class="quoted">
Carry out putting the cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30147" -->
<a id="c30147"></a><blockquote class="code"><p class="quoted">
Carry out dropping the cloak in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30148" -->
<a id="c30148"></a><blockquote class="code"><p class="quoted">
Instead of dropping or putting the cloak on when the player is not in the cloakroom:
<br />&#160;&#160;&#160;&#160;say &quot;This isn't the best place to leave a smart cloak lying around.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30149" -->
<a id="c30149"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;[paragraph break]Hurrying through the rainswept November night, you're glad to see the bright lights of the Opera House. It's surprising that there aren't more people about but, hey, what do you expect in a cheap demo game...?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30150" -->
<a id="c30150"></a><blockquote class="code"><p class="quoted">
Understand &quot;hang [something preferably held] on [something]&quot; as putting it on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30151" -->
<a id="c30151"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s / n / w / inventory / hang cloak on hook / e / s / read message&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And that's all. As always, type TEST ME to watch the scenario play itself out.</p>
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_3_7.html#e213" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Cloak of Darkness</span></b></a><br />Implementation of "Cloak of Darkness", a simple example game that for years has been used to demonstrate the features of IF languages.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example213">
<p>&quot;Cloak of Darkness&quot; is a brief example game that has been implemented in nearly every IF system currently used. It hasn't got much claim to complexity or richness, but it does exemplify many of the standard things one might want an IF language to be able to do: define descriptions and the results of actions, assign synonyms to nouns, create new verbs, handle darkness, track repeated acts, and so on.</p>
<p>Here is what the game looks like in Inform:</p>
<!-- START CODE "c30152" -->
<a id="c30152"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Cloak of Darkness[=0x0022=][=0x000A=][=0x000A=]The story headline is [=0x0022=]A basic IF demonstration.[=0x0022=][=0x000A=][=0x000A=]Use scoring.[=0x000A=][=0x000A=]The maximum score is 2.[=0x000A=][=0x000A=][Whatever room we define first becomes the starting room of the game, in the absence of other instructions:][=0x000A=][=0x000A=]Foyer of the Opera House is a room.  [=0x0022=]You are standing in a spacious hall, splendidly decorated in red and gold, with glittering chandeliers overhead. The entrance from the street is to the north, and there are doorways south and west.[=0x0022=][=0x000A=][=0x000A=]Instead of going north in the Foyer, say [=0x0022=]You[=0x0027=]ve only just arrived, and besides, the weather outside seems to be getting worse.[=0x0022=][=0x000A=][=0x000A=][We can add more rooms by specifying their relation to the first room. Unless we say otherwise, the connection will automatically be bidirectional, so [=0x0022=]The Cloakroom is west of the Foyer[=0x0022=] will also mean [=0x0022=]The Foyer is east of the Cloakroom[=0x0022=]:][=0x000A=][=0x000A=]The Cloakroom is west of the Foyer. [=0x0022=]The walls of this small room were clearly once lined with hooks, though now only one remains. The exit is a door to the east.[=0x0022=][=0x000A=][=0x000A=]In the Cloakroom is a supporter called the small brass hook. The hook is scenery. Understand [=0x0022=]peg[=0x0022=] as the hook.[=0x000A=][=0x000A=][Inform will automatically understand any words in the object definition ([=0x0022=]small[=0x0022=], [=0x0022=]brass[=0x0022=], and [=0x0022=]hook[=0x0022=], in this case), but we can add extra synonyms with this sort of Understand command.][=0x000A=][=0x000A=]The description of the hook is [=0x0022=]It[=0x0027=]s just a small brass hook, [if something is on the hook]with [a list of things on the hook] hanging on it[otherwise]screwed to the wall[end if].[=0x0022=][=0x000A=][=0x000A=][This description is general enough that, if we were to add other hangable items to the game, they would automatically be described correctly as well.][=0x000A=][=0x000A=]The Bar is south of the Foyer. The printed name of the bar is [=0x0022=]Foyer Bar[=0x0022=]. The Bar is dark.  [=0x0022=]The bar, much rougher than you[=0x0027=]d have guessed after the opulence of the foyer to the north, is completely empty. There seems to be some sort of message scrawled in the sawdust on the floor.[=0x0022=][=0x000A=][=0x000A=]The scrawled message is scenery in the Bar. Understand [=0x0022=]floor[=0x0022=] or [=0x0022=]sawdust[=0x0022=] as the message.[=0x000A=][=0x000A=]Neatness is a kind of value. The neatnesses are neat, scuffed, and trampled. The message has a neatness. The message is neat.[=0x000A=][=0x000A=][We could if we wished use a number to indicate how many times the player has stepped on the message, but Inform also makes it easy to add descriptive properties of this sort, so that the code remains readable even when the reader does not know what [=0x0022=]the number of the message[=0x0022=] might mean.][=0x000A=][=0x000A=]Instead of examining the message:[=0x000A=][=0x0009=]increment score;[=0x000A=][=0x0009=]say [=0x0022=]The message, neatly marked in the sawdust, reads...[=0x0022=];[=0x000A=][=0x0009=]end the story finally.[=0x000A=][=0x000A=][This second rule takes precedence over the first one whenever the message is trampled. Inform automatically applies whichever rule is most specific:][=0x000A=][=0x000A=]Instead of examining the trampled message:[=0x000A=][=0x0009=]say [=0x0022=]The message has been carelessly trampled, making it difficult to read. You can just distinguish the words...[=0x0022=];[=0x000A=][=0x0009=]end the story saying [=0x0022=]You have lost[=0x0022=].[=0x000A=][=0x000A=][This command advances the state of the message from neat to scuffed and from scuffed to trampled. We can define any kinds of value we like and advance or decrease them in this way:][=0x000A=][=0x000A=]Instead of doing something other than going in the bar when in darkness:[=0x000A=][=0x0009=]if the message is not trampled, now the neatness of the message is the neatness after the neatness of the message;[=0x000A=][=0x0009=]say [=0x0022=]In the dark? You could easily disturb something.[=0x0022=][=0x000A=][=0x000A=]Instead of going nowhere from the bar when in darkness:[=0x000A=][=0x0009=]now the message is trampled;[=0x000A=][=0x0009=]say [=0x0022=]Blundering around in the dark isn[=0x0027=]t a good idea![=0x0022=][=0x000A=][=0x000A=][This defines an object which is worn at the start of play. Because we have said the player is wearing the item, Inform infers that it is clothing and can be taken off and put on again at will.][=0x000A=][=0x000A=]The player wears a velvet cloak. The cloak can be hung or unhung. Understand [=0x0022=]dark[=0x0022=] or [=0x0022=]black[=0x0022=] or [=0x0022=]satin[=0x0022=] as the cloak. The description of the cloak is [=0x0022=]A handsome cloak, of velvet trimmed with satin, and slightly splattered with raindrops. Its blackness is so deep that it almost seems to suck light from the room.[=0x0022=][=0x000A=][=0x000A=]Carry out taking the cloak:[=0x000A=][=0x0009=]now the bar is dark.[=0x000A=][=0x000A=]Carry out putting the unhung cloak on something in the cloakroom:[=0x000A=][=0x0009=]now the cloak is hung;[=0x000A=][=0x0009=]increment score.[=0x000A=][=0x000A=]Carry out putting the cloak on something in the cloakroom:[=0x000A=][=0x0009=]now the bar is lit.[=0x000A=][=0x000A=]Carry out dropping the cloak in the cloakroom:[=0x000A=][=0x0009=]now the bar is lit.[=0x000A=][=0x000A=]Instead of dropping or putting the cloak on when the player is not in the cloakroom:[=0x000A=][=0x0009=]say [=0x0022=]This isn[=0x0027=]t the best place to leave a smart cloak lying around.[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]say [=0x0022=][paragraph break]Hurrying through the rainswept November night, you[=0x0027=]re glad to see the bright lights of the Opera House. It[=0x0027=]s surprising that there aren[=0x0027=]t more people about but, hey, what do you expect in a cheap demo game...?[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]hang [something preferably held] on [something][=0x0022=] as putting it on.[=0x000A=][=0x000A=]Test me with [=0x0022=]s / n / w / inventory / hang cloak on hook / e / s / read message[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Cloak of Darkness&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30153" -->
<a id="c30153"></a><blockquote class="code"><p class="quoted">
The story headline is &quot;A basic IF demonstration.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30154" -->
<a id="c30154"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30155" -->
<a id="c30155"></a><blockquote class="code"><p class="quoted">
The maximum score is 2.
</p></blockquote>
<!-- END CODE -->
<p>Whatever room we define first becomes the starting room of the game, in the absence of other instructions:</p>
<!-- START CODE "c30156" -->
<a id="c30156"></a><blockquote class="code"><p class="quoted">
Foyer of the Opera House is a room.  &quot;You are standing in a spacious hall, splendidly decorated in red and gold, with glittering chandeliers overhead. The entrance from the street is to the north, and there are doorways south and west.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30157" -->
<a id="c30157"></a><blockquote class="code"><p class="quoted">
Instead of going north in the Foyer, say &quot;You've only just arrived, and besides, the weather outside seems to be getting worse.&quot;
</p></blockquote>
<!-- END CODE -->
<p>We can add more rooms by specifying their relation to the first room. Unless we say otherwise, the connection will automatically be bidirectional, so &quot;The Cloakroom is west of the Foyer&quot; will also mean &quot;The Foyer is east of the Cloakroom&quot;:</p>
<!-- START CODE "c30158" -->
<a id="c30158"></a><blockquote class="code"><p class="quoted">
The Cloakroom is west of the Foyer. &quot;The walls of this small room were clearly once lined with hooks, though now only one remains. The exit is a door to the east.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30159" -->
<a id="c30159"></a><blockquote class="code"><p class="quoted">
In the Cloakroom is a supporter called the small brass hook. The hook is scenery. Understand &quot;peg&quot; as the hook.
</p></blockquote>
<!-- END CODE -->
<p>Inform will automatically understand any words in the object definition (&quot;small&quot;, &quot;brass&quot;, and &quot;hook&quot;, in this case), but we can add extra synonyms with this sort of Understand command.</p>
<!-- START CODE "c30160" -->
<a id="c30160"></a><blockquote class="code"><p class="quoted">
The description of the hook is &quot;It's just a small brass hook, [if something is on the hook]with [a list of things on the hook] hanging on it[otherwise]screwed to the wall[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<p>This description is general enough that, if we were to add other hangable items to the game, they would automatically be described correctly as well.</p>
<!-- START CODE "c30161" -->
<a id="c30161"></a><blockquote class="code"><p class="quoted">
The Bar is south of the Foyer. The printed name of the bar is &quot;Foyer Bar&quot;. The Bar is dark.  &quot;The bar, much rougher than you'd have guessed after the opulence of the foyer to the north, is completely empty. There seems to be some sort of message scrawled in the sawdust on the floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30162" -->
<a id="c30162"></a><blockquote class="code"><p class="quoted">
The scrawled message is scenery in the Bar. Understand &quot;floor&quot; or &quot;sawdust&quot; as the message.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30163" -->
<a id="c30163"></a><blockquote class="code"><p class="quoted">
Neatness is a kind of value. The neatnesses are neat, scuffed, and trampled. The message has a neatness. The message is neat.
</p></blockquote>
<!-- END CODE -->
<p>We could if we wished use a number to indicate how many times the player has stepped on the message, but Inform also makes it easy to add descriptive properties of this sort, so that the code remains readable even when the reader does not know what &quot;the number of the message&quot; might mean.</p>
<!-- START CODE "c30164" -->
<a id="c30164"></a><blockquote class="code"><p class="quoted">
Instead of examining the message:
<br />&#160;&#160;&#160;&#160;increment score;
<br />&#160;&#160;&#160;&#160;say &quot;The message, neatly marked in the sawdust, reads...&quot;;
<br />&#160;&#160;&#160;&#160;end the story finally.
</p></blockquote>
<!-- END CODE -->
<p>This second rule takes precedence over the first one whenever the message is trampled. Inform automatically applies whichever rule is most specific:</p>
<!-- START CODE "c30165" -->
<a id="c30165"></a><blockquote class="code"><p class="quoted">
Instead of examining the trampled message:
<br />&#160;&#160;&#160;&#160;say &quot;The message has been carelessly trampled, making it difficult to read. You can just distinguish the words...&quot;;
<br />&#160;&#160;&#160;&#160;end the story saying &quot;You have lost&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This command advances the state of the message from neat to scuffed and from scuffed to trampled. We can define any kinds of value we like and advance or decrease them in this way:</p>
<!-- START CODE "c30166" -->
<a id="c30166"></a><blockquote class="code"><p class="quoted">
Instead of doing something other than going in the bar when in darkness:
<br />&#160;&#160;&#160;&#160;if the message is not trampled, now the neatness of the message is the neatness after the neatness of the message;
<br />&#160;&#160;&#160;&#160;say &quot;In the dark? You could easily disturb something.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30167" -->
<a id="c30167"></a><blockquote class="code"><p class="quoted">
Instead of going nowhere from the bar when in darkness:
<br />&#160;&#160;&#160;&#160;now the message is trampled;
<br />&#160;&#160;&#160;&#160;say &quot;Blundering around in the dark isn't a good idea!&quot;
</p></blockquote>
<!-- END CODE -->
<p>This defines an object which is worn at the start of play. Because we have said the player is wearing the item, Inform infers that it is clothing and can be taken off and put on again at will.</p>
<!-- START CODE "c30168" -->
<a id="c30168"></a><blockquote class="code"><p class="quoted">
The player wears a velvet cloak. The cloak can be hung or unhung. Understand &quot;dark&quot; or &quot;black&quot; or &quot;satin&quot; as the cloak. The description of the cloak is &quot;A handsome cloak, of velvet trimmed with satin, and slightly splattered with raindrops. Its blackness is so deep that it almost seems to suck light from the room.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30169" -->
<a id="c30169"></a><blockquote class="code"><p class="quoted">
Carry out taking the cloak:
<br />&#160;&#160;&#160;&#160;now the bar is dark.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30170" -->
<a id="c30170"></a><blockquote class="code"><p class="quoted">
Carry out putting the unhung cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the cloak is hung;
<br />&#160;&#160;&#160;&#160;increment score.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30171" -->
<a id="c30171"></a><blockquote class="code"><p class="quoted">
Carry out putting the cloak on something in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30172" -->
<a id="c30172"></a><blockquote class="code"><p class="quoted">
Carry out dropping the cloak in the cloakroom:
<br />&#160;&#160;&#160;&#160;now the bar is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30173" -->
<a id="c30173"></a><blockquote class="code"><p class="quoted">
Instead of dropping or putting the cloak on when the player is not in the cloakroom:
<br />&#160;&#160;&#160;&#160;say &quot;This isn't the best place to leave a smart cloak lying around.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30174" -->
<a id="c30174"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;say &quot;[paragraph break]Hurrying through the rainswept November night, you're glad to see the bright lights of the Opera House. It's surprising that there aren't more people about but, hey, what do you expect in a cheap demo game...?&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30175" -->
<a id="c30175"></a><blockquote class="code"><p class="quoted">
Understand &quot;hang [something preferably held] on [something]&quot; as putting it on.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30176" -->
<a id="c30176"></a><blockquote class="code"><p class="quoted">
Test me with &quot;s / n / w / inventory / hang cloak on hook / e / s / read message&quot;.
</p></blockquote>
<!-- END CODE -->
<p>And that's all. As always, type TEST ME to watch the scenario play itself out.</p>
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex213.html#e213"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
