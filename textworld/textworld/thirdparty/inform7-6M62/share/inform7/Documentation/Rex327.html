<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.6. Ropes</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง10.6. Ropes</p>
<p>Ropes, chains and similar long, thin, bendable items present three problems: they are like a liquid in that (unless unbreakable) they can be divided arbitrarily into smaller and smaller portions of themselves, they can be in two or more places at once (even in two or more rooms at once), and they can be tied down at either or both ends, allowing them to occupy an uneasy state in between being &quot;portable&quot; and &quot;fixed in place&quot;. Even when all this is simulated, they allow us to pull on one end and so to exert force at the other - allowing action-at-a-distance which Inform's realism rules would ordinarily forbid. Ropes are hard. And it is very difficult to imagine everything a player might try when given a fully practical rope with which to solve puzzles.</p>
<p><span class="boldface">Snip</span> solves the divisibility question, allowing string to be cut or retied into lengths of any size, with all the consequences for describing and understanding that this entails.</p>
<p><span class="boldface">Otranto</span> provides a lengthy but straightforward approach to the other rope-related issues, subject to the simplifying assumptions that a rope is indivisible, has about the length of the distance between two adjacent rooms, and cannot be tied to another rope.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_5.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_10_5.html" class="standardlink">Back to ยง10.5. Volume, Height, Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_7.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_10_7.html" class="standardlink">Onward to ยง10.7. Electricity and Magnetism</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e382"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex382.html#e382" class="eglink"><b>228</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex382.html#e382" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Otranto</span></b></a><br />A kind of rope which can be tied to objects and used to anchor the player or drag items from room to room.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex382.html#e382"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e327"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_10_6.html#e327" class="eglink"><b>261</b></a></div>
<div class="egpanel" id="example327">
<!-- START CODE "c33883" -->
<a id="c33883"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Snip![=0x0022=][=0x000A=][=0x000A=]Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.[=0x000A=][=0x000A=]A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.[=0x000A=][=0x000A=]Before printing the name of a string, say [=0x0022=][length] piece of [=0x0022=]. Rule for printing the plural name of a string: say [=0x0022=][length] pieces of string[=0x0022=].[=0x000A=][=0x000A=]Understand the command [=0x0022=]cut[=0x0022=] as something new. Understand [=0x0022=]cut [length] from/off [something][=0x0022=] as trimming it by (with nouns reversed). Understand [=0x0022=]cut [something] by [length][=0x0022=] as trimming it by. Understand the command [=0x0022=]trim[=0x0022=] as [=0x0022=]cut[=0x0022=].[=0x000A=][=0x000A=]Trimming it by is an action applying to one thing and one length.[=0x000A=][=0x000A=]Check trimming it by:[=0x000A=][=0x0009=]if the length understood is 0 inches, say [=0x0022=]You[=0x0027=]re approaching Zeno[=0x0027=]s string at this point.[=0x0022=] instead;[=0x000A=][=0x0009=]if the length understood is greater than the length of the noun, say [=0x0022=][The noun] is only [length of the noun] long to start with.[=0x0022=] instead;[=0x000A=][=0x0009=]if the length understood is the length of the noun, say [=0x0022=][The noun] is already exactly [length of the noun] long.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out trimming it by:[=0x000A=][=0x0009=]now the length of the noun is the length of the noun minus the length understood;[=0x000A=][=0x0009=]let the other half be a random string in the string repository;[=0x000A=][=0x0009=]now the length of the other half is the length understood;[=0x000A=][=0x0009=]move the other half to the player.[=0x000A=][=0x000A=]Report trimming it by:[=0x000A=][=0x0009=]reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list][=0x000A=][=0x0009=]say [=0x0022=]You now have [a list of strings carried by the player].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]cut [something] in half[=0x0022=] as halving. Halving is an action applying to one thing.[=0x000A=][=0x000A=]Carry out halving:[=0x000A=][=0x0009=]let half measure be the length of the noun divided by 2;[=0x000A=][=0x0009=]now the length understood is half measure;[=0x000A=][=0x0009=]try trimming the noun by half measure.[=0x000A=][=0x000A=][This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let[=0x0027=]s assume for now that this doesn[=0x0027=]t matter.][=0x000A=][=0x000A=]The player carries a string.[=0x000A=][=0x000A=]The Scissors Room is a room.[=0x000A=][=0x000A=]The string repository contains 35 strings.[=0x000A=][=0x000A=][Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it[=0x0027=]s best to avoid that sort of thing if possible.][=0x000A=][=0x000A=][Now with a bit of fiddling we can also teach Inform to recognize descriptors such as [=0x0022=]the shortest string[=0x0022=]:][=0x000A=][=0x000A=]Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.[=0x000A=][=0x000A=]Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.[=0x000A=][=0x000A=]Before reading a command:[=0x000A=][=0x0009=]reset string lengths.[=0x000A=][=0x000A=]To reset string lengths:[=0x000A=][=0x0009=]let upper measure be the length of the largest visible string;[=0x000A=][=0x0009=]let lower measure be the length of the smallest visible string;[=0x000A=][=0x0009=]repeat with item running through strings:[=0x000A=][=0x0009=][=0x0009=]now the ordinariness of the item is medium;[=0x000A=][=0x0009=][=0x0009=]if the length of the item is the upper measure, now the item is longest;[=0x000A=][=0x0009=][=0x0009=]if the length of the item is the lower measure, now the item is shortest.[=0x000A=][=0x000A=]After reading a command:[=0x000A=][=0x0009=]if the player[=0x0027=]s command includes [=0x0022=]shorter[=0x0022=], replace the matched text with [=0x0022=]shortest[=0x0022=];[=0x000A=][=0x0009=]if the player[=0x0027=]s command includes [=0x0022=]longer[=0x0022=], replace the matched text with [=0x0022=]longest[=0x0022=].[=0x000A=][=0x000A=]Instead of tying a string to a string:[=0x000A=][=0x0009=]move the second noun to the string repository;[=0x000A=][=0x0009=]now the length of the noun is the length of the noun plus the length of the second noun;[=0x000A=][=0x0009=]decrease the length of the noun by 1 inch;[=0x000A=][=0x0009=]say [=0x0022=]You end up with [a noun], as some is taken up by the knot.[=0x0022=][=0x000A=][=0x000A=][This is still a little incomplete because we cannot refer to strings by their lengths, as in [=0x0022=]the 2 inch string[=0x0022=] and so on. To do this, we borrow a line from the chapter on Understanding:][=0x000A=][=0x000A=]Understand the length property as referring to a string.[=0x000A=][=0x000A=]Test me with [=0x0022=]trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Snip!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33884" -->
<a id="c33884"></a><blockquote class="code"><p class="quoted">
Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33885" -->
<a id="c33885"></a><blockquote class="code"><p class="quoted">
A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33886" -->
<a id="c33886"></a><blockquote class="code"><p class="quoted">
Before printing the name of a string, say &quot;[length] piece of &quot;. Rule for printing the plural name of a string: say &quot;[length] pieces of string&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33887" -->
<a id="c33887"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;cut&quot; as something new. Understand &quot;cut [length] from/off [something]&quot; as trimming it by (with nouns reversed). Understand &quot;cut [something] by [length]&quot; as trimming it by. Understand the command &quot;trim&quot; as &quot;cut&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33888" -->
<a id="c33888"></a><blockquote class="code"><p class="quoted">
Trimming it by is an action applying to one thing and one length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33889" -->
<a id="c33889"></a><blockquote class="code"><p class="quoted">
Check trimming it by:
<br />&#160;&#160;&#160;&#160;if the length understood is 0 inches, say &quot;You're approaching Zeno's string at this point.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is greater than the length of the noun, say &quot;[The noun] is only [length of the noun] long to start with.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is the length of the noun, say &quot;[The noun] is already exactly [length of the noun] long.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33890" -->
<a id="c33890"></a><blockquote class="code"><p class="quoted">
Carry out trimming it by:
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun minus the length understood;
<br />&#160;&#160;&#160;&#160;let the other half be a random string in the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the other half is the length understood;
<br />&#160;&#160;&#160;&#160;move the other half to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33891" -->
<a id="c33891"></a><blockquote class="code"><p class="quoted">
Report trimming it by:
<br />&#160;&#160;&#160;&#160;reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list]
<br />&#160;&#160;&#160;&#160;say &quot;You now have [a list of strings carried by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33892" -->
<a id="c33892"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] in half&quot; as halving. Halving is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33893" -->
<a id="c33893"></a><blockquote class="code"><p class="quoted">
Carry out halving:
<br />&#160;&#160;&#160;&#160;let half measure be the length of the noun divided by 2;
<br />&#160;&#160;&#160;&#160;now the length understood is half measure;
<br />&#160;&#160;&#160;&#160;try trimming the noun by half measure.
</p></blockquote>
<!-- END CODE -->
<p>This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let's assume for now that this doesn't matter.</p>
<!-- START CODE "c33894" -->
<a id="c33894"></a><blockquote class="code"><p class="quoted">
The player carries a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33895" -->
<a id="c33895"></a><blockquote class="code"><p class="quoted">
The Scissors Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33896" -->
<a id="c33896"></a><blockquote class="code"><p class="quoted">
The string repository contains 35 strings.
</p></blockquote>
<!-- END CODE -->
<p>Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it's best to avoid that sort of thing if possible.</p>
<p>Now with a bit of fiddling we can also teach Inform to recognize descriptors such as &quot;the shortest string&quot;:</p>
<!-- START CODE "c33897" -->
<a id="c33897"></a><blockquote class="code"><p class="quoted">
Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33898" -->
<a id="c33898"></a><blockquote class="code"><p class="quoted">
Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33899" -->
<a id="c33899"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;reset string lengths.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33900" -->
<a id="c33900"></a><blockquote class="code"><p class="quoted">
To reset string lengths:
<br />&#160;&#160;&#160;&#160;let upper measure be the length of the largest visible string;
<br />&#160;&#160;&#160;&#160;let lower measure be the length of the smallest visible string;
<br />&#160;&#160;&#160;&#160;repeat with item running through strings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ordinariness of the item is medium;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the upper measure, now the item is longest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the lower measure, now the item is shortest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33901" -->
<a id="c33901"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;shorter&quot;, replace the matched text with &quot;shortest&quot;;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;longer&quot;, replace the matched text with &quot;longest&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33902" -->
<a id="c33902"></a><blockquote class="code"><p class="quoted">
Instead of tying a string to a string:
<br />&#160;&#160;&#160;&#160;move the second noun to the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun plus the length of the second noun;
<br />&#160;&#160;&#160;&#160;decrease the length of the noun by 1 inch;
<br />&#160;&#160;&#160;&#160;say &quot;You end up with [a noun], as some is taken up by the knot.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is still a little incomplete because we cannot refer to strings by their lengths, as in &quot;the 2 inch string&quot; and so on. To do this, we borrow a line from the chapter on Understanding:</p>
<!-- START CODE "c33903" -->
<a id="c33903"></a><blockquote class="code"><p class="quoted">
Understand the length property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33904" -->
<a id="c33904"></a><blockquote class="code"><p class="quoted">
Test me with &quot;trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10_6.html#e327" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Snip</span></b></a><br />A string which can be cut into arbitrary lengths, and then tied back together.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example327">
<!-- START CODE "c33905" -->
<a id="c33905"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Snip![=0x0022=][=0x000A=][=0x000A=]Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.[=0x000A=][=0x000A=]A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.[=0x000A=][=0x000A=]Before printing the name of a string, say [=0x0022=][length] piece of [=0x0022=]. Rule for printing the plural name of a string: say [=0x0022=][length] pieces of string[=0x0022=].[=0x000A=][=0x000A=]Understand the command [=0x0022=]cut[=0x0022=] as something new. Understand [=0x0022=]cut [length] from/off [something][=0x0022=] as trimming it by (with nouns reversed). Understand [=0x0022=]cut [something] by [length][=0x0022=] as trimming it by. Understand the command [=0x0022=]trim[=0x0022=] as [=0x0022=]cut[=0x0022=].[=0x000A=][=0x000A=]Trimming it by is an action applying to one thing and one length.[=0x000A=][=0x000A=]Check trimming it by:[=0x000A=][=0x0009=]if the length understood is 0 inches, say [=0x0022=]You[=0x0027=]re approaching Zeno[=0x0027=]s string at this point.[=0x0022=] instead;[=0x000A=][=0x0009=]if the length understood is greater than the length of the noun, say [=0x0022=][The noun] is only [length of the noun] long to start with.[=0x0022=] instead;[=0x000A=][=0x0009=]if the length understood is the length of the noun, say [=0x0022=][The noun] is already exactly [length of the noun] long.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out trimming it by:[=0x000A=][=0x0009=]now the length of the noun is the length of the noun minus the length understood;[=0x000A=][=0x0009=]let the other half be a random string in the string repository;[=0x000A=][=0x0009=]now the length of the other half is the length understood;[=0x000A=][=0x0009=]move the other half to the player.[=0x000A=][=0x000A=]Report trimming it by:[=0x000A=][=0x0009=]reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list][=0x000A=][=0x0009=]say [=0x0022=]You now have [a list of strings carried by the player].[=0x0022=][=0x000A=][=0x000A=]Understand [=0x0022=]cut [something] in half[=0x0022=] as halving. Halving is an action applying to one thing.[=0x000A=][=0x000A=]Carry out halving:[=0x000A=][=0x0009=]let half measure be the length of the noun divided by 2;[=0x000A=][=0x0009=]now the length understood is half measure;[=0x000A=][=0x0009=]try trimming the noun by half measure.[=0x000A=][=0x000A=][This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let[=0x0027=]s assume for now that this doesn[=0x0027=]t matter.][=0x000A=][=0x000A=]The player carries a string.[=0x000A=][=0x000A=]The Scissors Room is a room.[=0x000A=][=0x000A=]The string repository contains 35 strings.[=0x000A=][=0x000A=][Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it[=0x0027=]s best to avoid that sort of thing if possible.][=0x000A=][=0x000A=][Now with a bit of fiddling we can also teach Inform to recognize descriptors such as [=0x0022=]the shortest string[=0x0022=]:][=0x000A=][=0x000A=]Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.[=0x000A=][=0x000A=]Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.[=0x000A=][=0x000A=]Before reading a command:[=0x000A=][=0x0009=]reset string lengths.[=0x000A=][=0x000A=]To reset string lengths:[=0x000A=][=0x0009=]let upper measure be the length of the largest visible string;[=0x000A=][=0x0009=]let lower measure be the length of the smallest visible string;[=0x000A=][=0x0009=]repeat with item running through strings:[=0x000A=][=0x0009=][=0x0009=]now the ordinariness of the item is medium;[=0x000A=][=0x0009=][=0x0009=]if the length of the item is the upper measure, now the item is longest;[=0x000A=][=0x0009=][=0x0009=]if the length of the item is the lower measure, now the item is shortest.[=0x000A=][=0x000A=]After reading a command:[=0x000A=][=0x0009=]if the player[=0x0027=]s command includes [=0x0022=]shorter[=0x0022=], replace the matched text with [=0x0022=]shortest[=0x0022=];[=0x000A=][=0x0009=]if the player[=0x0027=]s command includes [=0x0022=]longer[=0x0022=], replace the matched text with [=0x0022=]longest[=0x0022=].[=0x000A=][=0x000A=]Instead of tying a string to a string:[=0x000A=][=0x0009=]move the second noun to the string repository;[=0x000A=][=0x0009=]now the length of the noun is the length of the noun plus the length of the second noun;[=0x000A=][=0x0009=]decrease the length of the noun by 1 inch;[=0x000A=][=0x0009=]say [=0x0022=]You end up with [a noun], as some is taken up by the knot.[=0x0022=][=0x000A=][=0x000A=][This is still a little incomplete because we cannot refer to strings by their lengths, as in [=0x0022=]the 2 inch string[=0x0022=] and so on. To do this, we borrow a line from the chapter on Understanding:][=0x000A=][=0x000A=]Understand the length property as referring to a string.[=0x000A=][=0x000A=]Test me with [=0x0022=]trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Snip!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33906" -->
<a id="c33906"></a><blockquote class="code"><p class="quoted">
Length is a kind of value. 30 inch specifies a length. 20 in specifies a length. 50 inches specifies a length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33907" -->
<a id="c33907"></a><blockquote class="code"><p class="quoted">
A string is a kind of thing. A string has a length. The length of a string is usually 36 inches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33908" -->
<a id="c33908"></a><blockquote class="code"><p class="quoted">
Before printing the name of a string, say &quot;[length] piece of &quot;. Rule for printing the plural name of a string: say &quot;[length] pieces of string&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33909" -->
<a id="c33909"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;cut&quot; as something new. Understand &quot;cut [length] from/off [something]&quot; as trimming it by (with nouns reversed). Understand &quot;cut [something] by [length]&quot; as trimming it by. Understand the command &quot;trim&quot; as &quot;cut&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33910" -->
<a id="c33910"></a><blockquote class="code"><p class="quoted">
Trimming it by is an action applying to one thing and one length.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33911" -->
<a id="c33911"></a><blockquote class="code"><p class="quoted">
Check trimming it by:
<br />&#160;&#160;&#160;&#160;if the length understood is 0 inches, say &quot;You're approaching Zeno's string at this point.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is greater than the length of the noun, say &quot;[The noun] is only [length of the noun] long to start with.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the length understood is the length of the noun, say &quot;[The noun] is already exactly [length of the noun] long.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33912" -->
<a id="c33912"></a><blockquote class="code"><p class="quoted">
Carry out trimming it by:
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun minus the length understood;
<br />&#160;&#160;&#160;&#160;let the other half be a random string in the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the other half is the length understood;
<br />&#160;&#160;&#160;&#160;move the other half to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33913" -->
<a id="c33913"></a><blockquote class="code"><p class="quoted">
Report trimming it by:
<br />&#160;&#160;&#160;&#160;reset string lengths; [we will define this in a moment; it helps guarantee that our descriptions of the strings are correct when we write the output list]
<br />&#160;&#160;&#160;&#160;say &quot;You now have [a list of strings carried by the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33914" -->
<a id="c33914"></a><blockquote class="code"><p class="quoted">
Understand &quot;cut [something] in half&quot; as halving. Halving is an action applying to one thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33915" -->
<a id="c33915"></a><blockquote class="code"><p class="quoted">
Carry out halving:
<br />&#160;&#160;&#160;&#160;let half measure be the length of the noun divided by 2;
<br />&#160;&#160;&#160;&#160;now the length understood is half measure;
<br />&#160;&#160;&#160;&#160;try trimming the noun by half measure.
</p></blockquote>
<!-- END CODE -->
<p>This fudges slightly, since an odd-length string will be divided into uneven halves. Keeping track of fractional inches would complicate matters, though, so let's assume for now that this doesn't matter.</p>
<!-- START CODE "c33916" -->
<a id="c33916"></a><blockquote class="code"><p class="quoted">
The player carries a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33917" -->
<a id="c33917"></a><blockquote class="code"><p class="quoted">
The Scissors Room is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33918" -->
<a id="c33918"></a><blockquote class="code"><p class="quoted">
The string repository contains 35 strings.
</p></blockquote>
<!-- END CODE -->
<p>Since our initial string is 36 inches long and it is impossible for the player to divide it into pieces smaller than an inch each, we need a total of 36 items to represent all the string-bits: one that the player carries at the outset, and 35 others. We should bear in mind that it is usually a good idea to use the smallest number of spare objects we can get away with: writing a game that required 1000 strings in the string repository would place silly demands on the resources of the system, so it's best to avoid that sort of thing if possible.</p>
<p>Now with a bit of fiddling we can also teach Inform to recognize descriptors such as &quot;the shortest string&quot;:</p>
<!-- START CODE "c33919" -->
<a id="c33919"></a><blockquote class="code"><p class="quoted">
Ordinariness is a kind of value. The ordinarinesses are longest, medium, shortest. A string has an ordinariness. Understand the ordinariness property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33920" -->
<a id="c33920"></a><blockquote class="code"><p class="quoted">
Definition: a string is small if its length is 2 in or less. Definition: a string is large if its length is 20 in or more.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33921" -->
<a id="c33921"></a><blockquote class="code"><p class="quoted">
Before reading a command:
<br />&#160;&#160;&#160;&#160;reset string lengths.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33922" -->
<a id="c33922"></a><blockquote class="code"><p class="quoted">
To reset string lengths:
<br />&#160;&#160;&#160;&#160;let upper measure be the length of the largest visible string;
<br />&#160;&#160;&#160;&#160;let lower measure be the length of the smallest visible string;
<br />&#160;&#160;&#160;&#160;repeat with item running through strings:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the ordinariness of the item is medium;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the upper measure, now the item is longest;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the length of the item is the lower measure, now the item is shortest.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33923" -->
<a id="c33923"></a><blockquote class="code"><p class="quoted">
After reading a command:
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;shorter&quot;, replace the matched text with &quot;shortest&quot;;
<br />&#160;&#160;&#160;&#160;if the player's command includes &quot;longer&quot;, replace the matched text with &quot;longest&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33924" -->
<a id="c33924"></a><blockquote class="code"><p class="quoted">
Instead of tying a string to a string:
<br />&#160;&#160;&#160;&#160;move the second noun to the string repository;
<br />&#160;&#160;&#160;&#160;now the length of the noun is the length of the noun plus the length of the second noun;
<br />&#160;&#160;&#160;&#160;decrease the length of the noun by 1 inch;
<br />&#160;&#160;&#160;&#160;say &quot;You end up with [a noun], as some is taken up by the knot.&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is still a little incomplete because we cannot refer to strings by their lengths, as in &quot;the 2 inch string&quot; and so on. To do this, we borrow a line from the chapter on Understanding:</p>
<!-- START CODE "c33925" -->
<a id="c33925"></a><blockquote class="code"><p class="quoted">
Understand the length property as referring to a string.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c33926" -->
<a id="c33926"></a><blockquote class="code"><p class="quoted">
Test me with &quot;trim string by 4 in / cut longer string in half / cut longest string in half / cut shortest string in half / g / g / tie longest string to shortest string / tie longest string to medium string / i / x 16 inch string / drop 8 inch string / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex327.html#e327"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
