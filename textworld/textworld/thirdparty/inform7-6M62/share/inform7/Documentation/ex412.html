<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>18.35. Printing a parser error</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง18.35. Printing a parser error</p>
<p><span class="boldface">1. When it happens.</span> The parser is the part of the run-time software, included in all works produced by Inform, which tries to match the player's command against the grammar provided by the work. When it is unable to make a valid match, the parser prints an error to the player: for instance,</p>
<!-- START CODE "c1565" -->
<a id="c1565"></a><blockquote class="code"><p class="quoted">
&gt; BIFURCATE TREE
<br />That's not a verb I recognise.
</p></blockquote>
<!-- END CODE -->
<p>There are more than twenty possible messages. The one which the parser wants to say is stored in the variable &quot;latest parser error&quot;, which has the convenient kind &quot;command parser error&quot;. This has the following possible values:</p>
<!-- START CODE "c1566" -->
<a id="c1566"></a><blockquote class="code"><p class="quoted">
didn't understand error
<br />only understood as far as error
<br />didn't understand that number error
<br />can't see any such thing error
<br />said too little error
<br />aren't holding that error
<br />can't use multiple objects error
<br />can only use multiple objects error
<br />not sure what it refers to error
<br />excepted something not included error
<br />can only do that to something animate error
<br />not a verb I recognise error
<br />not something you need to refer to error
<br />can't see it at the moment error
<br />didn't understand the way that finished error
<br />not enough of those available error
<br />nothing to do error
<br />referred to a determination of scope error
<br />I beg your pardon error
<br />noun did not make sense in that context error
<br />can't again the addressee error
<br />comma can't begin error
<br />can't see whom to talk to error
<br />can't talk to inanimate things error
<br />didn't understand addressee's last name error
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">2. The default behaviour.</span> Prints the message in question.</p>
<p><span class="boldface">3. Examples.</span> (a) Perhaps for newcomers:</p>
<!-- START CODE "c1567" -->
<a id="c1567"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('After printing a parser error:[=0x000A=][=0x0009=]say [=0x0022=]If you are new to interactive fiction, you may like to try typing HELP.[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> After printing a parser error:
<br />&#160;&#160;&#160;&#160;say &quot;If you are new to interactive fiction, you may like to try typing HELP.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(b) Or to give the parser a certain amount of character:</p>
<!-- START CODE "c1568" -->
<a id="c1568"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Rule for printing a parser error when the latest parser error is the I beg your pardon error:[=0x000A=][=0x0009=]say [=0x0022=]What[=0x0027=]s that? Speak up, speak up.[=0x0022=] instead.[=0x000A=][=0x000A=]{*}Rule for printing a parser error:[=0x000A=][=0x0009=]say [=0x0022=]That[=0x0027=]s a rum thing to say, and no mistake.[=0x0022=] instead.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> Rule for printing a parser error when the latest parser error is the I beg your pardon error:
<br />&#160;&#160;&#160;&#160;say &quot;What's that? Speak up, speak up.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1569" -->
<a id="c1569"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Rule for printing a parser error:[=0x000A=][=0x0009=]say [=0x0022=]That[=0x0027=]s a rum thing to say, and no mistake.[=0x0022=] instead.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> Rule for printing a parser error:
<br />&#160;&#160;&#160;&#160;say &quot;That's a rum thing to say, and no mistake.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<p>(c) This can be helpful for seeing what's going on:</p>
<!-- START CODE "c1570" -->
<a id="c1570"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Rule for printing a parser error:[=0x000A=][=0x0009=]say [=0x0022=]The [latest parser error] happened.[=0x0022=];[=0x000A=][=0x0009=]continue the activity.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> Rule for printing a parser error:
<br />&#160;&#160;&#160;&#160;say &quot;The [latest parser error] happened.&quot;;
<br />&#160;&#160;&#160;&#160;continue the activity.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_18_1.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_34.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_18_34.html" class="standardlink">Back to ยง18.34. Implicitly taking something</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_36.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_18_36.html" class="standardlink">Onward to ยง18.36. Deciding whether all includes</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e444"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex444.html#e444" class="eglink"><b>380</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex444.html#e444" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">WXPQ</span></b></a><br />Creating a more sensible parser error than "that noun did not make sense in this context".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex444.html#e444"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e412"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_18_35.html#e412" class="eglink"><b>381</b></a></div>
<div class="egpanel" id="example412">
<p>In Hitchhiker's Guide to the Galaxy, any erroneous command the player types can return to haunt him later in the game. We could do the same, if we liked, by storing the player's command whenever we print a parser error.</p>
<!-- START CODE "c21970" -->
<a id="c21970"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Xot[=0x0022=][=0x000A=][=0x000A=]Humiliation Chamber is a room. [=0x0022=]A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can[=0x0027=]t disable it, is a loudspeaker.[=0x0022=][=0x000A=][=0x000A=]The last error is a text that varies. The last error is [=0x0022=]xot[=0x0022=].[=0x000A=][=0x000A=]Before printing a parser error:[=0x000A=][=0x0009=]now the last error is the player[=0x0027=]s command.[=0x000A=][=0x000A=]Every turn when a random chance of 1 in 2 succeeds:[=0x000A=][=0x0009=]say [=0x0022=]Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying [=0x0027=][last error], [last error], [last error]![=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]wiggle / z / z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;Xot&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21971" -->
<a id="c21971"></a><blockquote class="code"><p class="quoted">
Humiliation Chamber is a room. &quot;A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can't disable it, is a loudspeaker.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21972" -->
<a id="c21972"></a><blockquote class="code"><p class="quoted">
The last error is a text that varies. The last error is &quot;xot&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21973" -->
<a id="c21973"></a><blockquote class="code"><p class="quoted">
Before printing a parser error:
<br />&#160;&#160;&#160;&#160;now the last error is the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21974" -->
<a id="c21974"></a><blockquote class="code"><p class="quoted">
Every turn when a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;say &quot;Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying '[last error], [last error], [last error]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21975" -->
<a id="c21975"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wiggle / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18_35.html#e412" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Xot</span></b></a><br />Storing an invalid command to be repeated as text later in the game.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example412">
<p>In Hitchhiker's Guide to the Galaxy, any erroneous command the player types can return to haunt him later in the game. We could do the same, if we liked, by storing the player's command whenever we print a parser error.</p>
<!-- START CODE "c21976" -->
<a id="c21976"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Xot[=0x0022=][=0x000A=][=0x000A=]Humiliation Chamber is a room. [=0x0022=]A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can[=0x0027=]t disable it, is a loudspeaker.[=0x0022=][=0x000A=][=0x000A=]The last error is a text that varies. The last error is [=0x0022=]xot[=0x0022=].[=0x000A=][=0x000A=]Before printing a parser error:[=0x000A=][=0x0009=]now the last error is the player[=0x0027=]s command.[=0x000A=][=0x000A=]Every turn when a random chance of 1 in 2 succeeds:[=0x000A=][=0x0009=]say [=0x0022=]Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying [=0x0027=][last error], [last error], [last error]![=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]wiggle / z / z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;Xot&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21977" -->
<a id="c21977"></a><blockquote class="code"><p class="quoted">
Humiliation Chamber is a room. &quot;A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can't disable it, is a loudspeaker.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21978" -->
<a id="c21978"></a><blockquote class="code"><p class="quoted">
The last error is a text that varies. The last error is &quot;xot&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21979" -->
<a id="c21979"></a><blockquote class="code"><p class="quoted">
Before printing a parser error:
<br />&#160;&#160;&#160;&#160;now the last error is the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21980" -->
<a id="c21980"></a><blockquote class="code"><p class="quoted">
Every turn when a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;say &quot;Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying '[last error], [last error], [last error]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21981" -->
<a id="c21981"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wiggle / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex412.html#e412"><i>RB</i></a></div>
<div class="egpanel" id="example412">
<p>In Hitchhiker's Guide to the Galaxy, any erroneous command the player types can return to haunt him later in the game. We could do the same, if we liked, by storing the player's command whenever we print a parser error.</p>
<!-- START CODE "c21982" -->
<a id="c21982"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]Xot[=0x0022=][=0x000A=][=0x000A=]Humiliation Chamber is a room. [=0x0022=]A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can[=0x0027=]t disable it, is a loudspeaker.[=0x0022=][=0x000A=][=0x000A=]The last error is a text that varies. The last error is [=0x0022=]xot[=0x0022=].[=0x000A=][=0x000A=]Before printing a parser error:[=0x000A=][=0x0009=]now the last error is the player[=0x0027=]s command.[=0x000A=][=0x000A=]Every turn when a random chance of 1 in 2 succeeds:[=0x000A=][=0x0009=]say [=0x0022=]Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying [=0x0027=][last error], [last error], [last error]![=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]wiggle / z / z / z / z / z / z[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;Xot&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21983" -->
<a id="c21983"></a><blockquote class="code"><p class="quoted">
Humiliation Chamber is a room. &quot;A grim, grey-walled room. Cameras watch you from every angle; convex mirrors reflect your actions; and up near the ceiling, where you can't disable it, is a loudspeaker.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21984" -->
<a id="c21984"></a><blockquote class="code"><p class="quoted">
The last error is a text that varies. The last error is &quot;xot&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21985" -->
<a id="c21985"></a><blockquote class="code"><p class="quoted">
Before printing a parser error:
<br />&#160;&#160;&#160;&#160;now the last error is the player's command.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21986" -->
<a id="c21986"></a><blockquote class="code"><p class="quoted">
Every turn when a random chance of 1 in 2 succeeds:
<br />&#160;&#160;&#160;&#160;say &quot;Over the loudspeaker comes some distorted nonsense. If you listen carefully, it sounds as though some fool is saying '[last error], [last error], [last error]!'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c21987" -->
<a id="c21987"></a><blockquote class="code"><p class="quoted">
Test me with &quot;wiggle / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
