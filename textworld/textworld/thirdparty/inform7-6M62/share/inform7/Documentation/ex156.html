<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>18.25. Listing nondescript items of something</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง18.25. Listing nondescript items of something</p>
<p><span class="boldface">1. When it happens.</span> This activity prints up the also-ran paragraph at the end of a room description. These are nondescript items because they don't merit paragraphs of their own: if, as sometimes happens, there are none in the room, then no such paragraph is printed and this activity does not happen. (So to add a further paragraph to a room description, a simpler &quot;after looking&quot; rule should be used, not an &quot;after listing nondescript items&quot; rule.)</p>
<p><span class="boldface">2. The default behaviour.</span> The paragraph ordinarily reads as &quot;You can also see a cask and a clock.&quot; or similar. Before the activity begins, those objects which are nondescript - in this case the cask and the clock - are given the property of being &quot;marked for listing&quot;.</p>
<p>If it turns out that nothing is marked for listing, because of before rules like the one in the example below, then nothing is printed and <span class="boldface">the activity is abandoned</span>, so that the rules for and after are never reached.</p>
<p><span class="boldface">3. Examples.</span> (a) Promoting something out of the nondescript category, by unmarking it.</p>
<!-- START CODE "c1515" -->
<a id="c1515"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Before listing nondescript items:[=0x000A=][=0x0009=]if the watch is marked for listing:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The watch catches your eye.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]now the watch is not marked for listing.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;if the watch is marked for listing:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The watch catches your eye.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the watch is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>(b) Changing the normal phrasing of the paragraph. Note that we can also change the listing style; the one below is the default.</p>
<!-- START CODE "c1516" -->
<a id="c1516"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('Rule for listing nondescript items of the Distressingly Messy Room:[=0x000A=][=0x0009=]say [=0x0022=]Strewn carelessly on the floor[=0x0022=];[=0x000A=][=0x0009=]list the contents of the Distressingly Messy Room, as a sentence,[=0x000A=][=0x0009=][=0x0009=]tersely, listing marked items only, prefacing with is/are,[=0x000A=][=0x0009=][=0x0009=]including contents and giving brief inventory information;[=0x000A=][=0x0009=]say [=0x0022=].[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> Rule for listing nondescript items of the Distressingly Messy Room:
<br />&#160;&#160;&#160;&#160;say &quot;Strewn carelessly on the floor&quot;;
<br />&#160;&#160;&#160;&#160;list the contents of the Distressingly Messy Room, as a sentence,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;tersely, listing marked items only, prefacing with is/are,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;including contents and giving brief inventory information;
<br />&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_18_1.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_24.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_18_24.html" class="standardlink">Back to ยง18.24. Writing a paragraph about</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_26.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_18_26.html" class="standardlink">Onward to ยง18.26. Printing the locale description of something</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e116"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex116.html#e116" class="eglink"><b>355</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex116.html#e116" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Rip Van Winkle</span></b></a><br />A simple way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex116.html#e116"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e156"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_18_25.html#e156" class="eglink"><b>356</b></a></div>
<div class="egpanel" id="example156">
<!-- START CODE "c9169" -->
<a id="c9169"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]The Eye of the Idol[=0x0022=][=0x000A=][=0x000A=]Section 1 - Reusable Material[=0x000A=][=0x000A=][We start by defining relations that let us know where items [=0x0022=]belong[=0x0022=], with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:][=0x000A=][=0x000A=]Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.[=0x000A=][=0x000A=]Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.[=0x000A=][=0x000A=][We can[=0x0027=]t make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say [=0x0022=]A thing has an object called the initial placement[=0x0022=], which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as [=0x0022=]half-buried in dust[=0x0022=] in the beginning of the game, and then at the end as [=0x0022=]in the eye of the idol[=0x0022=] at the end.][=0x000A=][=0x000A=][Now we define, based on these relations, an [=0x0022=]in-place[=0x0022=] adjective, which will identify whether something is in a location which will specially describe it:][=0x000A=][=0x000A=]Definition: a thing (called prop) is in-place:[=0x000A=][=0x0009=]if the prop is in the location and the prop is room-placed in the location, yes;[=0x000A=][=0x0009=]if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Definition: a thing is out-of-place if it is not in-place.[=0x000A=][=0x000A=][With that done, removing these items automatically from the room description is actually pretty easy:][=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]now every marked for listing in-place thing is not marked for listing.[=0x000A=][=0x000A=][One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object [=0x0022=]not marked for listing[=0x0022=]. What matters here is not whether the object itself is marked for listing but whether the supporter has been [=0x0022=]mentioned[=0x0022=]. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let[=0x0027=]s also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:][=0x000A=][=0x000A=]A supporter can be quiet.[=0x000A=][=0x000A=][A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.][=0x000A=][=0x000A=]Rule for writing a paragraph about a quiet supporter (called chosen table):[=0x000A=][=0x0009=]if an out-of-place thing is on the chosen table:[=0x000A=][=0x0009=][=0x0009=]if an in-place thing is on the chosen table,[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].[=0x0022=];[=0x000A=][=0x0009=]now the chosen table is mentioned.[=0x000A=][=0x000A=][Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.][=0x000A=][=0x000A=][Now, an example to test this out:][=0x000A=][=0x000A=]Section 2 - A Sample Scenario[=0x000A=][=0x000A=]The Sand-Floored Chamber is a room. [=0x0022=]The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.[=0x0022=][=0x000A=][=0x000A=]The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is [=0x0022=]It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.[=0x0022=][=0x000A=][=0x000A=]The Hexagonal Temple is north of the Sand-Floored Chamber. [=0x0022=]The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol[=0x0027=]s eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].[=0x0022=].[=0x000A=][=0x000A=]To say mat-and-incense text:[=0x000A=][=0x0009=]if the mat is in the Temple and the incense stick is on the pedestal:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. A prayer mat at the idol[=0x0027=]s feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity[=0x0022=];[=0x000A=][=0x0009=]otherwise if the mat is in the Temple:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. At the idol[=0x0027=]s feet, some worshipper has left a prayer mat[=0x0022=];[=0x000A=][=0x0009=]otherwise if the incense stick is on the pedestal:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. At the idol[=0x0027=]s side is a pedestal, on which incense still smolders[=0x0022=].[=0x000A=][=0x000A=][We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.][=0x000A=][=0x000A=]The idol is scenery in the Hexagonal Temple. Understand [=0x0022=]sculpture[=0x0022=] or [=0x0022=]stone[=0x0022=] or [=0x0022=]ivory[=0x0022=] as the idol. The description is [=0x0022=]The idol is perhaps three times the height of an ordinary man.[=0x0022=][=0x000A=][=0x000A=]The idol[=0x0027=]s eye is part of the idol. It is a container. The description is [=0x0022=][if the diamond is in the idol[=0x0027=]s eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol[=0x0027=]s forehead from which something seems to be missing[end if].[=0x0022=][=0x000A=][=0x000A=]The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.[=0x000A=][=0x000A=]A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is [=0x0022=]Woven of assorted grasses.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look[=0x0022=].[=0x000A=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;The Eye of the Idol&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9170" -->
<a id="c9170"></a><blockquote class="code"><p class="quoted">
Section 1 - Reusable Material
</p></blockquote>
<!-- END CODE -->
<p>We start by defining relations that let us know where items &quot;belong&quot;, with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:</p>
<!-- START CODE "c9171" -->
<a id="c9171"></a><blockquote class="code"><p class="quoted">
Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9172" -->
<a id="c9172"></a><blockquote class="code"><p class="quoted">
Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.
</p></blockquote>
<!-- END CODE -->
<p>We can't make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say &quot;A thing has an object called the initial placement&quot;, which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as &quot;half-buried in dust&quot; in the beginning of the game, and then at the end as &quot;in the eye of the idol&quot; at the end.</p>
<p>Now we define, based on these relations, an &quot;in-place&quot; adjective, which will identify whether something is in a location which will specially describe it:</p>
<!-- START CODE "c9173" -->
<a id="c9173"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called prop) is in-place:
<br />&#160;&#160;&#160;&#160;if the prop is in the location and the prop is room-placed in the location, yes;
<br />&#160;&#160;&#160;&#160;if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9174" -->
<a id="c9174"></a><blockquote class="code"><p class="quoted">
Definition: a thing is out-of-place if it is not in-place.
</p></blockquote>
<!-- END CODE -->
<p>With that done, removing these items automatically from the room description is actually pretty easy:</p>
<!-- START CODE "c9175" -->
<a id="c9175"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;now every marked for listing in-place thing is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object &quot;not marked for listing&quot;. What matters here is not whether the object itself is marked for listing but whether the supporter has been &quot;mentioned&quot;. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let's also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:</p>
<!-- START CODE "c9176" -->
<a id="c9176"></a><blockquote class="code"><p class="quoted">
A supporter can be quiet.
</p></blockquote>
<!-- END CODE -->
<p>A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.</p>
<!-- START CODE "c9177" -->
<a id="c9177"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a quiet supporter (called chosen table):
<br />&#160;&#160;&#160;&#160;if an out-of-place thing is on the chosen table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if an in-place thing is on the chosen table,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;now the chosen table is mentioned.
</p></blockquote>
<!-- END CODE -->
<p>Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.</p>
<p>Now, an example to test this out:</p>
<!-- START CODE "c9178" -->
<a id="c9178"></a><blockquote class="code"><p class="quoted">
Section 2 - A Sample Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9179" -->
<a id="c9179"></a><blockquote class="code"><p class="quoted">
The Sand-Floored Chamber is a room. &quot;The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9180" -->
<a id="c9180"></a><blockquote class="code"><p class="quoted">
The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is &quot;It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9181" -->
<a id="c9181"></a><blockquote class="code"><p class="quoted">
The Hexagonal Temple is north of the Sand-Floored Chamber. &quot;The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol's eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9182" -->
<a id="c9182"></a><blockquote class="code"><p class="quoted">
To say mat-and-incense text:
<br />&#160;&#160;&#160;&#160;if the mat is in the Temple and the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. A prayer mat at the idol's feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the mat is in the Temple:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's feet, some worshipper has left a prayer mat&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's side is a pedestal, on which incense still smolders&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.</p>
<!-- START CODE "c9183" -->
<a id="c9183"></a><blockquote class="code"><p class="quoted">
The idol is scenery in the Hexagonal Temple. Understand &quot;sculpture&quot; or &quot;stone&quot; or &quot;ivory&quot; as the idol. The description is &quot;The idol is perhaps three times the height of an ordinary man.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9184" -->
<a id="c9184"></a><blockquote class="code"><p class="quoted">
The idol's eye is part of the idol. It is a container. The description is &quot;[if the diamond is in the idol's eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol's forehead from which something seems to be missing[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9185" -->
<a id="c9185"></a><blockquote class="code"><p class="quoted">
The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9186" -->
<a id="c9186"></a><blockquote class="code"><p class="quoted">
A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is &quot;Woven of assorted grasses.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9187" -->
<a id="c9187"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18_25.html#e156" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">The Eye of the Idol</span></b></a><br />A systematic way to allow objects in certain places to be described in the room description body text rather than in paragraphs following the room description, and to control whether supporters list their contents or not.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example156">
<!-- START CODE "c9188" -->
<a id="c9188"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]The Eye of the Idol[=0x0022=][=0x000A=][=0x000A=]Section 1 - Reusable Material[=0x000A=][=0x000A=][We start by defining relations that let us know where items [=0x0022=]belong[=0x0022=], with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:][=0x000A=][=0x000A=]Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.[=0x000A=][=0x000A=]Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.[=0x000A=][=0x000A=][We can[=0x0027=]t make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say [=0x0022=]A thing has an object called the initial placement[=0x0022=], which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as [=0x0022=]half-buried in dust[=0x0022=] in the beginning of the game, and then at the end as [=0x0022=]in the eye of the idol[=0x0022=] at the end.][=0x000A=][=0x000A=][Now we define, based on these relations, an [=0x0022=]in-place[=0x0022=] adjective, which will identify whether something is in a location which will specially describe it:][=0x000A=][=0x000A=]Definition: a thing (called prop) is in-place:[=0x000A=][=0x0009=]if the prop is in the location and the prop is room-placed in the location, yes;[=0x000A=][=0x0009=]if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Definition: a thing is out-of-place if it is not in-place.[=0x000A=][=0x000A=][With that done, removing these items automatically from the room description is actually pretty easy:][=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]now every marked for listing in-place thing is not marked for listing.[=0x000A=][=0x000A=][One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object [=0x0022=]not marked for listing[=0x0022=]. What matters here is not whether the object itself is marked for listing but whether the supporter has been [=0x0022=]mentioned[=0x0022=]. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let[=0x0027=]s also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:][=0x000A=][=0x000A=]A supporter can be quiet.[=0x000A=][=0x000A=][A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.][=0x000A=][=0x000A=]Rule for writing a paragraph about a quiet supporter (called chosen table):[=0x000A=][=0x0009=]if an out-of-place thing is on the chosen table:[=0x000A=][=0x0009=][=0x0009=]if an in-place thing is on the chosen table,[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].[=0x0022=];[=0x000A=][=0x0009=]now the chosen table is mentioned.[=0x000A=][=0x000A=][Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.][=0x000A=][=0x000A=][Now, an example to test this out:][=0x000A=][=0x000A=]Section 2 - A Sample Scenario[=0x000A=][=0x000A=]The Sand-Floored Chamber is a room. [=0x0022=]The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.[=0x0022=][=0x000A=][=0x000A=]The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is [=0x0022=]It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.[=0x0022=][=0x000A=][=0x000A=]The Hexagonal Temple is north of the Sand-Floored Chamber. [=0x0022=]The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol[=0x0027=]s eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].[=0x0022=].[=0x000A=][=0x000A=]To say mat-and-incense text:[=0x000A=][=0x0009=]if the mat is in the Temple and the incense stick is on the pedestal:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. A prayer mat at the idol[=0x0027=]s feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity[=0x0022=];[=0x000A=][=0x0009=]otherwise if the mat is in the Temple:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. At the idol[=0x0027=]s feet, some worshipper has left a prayer mat[=0x0022=];[=0x000A=][=0x0009=]otherwise if the incense stick is on the pedestal:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. At the idol[=0x0027=]s side is a pedestal, on which incense still smolders[=0x0022=].[=0x000A=][=0x000A=][We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.][=0x000A=][=0x000A=]The idol is scenery in the Hexagonal Temple. Understand [=0x0022=]sculpture[=0x0022=] or [=0x0022=]stone[=0x0022=] or [=0x0022=]ivory[=0x0022=] as the idol. The description is [=0x0022=]The idol is perhaps three times the height of an ordinary man.[=0x0022=][=0x000A=][=0x000A=]The idol[=0x0027=]s eye is part of the idol. It is a container. The description is [=0x0022=][if the diamond is in the idol[=0x0027=]s eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol[=0x0027=]s forehead from which something seems to be missing[end if].[=0x0022=][=0x000A=][=0x000A=]The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.[=0x000A=][=0x000A=]A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is [=0x0022=]Woven of assorted grasses.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look[=0x0022=].[=0x000A=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;The Eye of the Idol&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9189" -->
<a id="c9189"></a><blockquote class="code"><p class="quoted">
Section 1 - Reusable Material
</p></blockquote>
<!-- END CODE -->
<p>We start by defining relations that let us know where items &quot;belong&quot;, with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:</p>
<!-- START CODE "c9190" -->
<a id="c9190"></a><blockquote class="code"><p class="quoted">
Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9191" -->
<a id="c9191"></a><blockquote class="code"><p class="quoted">
Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.
</p></blockquote>
<!-- END CODE -->
<p>We can't make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say &quot;A thing has an object called the initial placement&quot;, which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as &quot;half-buried in dust&quot; in the beginning of the game, and then at the end as &quot;in the eye of the idol&quot; at the end.</p>
<p>Now we define, based on these relations, an &quot;in-place&quot; adjective, which will identify whether something is in a location which will specially describe it:</p>
<!-- START CODE "c9192" -->
<a id="c9192"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called prop) is in-place:
<br />&#160;&#160;&#160;&#160;if the prop is in the location and the prop is room-placed in the location, yes;
<br />&#160;&#160;&#160;&#160;if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9193" -->
<a id="c9193"></a><blockquote class="code"><p class="quoted">
Definition: a thing is out-of-place if it is not in-place.
</p></blockquote>
<!-- END CODE -->
<p>With that done, removing these items automatically from the room description is actually pretty easy:</p>
<!-- START CODE "c9194" -->
<a id="c9194"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;now every marked for listing in-place thing is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object &quot;not marked for listing&quot;. What matters here is not whether the object itself is marked for listing but whether the supporter has been &quot;mentioned&quot;. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let's also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:</p>
<!-- START CODE "c9195" -->
<a id="c9195"></a><blockquote class="code"><p class="quoted">
A supporter can be quiet.
</p></blockquote>
<!-- END CODE -->
<p>A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.</p>
<!-- START CODE "c9196" -->
<a id="c9196"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a quiet supporter (called chosen table):
<br />&#160;&#160;&#160;&#160;if an out-of-place thing is on the chosen table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if an in-place thing is on the chosen table,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;now the chosen table is mentioned.
</p></blockquote>
<!-- END CODE -->
<p>Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.</p>
<p>Now, an example to test this out:</p>
<!-- START CODE "c9197" -->
<a id="c9197"></a><blockquote class="code"><p class="quoted">
Section 2 - A Sample Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9198" -->
<a id="c9198"></a><blockquote class="code"><p class="quoted">
The Sand-Floored Chamber is a room. &quot;The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9199" -->
<a id="c9199"></a><blockquote class="code"><p class="quoted">
The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is &quot;It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9200" -->
<a id="c9200"></a><blockquote class="code"><p class="quoted">
The Hexagonal Temple is north of the Sand-Floored Chamber. &quot;The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol's eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9201" -->
<a id="c9201"></a><blockquote class="code"><p class="quoted">
To say mat-and-incense text:
<br />&#160;&#160;&#160;&#160;if the mat is in the Temple and the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. A prayer mat at the idol's feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the mat is in the Temple:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's feet, some worshipper has left a prayer mat&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's side is a pedestal, on which incense still smolders&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.</p>
<!-- START CODE "c9202" -->
<a id="c9202"></a><blockquote class="code"><p class="quoted">
The idol is scenery in the Hexagonal Temple. Understand &quot;sculpture&quot; or &quot;stone&quot; or &quot;ivory&quot; as the idol. The description is &quot;The idol is perhaps three times the height of an ordinary man.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9203" -->
<a id="c9203"></a><blockquote class="code"><p class="quoted">
The idol's eye is part of the idol. It is a container. The description is &quot;[if the diamond is in the idol's eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol's forehead from which something seems to be missing[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9204" -->
<a id="c9204"></a><blockquote class="code"><p class="quoted">
The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9205" -->
<a id="c9205"></a><blockquote class="code"><p class="quoted">
A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is &quot;Woven of assorted grasses.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9206" -->
<a id="c9206"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex156.html#e156"><i>RB</i></a></div>
<div class="egpanel" id="example156">
<!-- START CODE "c9207" -->
<a id="c9207"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]The Eye of the Idol[=0x0022=][=0x000A=][=0x000A=]Section 1 - Reusable Material[=0x000A=][=0x000A=][We start by defining relations that let us know where items [=0x0022=]belong[=0x0022=], with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:][=0x000A=][=0x000A=]Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.[=0x000A=][=0x000A=]Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.[=0x000A=][=0x000A=][We can[=0x0027=]t make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say [=0x0022=]A thing has an object called the initial placement[=0x0022=], which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as [=0x0022=]half-buried in dust[=0x0022=] in the beginning of the game, and then at the end as [=0x0022=]in the eye of the idol[=0x0022=] at the end.][=0x000A=][=0x000A=][Now we define, based on these relations, an [=0x0022=]in-place[=0x0022=] adjective, which will identify whether something is in a location which will specially describe it:][=0x000A=][=0x000A=]Definition: a thing (called prop) is in-place:[=0x000A=][=0x0009=]if the prop is in the location and the prop is room-placed in the location, yes;[=0x000A=][=0x0009=]if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Definition: a thing is out-of-place if it is not in-place.[=0x000A=][=0x000A=][With that done, removing these items automatically from the room description is actually pretty easy:][=0x000A=][=0x000A=]Before listing nondescript items:[=0x000A=][=0x0009=]now every marked for listing in-place thing is not marked for listing.[=0x000A=][=0x000A=][One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object [=0x0022=]not marked for listing[=0x0022=]. What matters here is not whether the object itself is marked for listing but whether the supporter has been [=0x0022=]mentioned[=0x0022=]. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let[=0x0027=]s also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:][=0x000A=][=0x000A=]A supporter can be quiet.[=0x000A=][=0x000A=][A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.][=0x000A=][=0x000A=]Rule for writing a paragraph about a quiet supporter (called chosen table):[=0x000A=][=0x0009=]if an out-of-place thing is on the chosen table:[=0x000A=][=0x0009=][=0x0009=]if an in-place thing is on the chosen table,[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].[=0x0022=];[=0x000A=][=0x0009=]now the chosen table is mentioned.[=0x000A=][=0x000A=][Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.][=0x000A=][=0x000A=][Now, an example to test this out:][=0x000A=][=0x000A=]Section 2 - A Sample Scenario[=0x000A=][=0x000A=]The Sand-Floored Chamber is a room. [=0x0022=]The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.[=0x0022=][=0x000A=][=0x000A=]The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is [=0x0022=]It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.[=0x0022=][=0x000A=][=0x000A=]The Hexagonal Temple is north of the Sand-Floored Chamber. [=0x0022=]The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol[=0x0027=]s eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].[=0x0022=].[=0x000A=][=0x000A=]To say mat-and-incense text:[=0x000A=][=0x0009=]if the mat is in the Temple and the incense stick is on the pedestal:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. A prayer mat at the idol[=0x0027=]s feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity[=0x0022=];[=0x000A=][=0x0009=]otherwise if the mat is in the Temple:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. At the idol[=0x0027=]s feet, some worshipper has left a prayer mat[=0x0022=];[=0x000A=][=0x0009=]otherwise if the incense stick is on the pedestal:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]. At the idol[=0x0027=]s side is a pedestal, on which incense still smolders[=0x0022=].[=0x000A=][=0x000A=][We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.][=0x000A=][=0x000A=]The idol is scenery in the Hexagonal Temple. Understand [=0x0022=]sculpture[=0x0022=] or [=0x0022=]stone[=0x0022=] or [=0x0022=]ivory[=0x0022=] as the idol. The description is [=0x0022=]The idol is perhaps three times the height of an ordinary man.[=0x0022=][=0x000A=][=0x000A=]The idol[=0x0027=]s eye is part of the idol. It is a container. The description is [=0x0022=][if the diamond is in the idol[=0x0027=]s eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol[=0x0027=]s forehead from which something seems to be missing[end if].[=0x0022=][=0x000A=][=0x000A=]The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.[=0x000A=][=0x000A=]A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is [=0x0022=]Woven of assorted grasses.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look[=0x0022=].[=0x000A=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;The Eye of the Idol&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9208" -->
<a id="c9208"></a><blockquote class="code"><p class="quoted">
Section 1 - Reusable Material
</p></blockquote>
<!-- END CODE -->
<p>We start by defining relations that let us know where items &quot;belong&quot;, with the understanding that if something is where it belongs, it will be described in the main room description and therefore should not be separately listed. Thus:</p>
<!-- START CODE "c9209" -->
<a id="c9209"></a><blockquote class="code"><p class="quoted">
Positioning relates various things to various things. The verb to be placed in means the positioning relation. The verb to be placed on implies the positioning relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9210" -->
<a id="c9210"></a><blockquote class="code"><p class="quoted">
Room-positioning relates various things to various rooms. The verb to be room-placed in means the room-positioning relation.
</p></blockquote>
<!-- END CODE -->
<p>We can't make relations relate various objects to various objects, and rooms are not things, so two separate cases are necessary. An alternative approach would be to say &quot;A thing has an object called the initial placement&quot;, which would allow a thing to have an initial placement that was a room, a supporter, or a container; an advantage of using relations, though, is that that way we can if we like specify multiple placements for the same object, so that, e.g., a sparkling diamond can be described in the main description paragraph as &quot;half-buried in dust&quot; in the beginning of the game, and then at the end as &quot;in the eye of the idol&quot; at the end.</p>
<p>Now we define, based on these relations, an &quot;in-place&quot; adjective, which will identify whether something is in a location which will specially describe it:</p>
<!-- START CODE "c9211" -->
<a id="c9211"></a><blockquote class="code"><p class="quoted">
Definition: a thing (called prop) is in-place:
<br />&#160;&#160;&#160;&#160;if the prop is in the location and the prop is room-placed in the location, yes;
<br />&#160;&#160;&#160;&#160;if the holder of the prop is a thing and the prop is placed in the holder of the prop, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9212" -->
<a id="c9212"></a><blockquote class="code"><p class="quoted">
Definition: a thing is out-of-place if it is not in-place.
</p></blockquote>
<!-- END CODE -->
<p>With that done, removing these items automatically from the room description is actually pretty easy:</p>
<!-- START CODE "c9213" -->
<a id="c9213"></a><blockquote class="code"><p class="quoted">
Before listing nondescript items:
<br />&#160;&#160;&#160;&#160;now every marked for listing in-place thing is not marked for listing.
</p></blockquote>
<!-- END CODE -->
<p>One tricky case remains: when something is placed on a supporter that is scenery, it can be mentioned even if we have marked that object &quot;not marked for listing&quot;. What matters here is not whether the object itself is marked for listing but whether the supporter has been &quot;mentioned&quot;. (A fuller description of how room descriptions are assembled is available in the Looking section of the Commands chapter in the Recipe Book.) So let's also add a feature whereby we can easily suppress the descriptions of these supporters when appropriate:</p>
<!-- START CODE "c9214" -->
<a id="c9214"></a><blockquote class="code"><p class="quoted">
A supporter can be quiet.
</p></blockquote>
<!-- END CODE -->
<p>A quiet supporter is one that is never mentioned itself and which only mentions its contents if they are out of place. This allows for maximum flexibility in incorporating it into the body of room descriptions.</p>
<!-- START CODE "c9215" -->
<a id="c9215"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about a quiet supporter (called chosen table):
<br />&#160;&#160;&#160;&#160;if an out-of-place thing is on the chosen table:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if an in-place thing is on the chosen table,
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;On [the chosen table], in addition to [the list of in-place things on the chosen table], [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;On [a chosen table] [is-are a list of out-of-place things which are on the chosen table].&quot;;
<br />&#160;&#160;&#160;&#160;now the chosen table is mentioned.
</p></blockquote>
<!-- END CODE -->
<p>Notice that we can still override this with writing a paragraph rules about specific supporters in our game, if we decide that we want something a little different in some cases.</p>
<p>Now, an example to test this out:</p>
<!-- START CODE "c9216" -->
<a id="c9216"></a><blockquote class="code"><p class="quoted">
Section 2 - A Sample Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9217" -->
<a id="c9217"></a><blockquote class="code"><p class="quoted">
The Sand-Floored Chamber is a room. &quot;The constant wind has filled this chamber with a layer of fine red sand, as soft as powder snow[if the diamond is in the Sand-floored Chamber]. Something sparkling is half-buried in the corner[end if]. A doorway lies open to the north.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9218" -->
<a id="c9218"></a><blockquote class="code"><p class="quoted">
The sparkling diamond is in the Sand-floored Chamber. The sparkling diamond is room-placed in the Sand-floored Chamber. The description is &quot;It is a vast diamond; the front is faceted, the back smoothed to fit in some sort of socket.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9219" -->
<a id="c9219"></a><blockquote class="code"><p class="quoted">
The Hexagonal Temple is north of the Sand-Floored Chamber. &quot;The temple walls are great ashlar blocks rising to a hundred feet overhead, perhaps more; the roof is a scarlet awning only, through which the sun filters down in blood hues. Overseeing all is a sculpture in stone and ivory[if the sparkling diamond is in the idol's eye], in whose single eye a vast diamond gleams[end if][mat-and-incense text].&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9220" -->
<a id="c9220"></a><blockquote class="code"><p class="quoted">
To say mat-and-incense text:
<br />&#160;&#160;&#160;&#160;if the mat is in the Temple and the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. A prayer mat at the idol's feet, and an incense stick still burning on the pedestal, indicate that someone was only recently consigning her grievances to the care of the deity&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the mat is in the Temple:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's feet, some worshipper has left a prayer mat&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the incense stick is on the pedestal:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;. At the idol's side is a pedestal, on which incense still smolders&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We could have done all this with text conditions in the main room description, but it becomes difficult to read when there are too many conditions operating in the same text property, so we break it out into a clearer set of conditions.</p>
<!-- START CODE "c9221" -->
<a id="c9221"></a><blockquote class="code"><p class="quoted">
The idol is scenery in the Hexagonal Temple. Understand &quot;sculpture&quot; or &quot;stone&quot; or &quot;ivory&quot; as the idol. The description is &quot;The idol is perhaps three times the height of an ordinary man.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9222" -->
<a id="c9222"></a><blockquote class="code"><p class="quoted">
The idol's eye is part of the idol. It is a container. The description is &quot;[if the diamond is in the idol's eye]It gleams with purpose and righteous wrath[otherwise]A round socket in the center of the idol's forehead from which something seems to be missing[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9223" -->
<a id="c9223"></a><blockquote class="code"><p class="quoted">
The pedestal is a quiet supporter in the Hexagonal Temple. On the pedestal is an incense stick. The incense stick is placed on the pedestal.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9224" -->
<a id="c9224"></a><blockquote class="code"><p class="quoted">
A mat is in the Hexagonal Temple. It is room-placed in the Hexagonal Temple. The description is &quot;Woven of assorted grasses.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9225" -->
<a id="c9225"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get diamond / look / n / get mat / look / drop diamond / look / get diamond / put diamond in eye / look / get incense / look / drop mat / look / get mat / put mat on pedestal / look / put incense on pedestal / look&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<a id="e293"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex293.html#e293" class="eglink"><b>357</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex293.html#e293" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Happy Hour</span></b></a><br />Listing visible characters as a group, then giving some followup details in the same paragraph about specific ones.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex293.html#e293"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
