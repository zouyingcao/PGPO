<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>8.8. Moving backdrops</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง8.8. Moving backdrops</p>
<p>A backdrop can be in several rooms at once. When created, its position can be given as any specific collection of rooms, or as a region, or even as &quot;everywhere&quot;. For instance:</p>
<!-- START CODE "c570" -->
<a id="c570"></a><blockquote class="code"><p class="quoted">
The Upper Cave is above the Rock Pool. The Ledge is east of the Pool.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c571" -->
<a id="c571"></a><blockquote class="code"><p class="quoted">
The stream is a backdrop. It is in the Upper Cave and the Ledge.
</p></blockquote>
<!-- END CODE -->
<p>Moving backdrops is not like moving other things, because there's no single destination. There are several possibilities:</p>
<p>(a) A backdrop can be moved to a region. If we define:</p>
<!-- START CODE "c572" -->
<a id="c572"></a><blockquote class="code"><p class="quoted">
Lower Level is a region. The Rock Pool and the Ledge are in the Lower Level.
</p></blockquote>
<!-- END CODE -->
<p>then we can write either of</p>
<!-- START CODE "c573" -->
<a id="c573"></a><blockquote class="code"><p class="quoted">
move the stream to the Lower Level;
<br />now the stream is in the Lower Level;
</p></blockquote>
<!-- END CODE -->
<p>and either way, the stream is now found in the Rock Pool and the Ledge but nowhere else.</p>
<p>(b) A backdrop can be moved to a category of rooms:</p>
<!-- START PHRASE "defn75" -->
<div class="definition"><a id="defn75"></a><p class="defnprototype"><b>move </b>(object)<b> backdrop to all </b>(description of objects)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_movebackdrop -->

<p>This phrase moves the backdrop so that it is now present in every room matching the given description. Example: If we define</p>
<!-- START CODE "c574" -->
<a id="c574"></a><blockquote class="code"><p class="quoted">
A room can be wet or dry. A room is usually dry. The Rock Pool is wet.
</p></blockquote>
<!-- END CODE -->
<p>then we can write</p>
<!-- START CODE "c575" -->
<a id="c575"></a><blockquote class="code"><p class="quoted">
move the stream backdrop to all wet rooms;
</p></blockquote>
<!-- END CODE -->
<p>This phrasing, &quot;move the ... backdrop to all ...&quot; is deliberately meant to look unlike the simpler &quot;move ... to ...&quot;, to emphasise that this kind of movement is possible only for backdrops.</p>

<!-- end definition -->
</div>

<p>What then happens is that the stream is present in whichever rooms are currently wet. But the stream's position is ordinarily checked only after movements, for efficiency's sake. So if the player is in a room which suddenly changes from being dry to being wet, the stream will not magically appear (though it will be there if the player goes out and comes in again). If this is not good enough, the phrase &quot;update backdrop positions&quot; can be used to ensure the accuracy of all backdrop locations after a dramatic change:</p>
<!-- START PHRASE "defn76" -->
<div class="definition"><a id="defn76"></a><p class="defnprototype"><b>update backdrop positions</b></p>
<!-- END PHRASE -->
<!-- definition of ph_updatebackdrop -->

<p>This phrase runs through all backdrops in the model world and makes sure they are correctly in, or not in, the current location, so that everything appears right from the player's point of view. Example:</p>
<!-- START CODE "c576" -->
<a id="c576"></a><blockquote class="code"><p class="quoted">
The Upper Cave is above the Rock Pool. The Ledge is east of the Pool. The stream is a backdrop.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c577" -->
<a id="c577"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;move the stream backdrop to all wet rooms.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c578" -->
<a id="c578"></a><blockquote class="code"><p class="quoted">
A lever is in the Cave. The lever is fixed in place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c579" -->
<a id="c579"></a><blockquote class="code"><p class="quoted">
Instead of pulling the lever when the Cave is dry:
<br />&#160;&#160;&#160;&#160;now the Cave is wet;
<br />&#160;&#160;&#160;&#160;now the lever is in the Rock Pool;
<br />&#160;&#160;&#160;&#160;now the lever is portable;
<br />&#160;&#160;&#160;&#160;update backdrop positions;
<br />&#160;&#160;&#160;&#160;say &quot;The old rusty lever pulls away, and the thin cave wall goes with it, so that a stream bursts into the cave, falling to the pool below.&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>(c) A backdrop can be moved to be either everywhere or nowhere:</p>
<!-- START CODE "c580" -->
<a id="c580"></a><blockquote class="code"><p class="quoted">
After sleeping:
<br />&#160;&#160;&#160;&#160;say &quot;It's a bright new day!&quot;;
<br />&#160;&#160;&#160;&#160;now the stars are nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c581" -->
<a id="c581"></a><blockquote class="code"><p class="quoted">
After waiting:
<br />&#160;&#160;&#160;&#160;say &quot;Darkness falls rapidly here.&quot;;
<br />&#160;&#160;&#160;&#160;now the stars are everywhere.
</p></blockquote>
<!-- END CODE -->
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_8_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_8_1.html" class="standardlink">Start of Chapter 8: Change</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_8_7.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_8_7.html" class="standardlink">Back to ยง8.7. Moving things</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_8_9.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_8_9.html" class="standardlink">Onward to ยง8.9. Moving the player</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e275"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex275.html#e275" class="eglink"><b>120</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex275.html#e275" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Orange Cones</span></b></a><br />Creating a traffic backdrop that appears in all road rooms except the one in which the player has laid down orange cones.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex275.html#e275"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
