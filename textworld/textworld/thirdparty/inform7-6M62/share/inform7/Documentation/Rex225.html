<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.11. Mathematics</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">§10.11. Mathematics</p>
<p>It is uncommon, but not absolutely unheard-of, to need to do detailed mathematical calculations in interactive fiction.</p>
<p><span class="boldface">The Fibonacci Sequence</span> demonstrates the calculation of a series of numbers; <span class="boldface">Sieve of Eratosthenes</span> shows off how to calculate the prime numbers within a certain range.</p>
<p><span class="boldface">Number Study</span> demonstrates conditional relations between numbers.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_10.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_10_10.html" class="standardlink">Back to §10.10. Magic (Breaking the Laws of Physics)</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_11_1.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_11_1.html" class="standardlink">Onward to Chapter 11: Out Of World Actions and Effects: §11.1. Start-Up Features</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e402"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex402.html#e402" class="eglink"><b>240</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex402.html#e402" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Number Study</span></b></a><br />The parity and joint magnitude relations explored.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex402.html#e402"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e225"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_10_11.html#e225" class="eglink"><b>435</b></a></div>
<div class="egpanel" id="example225">
<p>In the words of Wikipedia: &quot;Eratosthenes of Cyrene (Greek Eρατοσθένης; 276 BC-194 BC) was a Greek mathematician, poet, athlete, geographer and astronomer.&quot; In the words of Tom Lehrer: &quot;It's people like that who make you realise how little you've achieved in life.&quot;</p>
<p>A prime number is a number greater than 1 which is not a multiple of anything, so we can find the primes by starting with all the numbers and sieving out all the multiples of 2, then all the multiples of 3, and so on. Here we make our sieve of the unacceptable numbers (the &quot;composite&quot; or non-prime ones) first, then form a list of all the numbers, then sieve out the composites: what are left must be the primes.</p>
<!-- START CODE "c30455" -->
<a id="c30455"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Sieve of Eratosthenes[=0x0022=][=0x000A=][=0x000A=]Alexandria is a room. Eratosthenes is a man in Alexandria. [=0x0022=]The haughty Greek mathematician, Eratosthenes, glowers at you.[=0x0022=][=0x000A=][=0x000A=]Sieving is an action applying to one number. Understand [=0x0022=]sieve [number][=0x0022=] as sieving.[=0x000A=][=0x000A=]Instead of sieving, say [=0x0022=]You make a feeble attempt, sketching in the sand, but it goes nowhere. Eratosthenes smirks. [=0x0027=]I expect your friends call you gamma, then?[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Persuasion rule for asking Eratosthenes to try sieving: persuasion succeeds.[=0x000A=][=0x000A=]Report Eratosthenes sieving:[=0x000A=][=0x0009=]let N be the number understood;[=0x000A=][=0x0009=]let the composites be a list of numbers;[=0x000A=][=0x0009=]let I be 2;[=0x000A=][=0x0009=]while I times I is at most N:[=0x000A=][=0x0009=][=0x0009=]if I is not listed in the composites:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let J be I times 2;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]while J is at most N:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]add J to the composites, if absent;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]increase J by I;[=0x000A=][=0x0009=][=0x0009=]increment I;[=0x000A=][=0x0009=]sort the composites;[=0x000A=][=0x0009=]let the primes be a list of numbers;[=0x000A=][=0x0009=]repeat with P running from 2 to N:[=0x000A=][=0x0009=][=0x0009=]add P to the primes;[=0x000A=][=0x0009=]remove the composites from the primes;[=0x000A=][=0x0009=]say [=0x0022=]Eratosthenes sketches lines in the sand with the air of much practice. [=0x0027=]The primes up to [N] are [the primes]. The composites are [the composites].[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]sieve 10 / eratosthenes, sieve 100[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Sieve of Eratosthenes&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30456" -->
<a id="c30456"></a><blockquote class="code"><p class="quoted">
Alexandria is a room. Eratosthenes is a man in Alexandria. &quot;The haughty Greek mathematician, Eratosthenes, glowers at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30457" -->
<a id="c30457"></a><blockquote class="code"><p class="quoted">
Sieving is an action applying to one number. Understand &quot;sieve [number]&quot; as sieving.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30458" -->
<a id="c30458"></a><blockquote class="code"><p class="quoted">
Instead of sieving, say &quot;You make a feeble attempt, sketching in the sand, but it goes nowhere. Eratosthenes smirks. 'I expect your friends call you gamma, then?'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30459" -->
<a id="c30459"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Eratosthenes to try sieving: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30460" -->
<a id="c30460"></a><blockquote class="code"><p class="quoted">
Report Eratosthenes sieving:
<br />&#160;&#160;&#160;&#160;let N be the number understood;
<br />&#160;&#160;&#160;&#160;let the composites be a list of numbers;
<br />&#160;&#160;&#160;&#160;let I be 2;
<br />&#160;&#160;&#160;&#160;while I times I is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if I is not listed in the composites:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let J be I times 2;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while J is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add J to the composites, if absent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase J by I;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment I;
<br />&#160;&#160;&#160;&#160;sort the composites;
<br />&#160;&#160;&#160;&#160;let the primes be a list of numbers;
<br />&#160;&#160;&#160;&#160;repeat with P running from 2 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add P to the primes;
<br />&#160;&#160;&#160;&#160;remove the composites from the primes;
<br />&#160;&#160;&#160;&#160;say &quot;Eratosthenes sketches lines in the sand with the air of much practice. 'The primes up to [N] are [the primes]. The composites are [the composites].'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30461" -->
<a id="c30461"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sieve 10 / eratosthenes, sieve 100&quot;.
</p></blockquote>
<!-- END CODE -->
<p>While this could all be done more efficiently with an array, that's only because what we are sieving are numbers: sieving is a technique which can be used for non-numerical decisions, too.</p>
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10_11.html#e225" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Sieve of Eratosthenes</span></b></a><br />The haughty Eratosthenes of Cyrene will nevertheless consent to sieve prime numbers on request.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example225">
<p>In the words of Wikipedia: &quot;Eratosthenes of Cyrene (Greek Eρατοσθένης; 276 BC-194 BC) was a Greek mathematician, poet, athlete, geographer and astronomer.&quot; In the words of Tom Lehrer: &quot;It's people like that who make you realise how little you've achieved in life.&quot;</p>
<p>A prime number is a number greater than 1 which is not a multiple of anything, so we can find the primes by starting with all the numbers and sieving out all the multiples of 2, then all the multiples of 3, and so on. Here we make our sieve of the unacceptable numbers (the &quot;composite&quot; or non-prime ones) first, then form a list of all the numbers, then sieve out the composites: what are left must be the primes.</p>
<!-- START CODE "c30462" -->
<a id="c30462"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Sieve of Eratosthenes[=0x0022=][=0x000A=][=0x000A=]Alexandria is a room. Eratosthenes is a man in Alexandria. [=0x0022=]The haughty Greek mathematician, Eratosthenes, glowers at you.[=0x0022=][=0x000A=][=0x000A=]Sieving is an action applying to one number. Understand [=0x0022=]sieve [number][=0x0022=] as sieving.[=0x000A=][=0x000A=]Instead of sieving, say [=0x0022=]You make a feeble attempt, sketching in the sand, but it goes nowhere. Eratosthenes smirks. [=0x0027=]I expect your friends call you gamma, then?[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Persuasion rule for asking Eratosthenes to try sieving: persuasion succeeds.[=0x000A=][=0x000A=]Report Eratosthenes sieving:[=0x000A=][=0x0009=]let N be the number understood;[=0x000A=][=0x0009=]let the composites be a list of numbers;[=0x000A=][=0x0009=]let I be 2;[=0x000A=][=0x0009=]while I times I is at most N:[=0x000A=][=0x0009=][=0x0009=]if I is not listed in the composites:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]let J be I times 2;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]while J is at most N:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]add J to the composites, if absent;[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]increase J by I;[=0x000A=][=0x0009=][=0x0009=]increment I;[=0x000A=][=0x0009=]sort the composites;[=0x000A=][=0x0009=]let the primes be a list of numbers;[=0x000A=][=0x0009=]repeat with P running from 2 to N:[=0x000A=][=0x0009=][=0x0009=]add P to the primes;[=0x000A=][=0x0009=]remove the composites from the primes;[=0x000A=][=0x0009=]say [=0x0022=]Eratosthenes sketches lines in the sand with the air of much practice. [=0x0027=]The primes up to [N] are [the primes]. The composites are [the composites].[=0x0027=][=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]sieve 10 / eratosthenes, sieve 100[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Sieve of Eratosthenes&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30463" -->
<a id="c30463"></a><blockquote class="code"><p class="quoted">
Alexandria is a room. Eratosthenes is a man in Alexandria. &quot;The haughty Greek mathematician, Eratosthenes, glowers at you.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30464" -->
<a id="c30464"></a><blockquote class="code"><p class="quoted">
Sieving is an action applying to one number. Understand &quot;sieve [number]&quot; as sieving.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30465" -->
<a id="c30465"></a><blockquote class="code"><p class="quoted">
Instead of sieving, say &quot;You make a feeble attempt, sketching in the sand, but it goes nowhere. Eratosthenes smirks. 'I expect your friends call you gamma, then?'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30466" -->
<a id="c30466"></a><blockquote class="code"><p class="quoted">
Persuasion rule for asking Eratosthenes to try sieving: persuasion succeeds.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30467" -->
<a id="c30467"></a><blockquote class="code"><p class="quoted">
Report Eratosthenes sieving:
<br />&#160;&#160;&#160;&#160;let N be the number understood;
<br />&#160;&#160;&#160;&#160;let the composites be a list of numbers;
<br />&#160;&#160;&#160;&#160;let I be 2;
<br />&#160;&#160;&#160;&#160;while I times I is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if I is not listed in the composites:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let J be I times 2;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while J is at most N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add J to the composites, if absent;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increase J by I;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;increment I;
<br />&#160;&#160;&#160;&#160;sort the composites;
<br />&#160;&#160;&#160;&#160;let the primes be a list of numbers;
<br />&#160;&#160;&#160;&#160;repeat with P running from 2 to N:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;add P to the primes;
<br />&#160;&#160;&#160;&#160;remove the composites from the primes;
<br />&#160;&#160;&#160;&#160;say &quot;Eratosthenes sketches lines in the sand with the air of much practice. 'The primes up to [N] are [the primes]. The composites are [the composites].'&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30468" -->
<a id="c30468"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sieve 10 / eratosthenes, sieve 100&quot;.
</p></blockquote>
<!-- END CODE -->
<p>While this could all be done more efficiently with an array, that's only because what we are sieving are numbers: sieving is a technique which can be used for non-numerical decisions, too.</p>
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex225.html#e225"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e255"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex255.html#e255" class="eglink"><b>436</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex255.html#e255" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">The Fibonacci Sequence</span></b></a><br />The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex255.html#e255"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
