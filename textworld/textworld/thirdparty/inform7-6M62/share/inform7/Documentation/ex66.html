<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>12.18. Changing reachability</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง12.18. Changing reachability</p>
<p>The question of what the player can, and cannot, reach to touch is important in interactive fiction. It contains some of the subtlest ideas in the model world, though they often go unnoticed. For instance, if a key is on a shelf which is part of a closed box, can we reach for the key? This comes down to whether the shelf, described only as &quot;part of&quot; the box, is on the inside or the outside: and in fact, because it cannot know which is the case, Inform allows either. So in general it is best to regard &quot;parts&quot; as being exterior parts, but to avoid having parts on containers that might in the course of play be closed up with the player inside.</p>
<p>We can, if we wish, change the principles of what can be touched by writing new reaching inside or reaching outside rules. Returning to the example of the conical flask:</p>
<!-- START CODE "c907" -->
<a id="c907"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the flask: say &quot;Your hand passes through the glass as if it were not there, chilling you to the bone.&quot;; allow access.
</p></blockquote>
<!-- END CODE -->
<p>(Or this could equally be called &quot;a reaching inside rule for the flask&quot;.) More generally, we could give the usual flexible description of what the rule applies to:</p>
<!-- START CODE "c908" -->
<a id="c908"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside open containers: say &quot;Your hands seem enigmatically too large for [the container in question].&quot;; deny access.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;container in question&quot; is the one to which the rule is being applied. Note that a reaching inside rule can &quot;deny access&quot; (stopping with failure), or &quot;allow access&quot; (stopping with success), or neither, in which case the decision is left up to any subsequent rules in the rulebook to make. If none of them decide, access is allowed.</p>
<p>If it seems possible that these rules will be employed by people other than the player, then we need to write them a little more carefully, and in particular we need to ensure that they print nothing for other people. In the first case below, anybody can reach through the glass; in the second case, only the player cannot reach into open containers.</p>
<!-- START CODE "c909" -->
<a id="c909"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside the flask:
<br />&#160;&#160;&#160;&#160;if the person reaching is the player, say &quot;Your hand passes through the glass as if it were not there, chilling you to the bone.&quot;;
<br />&#160;&#160;&#160;&#160;allow access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c910" -->
<a id="c910"></a><blockquote class="code"><p class="quoted">
A rule for reaching inside open containers:
<br />&#160;&#160;&#160;&#160;if the person reaching is the player:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Your hands seem enigmatically too large for [the container in question].&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>The &quot;person reaching&quot; is, as its name suggests, the person trying to reach through the barrier in question.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_12_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_12_1.html" class="standardlink">Start of Chapter 12: Advanced Actions</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12_17.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_12_17.html" class="standardlink">Back to ยง12.17. Visible vs touchable vs carried</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_12_19.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_12_19.html" class="standardlink">Onward to ยง12.19. Changing visibility</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e160"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex160.html#e160" class="eglink"><b>215</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex160.html#e160" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Waterworld</span></b></a><br />A backdrop which the player can examine, but cannot interact with in any other way.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex160.html#e160"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e435"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex435.html#e435" class="eglink"><b>216</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex435.html#e435" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Magneto's Revenge</span></b></a><br />Kitty Pryde of the X-Men is able to reach through solid objects, so we might implement her with special powers that the player does not have...</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex435.html#e435"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e66"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_12_18.html#e66" class="eglink"><b>217</b></a></div>
<div class="egpanel" id="example66">
<!-- START CODE "c5428" -->
<a id="c5428"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Dinner is Served[=0x0022=][=0x000A=][=0x000A=]Street in Kolonaki is a room. [=0x0022=]There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.[=0x0022=][=0x000A=][=0x000A=]The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is [=0x0022=]They[=0x0027=]d be called french fries, at home, but these are steak-cut and fried in olive oil.[=0x0022=] The description of the gyro is [=0x0022=]Dripping garlic-yogurt sauce.[=0x0022=][=0x000A=][=0x000A=]Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.[=0x000A=][=0x000A=][Here[=0x0027=]s the part that allows reaching through the window.][=0x000A=][=0x000A=][We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren[=0x0027=]t, we return the usual refusal. If we are, we return a custom refusal if the window is closed ([=0x0022=]You can[=0x0027=]t reach through the closed window[=0x0022=]), but allow access if the window is open.][=0x000A=][=0x000A=]The can[=0x0027=]t reach through closed window rule is listed instead of the can[=0x0027=]t reach inside rooms rule in the reaching inside rules.[=0x000A=][=0x000A=]This is the can[=0x0027=]t reach through closed window rule:[=0x000A=][=0x0009=]let reaching through the window be false;[=0x000A=][=0x0009=]if the container in question is a room and the container in question is not the location:[=0x000A=][=0x0009=][=0x0009=]if the container in question is the Street and the location is the Olive Tree Gyro Shop:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now reaching through the window is true;[=0x000A=][=0x0009=][=0x0009=]if the container in question is the Gyro Shop and the location is the Street:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now reaching through the window is true;[=0x000A=][=0x0009=][=0x0009=]if reaching through the window is true:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the window is closed:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach through the closed window.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]deny access;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]allow access;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach into [the container in question] from here.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]deny access.[=0x000A=][=0x000A=][And the rest is window-dressing.][=0x000A=][=0x000A=]After looking when a room (called the next room) is adjacent:[=0x000A=][=0x0009=]try examining the next room.[=0x000A=][=0x000A=]Instead of examining a supporter, say [=0x0022=]On [the noun] [is-are a list of things on the noun].[=0x0022=] Instead of examining an open container, say [=0x0022=]In [the noun] [is-are a list of things in the noun].[=0x0022=][=0x000A=][=0x000A=]The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.[=0x000A=][=0x000A=]Understand [=0x0022=]examine [any adjacent room][=0x0022=] as examining.[=0x000A=][=0x000A=]Instead of examining a room:[=0x000A=][=0x0009=]say [=0x0022=]Over in [the noun], you can see [a list of visible things in the noun].[=0x0022=][=0x000A=][=0x000A=]After deciding the scope of the player:[=0x000A=][=0x0009=]if the player is in the Street, place the Shop in scope;[=0x000A=][=0x0009=]if the player is in the Shop, place the Street in scope.[=0x000A=][=0x000A=]Test me with [=0x0022=]examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Dinner is Served&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5429" -->
<a id="c5429"></a><blockquote class="code"><p class="quoted">
Street in Kolonaki is a room. &quot;There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5430" -->
<a id="c5430"></a><blockquote class="code"><p class="quoted">
The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is &quot;They'd be called french fries, at home, but these are steak-cut and fried in olive oil.&quot; The description of the gyro is &quot;Dripping garlic-yogurt sauce.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5431" -->
<a id="c5431"></a><blockquote class="code"><p class="quoted">
Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.
</p></blockquote>
<!-- END CODE -->
<p>Here's the part that allows reaching through the window.</p>
<p>We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren't, we return the usual refusal. If we are, we return a custom refusal if the window is closed (&quot;You can't reach through the closed window&quot;), but allow access if the window is open.</p>
<!-- START CODE "c5432" -->
<a id="c5432"></a><blockquote class="code"><p class="quoted">
The can't reach through closed window rule is listed instead of the can't reach inside rooms rule in the reaching inside rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5433" -->
<a id="c5433"></a><blockquote class="code"><p class="quoted">
This is the can't reach through closed window rule:
<br />&#160;&#160;&#160;&#160;let reaching through the window be false;
<br />&#160;&#160;&#160;&#160;if the container in question is a room and the container in question is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Street and the location is the Olive Tree Gyro Shop:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Gyro Shop and the location is the Street:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if reaching through the window is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the window is closed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach through the closed window.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allow access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach into [the container in question] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>And the rest is window-dressing.</p>
<!-- START CODE "c5434" -->
<a id="c5434"></a><blockquote class="code"><p class="quoted">
After looking when a room (called the next room) is adjacent:
<br />&#160;&#160;&#160;&#160;try examining the next room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5435" -->
<a id="c5435"></a><blockquote class="code"><p class="quoted">
Instead of examining a supporter, say &quot;On [the noun] [is-are a list of things on the noun].&quot; Instead of examining an open container, say &quot;In [the noun] [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5436" -->
<a id="c5436"></a><blockquote class="code"><p class="quoted">
The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5437" -->
<a id="c5437"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [any adjacent room]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5438" -->
<a id="c5438"></a><blockquote class="code"><p class="quoted">
Instead of examining a room:
<br />&#160;&#160;&#160;&#160;say &quot;Over in [the noun], you can see [a list of visible things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5439" -->
<a id="c5439"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if the player is in the Street, place the Shop in scope;
<br />&#160;&#160;&#160;&#160;if the player is in the Shop, place the Street in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5440" -->
<a id="c5440"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_12_18.html#e66" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Dinner is Served</span></b></a><br />A window between two locations. When the window is open, the player can reach through into the other location; when it isn't, access is barred.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example66">
<!-- START CODE "c5441" -->
<a id="c5441"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Dinner is Served[=0x0022=][=0x000A=][=0x000A=]Street in Kolonaki is a room. [=0x0022=]There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.[=0x0022=][=0x000A=][=0x000A=]The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is [=0x0022=]They[=0x0027=]d be called french fries, at home, but these are steak-cut and fried in olive oil.[=0x0022=] The description of the gyro is [=0x0022=]Dripping garlic-yogurt sauce.[=0x0022=][=0x000A=][=0x000A=]Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.[=0x000A=][=0x000A=][Here[=0x0027=]s the part that allows reaching through the window.][=0x000A=][=0x000A=][We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren[=0x0027=]t, we return the usual refusal. If we are, we return a custom refusal if the window is closed ([=0x0022=]You can[=0x0027=]t reach through the closed window[=0x0022=]), but allow access if the window is open.][=0x000A=][=0x000A=]The can[=0x0027=]t reach through closed window rule is listed instead of the can[=0x0027=]t reach inside rooms rule in the reaching inside rules.[=0x000A=][=0x000A=]This is the can[=0x0027=]t reach through closed window rule:[=0x000A=][=0x0009=]let reaching through the window be false;[=0x000A=][=0x0009=]if the container in question is a room and the container in question is not the location:[=0x000A=][=0x0009=][=0x0009=]if the container in question is the Street and the location is the Olive Tree Gyro Shop:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now reaching through the window is true;[=0x000A=][=0x0009=][=0x0009=]if the container in question is the Gyro Shop and the location is the Street:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now reaching through the window is true;[=0x000A=][=0x0009=][=0x0009=]if reaching through the window is true:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the window is closed:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach through the closed window.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]deny access;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]allow access;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach into [the container in question] from here.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]deny access.[=0x000A=][=0x000A=][And the rest is window-dressing.][=0x000A=][=0x000A=]After looking when a room (called the next room) is adjacent:[=0x000A=][=0x0009=]try examining the next room.[=0x000A=][=0x000A=]Instead of examining a supporter, say [=0x0022=]On [the noun] [is-are a list of things on the noun].[=0x0022=] Instead of examining an open container, say [=0x0022=]In [the noun] [is-are a list of things in the noun].[=0x0022=][=0x000A=][=0x000A=]The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.[=0x000A=][=0x000A=]Understand [=0x0022=]examine [any adjacent room][=0x0022=] as examining.[=0x000A=][=0x000A=]Instead of examining a room:[=0x000A=][=0x0009=]say [=0x0022=]Over in [the noun], you can see [a list of visible things in the noun].[=0x0022=][=0x000A=][=0x000A=]After deciding the scope of the player:[=0x000A=][=0x0009=]if the player is in the Street, place the Shop in scope;[=0x000A=][=0x0009=]if the player is in the Shop, place the Street in scope.[=0x000A=][=0x000A=]Test me with [=0x0022=]examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Dinner is Served&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5442" -->
<a id="c5442"></a><blockquote class="code"><p class="quoted">
Street in Kolonaki is a room. &quot;There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5443" -->
<a id="c5443"></a><blockquote class="code"><p class="quoted">
The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is &quot;They'd be called french fries, at home, but these are steak-cut and fried in olive oil.&quot; The description of the gyro is &quot;Dripping garlic-yogurt sauce.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5444" -->
<a id="c5444"></a><blockquote class="code"><p class="quoted">
Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.
</p></blockquote>
<!-- END CODE -->
<p>Here's the part that allows reaching through the window.</p>
<p>We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren't, we return the usual refusal. If we are, we return a custom refusal if the window is closed (&quot;You can't reach through the closed window&quot;), but allow access if the window is open.</p>
<!-- START CODE "c5445" -->
<a id="c5445"></a><blockquote class="code"><p class="quoted">
The can't reach through closed window rule is listed instead of the can't reach inside rooms rule in the reaching inside rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5446" -->
<a id="c5446"></a><blockquote class="code"><p class="quoted">
This is the can't reach through closed window rule:
<br />&#160;&#160;&#160;&#160;let reaching through the window be false;
<br />&#160;&#160;&#160;&#160;if the container in question is a room and the container in question is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Street and the location is the Olive Tree Gyro Shop:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Gyro Shop and the location is the Street:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if reaching through the window is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the window is closed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach through the closed window.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allow access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach into [the container in question] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>And the rest is window-dressing.</p>
<!-- START CODE "c5447" -->
<a id="c5447"></a><blockquote class="code"><p class="quoted">
After looking when a room (called the next room) is adjacent:
<br />&#160;&#160;&#160;&#160;try examining the next room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5448" -->
<a id="c5448"></a><blockquote class="code"><p class="quoted">
Instead of examining a supporter, say &quot;On [the noun] [is-are a list of things on the noun].&quot; Instead of examining an open container, say &quot;In [the noun] [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5449" -->
<a id="c5449"></a><blockquote class="code"><p class="quoted">
The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5450" -->
<a id="c5450"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [any adjacent room]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5451" -->
<a id="c5451"></a><blockquote class="code"><p class="quoted">
Instead of examining a room:
<br />&#160;&#160;&#160;&#160;say &quot;Over in [the noun], you can see [a list of visible things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5452" -->
<a id="c5452"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if the player is in the Street, place the Shop in scope;
<br />&#160;&#160;&#160;&#160;if the player is in the Shop, place the Street in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5453" -->
<a id="c5453"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex66.html#e66"><i>RB</i></a></div>
<div class="egpanel" id="example66">
<!-- START CODE "c5454" -->
<a id="c5454"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Dinner is Served[=0x0022=][=0x000A=][=0x000A=]Street in Kolonaki is a room. [=0x0022=]There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.[=0x0022=][=0x000A=][=0x000A=]The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is [=0x0022=]They[=0x0027=]d be called french fries, at home, but these are steak-cut and fried in olive oil.[=0x0022=] The description of the gyro is [=0x0022=]Dripping garlic-yogurt sauce.[=0x0022=][=0x000A=][=0x000A=]Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.[=0x000A=][=0x000A=][Here[=0x0027=]s the part that allows reaching through the window.][=0x000A=][=0x000A=][We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren[=0x0027=]t, we return the usual refusal. If we are, we return a custom refusal if the window is closed ([=0x0022=]You can[=0x0027=]t reach through the closed window[=0x0022=]), but allow access if the window is open.][=0x000A=][=0x000A=]The can[=0x0027=]t reach through closed window rule is listed instead of the can[=0x0027=]t reach inside rooms rule in the reaching inside rules.[=0x000A=][=0x000A=]This is the can[=0x0027=]t reach through closed window rule:[=0x000A=][=0x0009=]let reaching through the window be false;[=0x000A=][=0x0009=]if the container in question is a room and the container in question is not the location:[=0x000A=][=0x0009=][=0x0009=]if the container in question is the Street and the location is the Olive Tree Gyro Shop:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now reaching through the window is true;[=0x000A=][=0x0009=][=0x0009=]if the container in question is the Gyro Shop and the location is the Street:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now reaching through the window is true;[=0x000A=][=0x0009=][=0x0009=]if reaching through the window is true:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the window is closed:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach through the closed window.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]deny access;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=][=0x0009=]allow access;[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t reach into [the container in question] from here.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]deny access.[=0x000A=][=0x000A=][And the rest is window-dressing.][=0x000A=][=0x000A=]After looking when a room (called the next room) is adjacent:[=0x000A=][=0x0009=]try examining the next room.[=0x000A=][=0x000A=]Instead of examining a supporter, say [=0x0022=]On [the noun] [is-are a list of things on the noun].[=0x0022=] Instead of examining an open container, say [=0x0022=]In [the noun] [is-are a list of things in the noun].[=0x0022=][=0x000A=][=0x000A=]The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.[=0x000A=][=0x000A=]Understand [=0x0022=]examine [any adjacent room][=0x0022=] as examining.[=0x000A=][=0x000A=]Instead of examining a room:[=0x000A=][=0x0009=]say [=0x0022=]Over in [the noun], you can see [a list of visible things in the noun].[=0x0022=][=0x000A=][=0x000A=]After deciding the scope of the player:[=0x000A=][=0x0009=]if the player is in the Street, place the Shop in scope;[=0x000A=][=0x0009=]if the player is in the Shop, place the Street in scope.[=0x000A=][=0x000A=]Test me with [=0x0022=]examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Dinner is Served&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5455" -->
<a id="c5455"></a><blockquote class="code"><p class="quoted">
Street in Kolonaki is a room. &quot;There is a single round table out on the street here, and a window more or less at knee level looks down into the Olive Tree Gyro Shop, which is partly basement.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5456" -->
<a id="c5456"></a><blockquote class="code"><p class="quoted">
The Street contains a round table. The table is scenery. On the round table is a plate. On the plate are a gyro and a mound of fresh potates. The plate is portable. The potates and the gyro are edible. The description of potates is &quot;They'd be called french fries, at home, but these are steak-cut and fried in olive oil.&quot; The description of the gyro is &quot;Dripping garlic-yogurt sauce.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5457" -->
<a id="c5457"></a><blockquote class="code"><p class="quoted">
Olive Tree Gyro Shop is inside from Street in Kolonaki. Kostis is a man in the Gyro Shop. In the Shop is a stand. On the stand is a rotating column of cooking lamb flesh. In the shop is a closed, openable container called a drinks refrigerator. The refrigerator contains a can of Mythos beer and a can of Coke Light.
</p></blockquote>
<!-- END CODE -->
<p>Here's the part that allows reaching through the window.</p>
<p>We replace the usual rule that says the player can never reach into a room with one that more specifically checks whether we are trying to reach through the window. If we aren't, we return the usual refusal. If we are, we return a custom refusal if the window is closed (&quot;You can't reach through the closed window&quot;), but allow access if the window is open.</p>
<!-- START CODE "c5458" -->
<a id="c5458"></a><blockquote class="code"><p class="quoted">
The can't reach through closed window rule is listed instead of the can't reach inside rooms rule in the reaching inside rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5459" -->
<a id="c5459"></a><blockquote class="code"><p class="quoted">
This is the can't reach through closed window rule:
<br />&#160;&#160;&#160;&#160;let reaching through the window be false;
<br />&#160;&#160;&#160;&#160;if the container in question is a room and the container in question is not the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Street and the location is the Olive Tree Gyro Shop:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the container in question is the Gyro Shop and the location is the Street:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now reaching through the window is true;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if reaching through the window is true:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the window is closed:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach through the closed window.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;allow access;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't reach into [the container in question] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access.
</p></blockquote>
<!-- END CODE -->
<p>And the rest is window-dressing.</p>
<!-- START CODE "c5460" -->
<a id="c5460"></a><blockquote class="code"><p class="quoted">
After looking when a room (called the next room) is adjacent:
<br />&#160;&#160;&#160;&#160;try examining the next room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5461" -->
<a id="c5461"></a><blockquote class="code"><p class="quoted">
Instead of examining a supporter, say &quot;On [the noun] [is-are a list of things on the noun].&quot; Instead of examining an open container, say &quot;In [the noun] [is-are a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5462" -->
<a id="c5462"></a><blockquote class="code"><p class="quoted">
The window is a backdrop. It is in the Street and the Shop. The window can be openable. The window can be open. The window is openable and closed. Instead of searching the window in the Street: try examining the shop. Instead of searching the window in the Shop: try examining the street.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5463" -->
<a id="c5463"></a><blockquote class="code"><p class="quoted">
Understand &quot;examine [any adjacent room]&quot; as examining.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5464" -->
<a id="c5464"></a><blockquote class="code"><p class="quoted">
Instead of examining a room:
<br />&#160;&#160;&#160;&#160;say &quot;Over in [the noun], you can see [a list of visible things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5465" -->
<a id="c5465"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player:
<br />&#160;&#160;&#160;&#160;if the player is in the Street, place the Shop in scope;
<br />&#160;&#160;&#160;&#160;if the player is in the Shop, place the Street in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c5466" -->
<a id="c5466"></a><blockquote class="code"><p class="quoted">
Test me with &quot;examine shop / open refrigerator / open window / examine shop / open refrigerator / get beer / in / examine street / out / get gyro / close window / put gyro in refrigerator / open window / put gyro in refrigerator&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
