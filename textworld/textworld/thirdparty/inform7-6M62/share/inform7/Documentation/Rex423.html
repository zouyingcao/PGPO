<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>9.4. Money</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง9.4. Money</p>
<p>Money could be anything which the two people in a bargain both agree is valuable. Here, the player and an ogre agree on a copper coin as money:</p>
<!-- START CODE "c23724" -->
<a id="c23724"></a><blockquote class="code"><p class="quoted">
The player carries a copper coin. The ogre carries a rock cake. The cake is edible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c23725" -->
<a id="c23725"></a><blockquote class="code"><p class="quoted">
Instead of giving the coin to the ogre:
<br />&#160;&#160;&#160;&#160;now the ogre carries the coin;
<br />&#160;&#160;&#160;&#160;now the player carries the cake;
<br />&#160;&#160;&#160;&#160;say &quot;The ogre grunts and hands you a rock cake.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now Inform does provide an action, &quot;buying&quot;, and a command for it, BUY, but they ordinarily respond simply &quot;Nothing is on sale.&quot; This is no longer true, so we should make BUY CAKE work. The difficulty here is that a command like BUY CAKE does not specify what should be handed over in exchange. Here we just check that the player has the coin, but in principle we could check for any of a range of monetary tokens - coins, notes, cheque book, debit card, and so on.</p>
<!-- START CODE "c23726" -->
<a id="c23726"></a><blockquote class="code"><p class="quoted">
Instead of buying the cake:
<br />&#160;&#160;&#160;&#160;if the player has the coin, try giving the coin to the ogre;
<br />&#160;&#160;&#160;&#160;otherwise say &quot;You have no money.&quot;
</p></blockquote>
<!-- END CODE -->
<p>In more advanced economies, where shopping replaces barter, the seller will stock a wide range of differently priced goods. For a tabulated catalogue of wares, see <span class="boldface">Introduction to Juggling</span>: to allow the player to negotiate prices, see <span class="boldface">Money for Nothing</span>. In both of those examples, the player's current financial worth is simulated only as a current total amount of money carried - say, $2.50. This is typical, because in most situations what matters is how much money is in the pocket, not how it is made up. Money behaves more like a liquid than a set of items: hence terms like &quot;liquidity&quot;, &quot;cash flow&quot; or <span class="boldface">Frozen Assets</span> - the name of the simplest example demonstrating this. If we really need a comprehensive simulation down to pieces of currency - where it makes a difference carrying four quarters rather than a dollar bill, because the quarters can be fed into a vending machine - see <span class="boldface">Nickel and Dimed</span>.</p>
<p><span class="boldface">Fabrication</span> takes the problem in a different direction, making calculations about the cost of a new garment based on the price of the pattern, the quantity of fabric required, and the value of the fabric type chosen -- showing off what we can do with unit multiplication in Inform.</p>
<p><span class="boldface">Widget Enterprises</span> explores the challenge of pricing widgets for maximum profit, given certain necessary costs and customers with varying willingness to pay.</p>
<p class="crossreference"><a href="RB_6_15.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Actions on Multiple Objects</b></a><i> for an implementation of giving that allows the player to offer multiple objects at once, where their combined value determines whether they are accepted</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_9_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_9_1.html" class="standardlink">Start of Chapter 9: Props: Food, Clothing, Money, Toys, Books, Electronics</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9_3.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_9_3.html" class="standardlink">Back to ยง9.3. Clothing</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_9_5.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_9_5.html" class="standardlink">Onward to ยง9.5. Dice and Playing Cards</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e381"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex381.html#e381" class="eglink"><b>263</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex381.html#e381" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Widget Enterprises</span></b></a><br />Allowing the player to set a price for a widget on sale, then determining the resulting sales based on consumer demand, and the resulting profit and loss.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex381.html#e381"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e335"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex335.html#e335" class="eglink"><b>264</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex335.html#e335" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frozen Assets</span></b></a><br />A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex335.html#e335"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e423"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_9_4.html#e423" class="eglink"><b>265</b></a></div>
<div class="egpanel" id="example423">
<!-- START CODE "c37199" -->
<a id="c37199"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Money for Nothing[=0x0022=][=0x000A=][=0x000A=]Section 1 - Prices and Bargaining[=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).[=0x000A=][=0x000A=]A person has a price called wealth. The wealth of the player is $15.[=0x000A=][=0x000A=]A thing has a price called minimum value. The minimum value of a thing is usually $0.50.[=0x000A=][=0x000A=]A thing has a price called desired value. The desired value of a thing is usually $5.00.[=0x000A=][=0x000A=]Offering it for is an action applying to one price and one visible thing.[=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] for [something][=0x0022=] as offering it for.[=0x000A=][=0x000A=]After taking inventory, say [=0x0022=]You have [the wealth of the player].[=0x0022=][=0x000A=][=0x000A=]Check offering it for:[=0x000A=][=0x0009=]if the price understood is greater than the wealth of the player, say [=0x0022=]You don[=0x0027=]t have that kind of cash.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not carried by someone, say [=0x0022=]There[=0x0027=]s no one in a position to sell you [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is carried by the player, say [=0x0022=][The second noun] is already yours.[=0x0022=] instead;[=0x000A=][=0x0009=]if the minimum value of the second noun is greater than the price understood, say [=0x0022=][The holder of the second noun] cackles disdainfully. [=0x0027=]If yer just here to insult me you can take your business elsewhere![=0x0027=] he says.[=0x0022=] instead;[=0x000A=][=0x0009=]if the desired value of the second noun is greater than the price understood:[=0x000A=][=0x0009=][=0x0009=]let difference be the desired value of the second noun minus the price understood;[=0x000A=][=0x0009=][=0x0009=]let difference be difference divided by two;[=0x000A=][=0x0009=][=0x0009=]decrease the desired value of the second noun by difference;[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the second noun;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]How about [desired value of the second noun]?[=0x0027=] suggests [the holder of the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]unless the desired value of the second noun is the price understood:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]From the avaricious gleam in the eye of [the holder of the second noun], you guess you could[=0x0027=]ve gotten this purchase for less...[=0x0022=][=0x000A=][=0x000A=]Carry out offering it for:[=0x000A=][=0x0009=]increase the wealth of the holder of the second noun by the price understood;[=0x000A=][=0x0009=]decrease the wealth of the player by the price understood;[=0x000A=][=0x0009=]move the second noun to the player.[=0x000A=][=0x000A=]Report offering it for:[=0x000A=][=0x0009=]say [=0x0022=]You spend [the price understood], and now you possess [the second noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: now right hand status line is [=0x0022=]Your funds: [wealth of the player][=0x0022=].[=0x000A=][=0x000A=][Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:][=0x000A=][=0x000A=]The last object offered is a thing that varies.[=0x000A=][=0x000A=]Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the price understood is the desired value of the last object offered;[=0x000A=][=0x0009=][=0x0009=]try offering the desired value of the last object offered for the last object offered.[=0x000A=][=0x000A=]Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You reject the offer firmly.[=0x0022=][=0x000A=][=0x000A=][And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:][=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] to [someone][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]). Understand [=0x0022=]offer [someone] [price][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]buy [something][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Flea Market is a room. The crotchety man is a man in the Market. [=0x0022=]A crotchety man here is selling [the list of things carried by the crotchety man].[=0x0022=] The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.[=0x000A=][=0x000A=]The minimum value of the brooch is $2.50.[=0x000A=][=0x000A=]Test me with [=0x0022=]offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37200" -->
<a id="c37200"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37201" -->
<a id="c37201"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37202" -->
<a id="c37202"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37203" -->
<a id="c37203"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37204" -->
<a id="c37204"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37205" -->
<a id="c37205"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37206" -->
<a id="c37206"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37207" -->
<a id="c37207"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37208" -->
<a id="c37208"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37209" -->
<a id="c37209"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37210" -->
<a id="c37210"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37211" -->
<a id="c37211"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c37212" -->
<a id="c37212"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37213" -->
<a id="c37213"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37214" -->
<a id="c37214"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c37215" -->
<a id="c37215"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37216" -->
<a id="c37216"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37217" -->
<a id="c37217"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37218" -->
<a id="c37218"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37219" -->
<a id="c37219"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37220" -->
<a id="c37220"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_9_4.html#e423" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Money for Nothing</span></b></a><br />An OFFER price FOR command, allowing the player to bargain with a flexible seller.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example423">
<!-- START CODE "c37221" -->
<a id="c37221"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Money for Nothing[=0x0022=][=0x000A=][=0x000A=]Section 1 - Prices and Bargaining[=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).[=0x000A=][=0x000A=]A person has a price called wealth. The wealth of the player is $15.[=0x000A=][=0x000A=]A thing has a price called minimum value. The minimum value of a thing is usually $0.50.[=0x000A=][=0x000A=]A thing has a price called desired value. The desired value of a thing is usually $5.00.[=0x000A=][=0x000A=]Offering it for is an action applying to one price and one visible thing.[=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] for [something][=0x0022=] as offering it for.[=0x000A=][=0x000A=]After taking inventory, say [=0x0022=]You have [the wealth of the player].[=0x0022=][=0x000A=][=0x000A=]Check offering it for:[=0x000A=][=0x0009=]if the price understood is greater than the wealth of the player, say [=0x0022=]You don[=0x0027=]t have that kind of cash.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not carried by someone, say [=0x0022=]There[=0x0027=]s no one in a position to sell you [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is carried by the player, say [=0x0022=][The second noun] is already yours.[=0x0022=] instead;[=0x000A=][=0x0009=]if the minimum value of the second noun is greater than the price understood, say [=0x0022=][The holder of the second noun] cackles disdainfully. [=0x0027=]If yer just here to insult me you can take your business elsewhere![=0x0027=] he says.[=0x0022=] instead;[=0x000A=][=0x0009=]if the desired value of the second noun is greater than the price understood:[=0x000A=][=0x0009=][=0x0009=]let difference be the desired value of the second noun minus the price understood;[=0x000A=][=0x0009=][=0x0009=]let difference be difference divided by two;[=0x000A=][=0x0009=][=0x0009=]decrease the desired value of the second noun by difference;[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the second noun;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]How about [desired value of the second noun]?[=0x0027=] suggests [the holder of the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]unless the desired value of the second noun is the price understood:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]From the avaricious gleam in the eye of [the holder of the second noun], you guess you could[=0x0027=]ve gotten this purchase for less...[=0x0022=][=0x000A=][=0x000A=]Carry out offering it for:[=0x000A=][=0x0009=]increase the wealth of the holder of the second noun by the price understood;[=0x000A=][=0x0009=]decrease the wealth of the player by the price understood;[=0x000A=][=0x0009=]move the second noun to the player.[=0x000A=][=0x000A=]Report offering it for:[=0x000A=][=0x0009=]say [=0x0022=]You spend [the price understood], and now you possess [the second noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: now right hand status line is [=0x0022=]Your funds: [wealth of the player][=0x0022=].[=0x000A=][=0x000A=][Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:][=0x000A=][=0x000A=]The last object offered is a thing that varies.[=0x000A=][=0x000A=]Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the price understood is the desired value of the last object offered;[=0x000A=][=0x0009=][=0x0009=]try offering the desired value of the last object offered for the last object offered.[=0x000A=][=0x000A=]Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You reject the offer firmly.[=0x0022=][=0x000A=][=0x000A=][And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:][=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] to [someone][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]). Understand [=0x0022=]offer [someone] [price][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]buy [something][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Flea Market is a room. The crotchety man is a man in the Market. [=0x0022=]A crotchety man here is selling [the list of things carried by the crotchety man].[=0x0022=] The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.[=0x000A=][=0x000A=]The minimum value of the brooch is $2.50.[=0x000A=][=0x000A=]Test me with [=0x0022=]offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37222" -->
<a id="c37222"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37223" -->
<a id="c37223"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37224" -->
<a id="c37224"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37225" -->
<a id="c37225"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37226" -->
<a id="c37226"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37227" -->
<a id="c37227"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37228" -->
<a id="c37228"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37229" -->
<a id="c37229"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37230" -->
<a id="c37230"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37231" -->
<a id="c37231"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37232" -->
<a id="c37232"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37233" -->
<a id="c37233"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c37234" -->
<a id="c37234"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37235" -->
<a id="c37235"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37236" -->
<a id="c37236"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c37237" -->
<a id="c37237"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37238" -->
<a id="c37238"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37239" -->
<a id="c37239"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37240" -->
<a id="c37240"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37241" -->
<a id="c37241"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c37242" -->
<a id="c37242"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex423.html#e423"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e378"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex378.html#e378" class="eglink"><b>269</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex378.html#e378" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Fabrication</span></b></a><br />A system of assembling clothing from a pattern and materials; both the pattern and the different fabrics have associated prices.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex378.html#e378"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e394"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex394.html#e394" class="eglink"><b>262</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex394.html#e394" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Nickel and Dimed</span></b></a><br />A more intricate system of money, this time keeping track of the individual denominations of coins and bills, specifying what gets spent at each transaction, and calculating appropriate change.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex394.html#e394"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e133"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex133.html#e133" class="eglink"><b>283</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex133.html#e133" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Introduction to Juggling</span></b></a><br />Assortment of equipment defined with price and description, in a table.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex133.html#e133"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
