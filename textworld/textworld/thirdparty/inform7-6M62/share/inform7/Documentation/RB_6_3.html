<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>6.3. Modifying Existing Commands</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง6.3. Modifying Existing Commands</p>
<p>Much of the rest of this chapter discusses the behavior of specific commands in Inform's command library, and how we might change and build on these. This section is instead an overview of the general principles: where and how can one intervene?</p>
<p>Whenever we are dealing with actions, the Actions Index is likely to be useful: it lists all the actions currently implemented, whether in our own source or in extensions or the Standard Rules, and lists the rules pertaining to each.</p>
<p>The lightest and easiest way to change behavior is with an Instead rule:</p>
<!-- START CODE "c23664" -->
<a id="c23664"></a><blockquote class="code"><p class="quoted">
Instead of eating the apple:
<br />&#160;&#160;&#160;&#160;say &quot;It turns out to be made of beeswax, so that's a non-starter.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c23665" -->
<a id="c23665"></a><blockquote class="code"><p class="quoted">
Instead of tasting an edible thing:
<br />&#160;&#160;&#160;&#160;say &quot;It's delicious!&quot;
<br />&#160;&#160;&#160;&#160;rule succeeds.
</p></blockquote>
<!-- END CODE -->
<p>The addition of &quot;rule succeeds&quot; tells Inform that the instead action was a success rather than a failure; this is not usually very important with the player's own actions, but can be useful for actions performed by other characters, so that a successfully replaced action is not followed by the disconcerting line</p>
<!-- START CODE "c23666" -->
<a id="c23666"></a><blockquote class="code"><p class="quoted">
Clark is unable to do that.
</p></blockquote>
<!-- END CODE -->
<p>Before and After offer alternative easy forms of modification; the Basic Actions chapter explains all three.</p>
<p>Changing the way an action works in all cases is usually better addressed by changing the main rulebook, rather than with one (or many) instead rules. We may add new check, carry out, and report rules to existing action rulebooks. The Advanced Actions chapter describes these, and ends with some guidelines on when to use before, instead, and after, and when to use check, carry out, and report.</p>
<p>Similarly, we may delete, move, or replace rules that are already present (see the chapter on Rulebooks). This is handy if we decide that an action has restrictions that we dislike and want to abolish. If the restriction we need to change is part of the accessibility rules - those which check whether the player can take, see, and touch items - we may need to look at Changing reachability or Changing visibility in the Advanced Actions chapter (to revise what is allowed), at Deciding the scope of something in the Activities chapter (to influence what can be seen when).</p>
<p>If, for instance, the player character is a burly fellow who can lift any other character he likes:</p>
<!-- START CODE "c23667" -->
<a id="c23667"></a><blockquote class="code"><p class="quoted">
The can't take other people rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<p>...and rip knobs off doors:</p>
<!-- START CODE "c23668" -->
<a id="c23668"></a><blockquote class="code"><p class="quoted">
The can't take component parts rule is not listed in the check taking rulebook.
</p></blockquote>
<!-- END CODE -->
<p>...and commit petty theft:</p>
<!-- START CODE "c23669" -->
<a id="c23669"></a><blockquote class="code"><p class="quoted">
The new can't take people's possessions rule is listed instead of the can't take people's possessions rule in the check taking rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c23670" -->
<a id="c23670"></a><blockquote class="code"><p class="quoted">
This is the new can't take people's possessions rule:
<br />&#160;&#160;&#160;&#160;if someone (called the owner) carries the noun:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(first waiting until [the owner] is distracted)&quot;;
</p></blockquote>
<!-- END CODE -->
<p>The right approach to use also depends a bit on how systematic a change we anticipate. We may find that instead rules become cumbersome when we want to specify behavior for a very large number of objects. It's fine to have</p>
<!-- START CODE "c23671" -->
<a id="c23671"></a><blockquote class="code"><p class="quoted">
Instead of tasting the arsenic:
<br />&#160;&#160;&#160;&#160;say &quot;You'll live to regret this very very shortly.&quot;;
<br />&#160;&#160;&#160;&#160;end the story.
</p></blockquote>
<!-- END CODE -->
<p>but a bit more tedious to have to write</p>
<!-- START CODE "c23672" -->
<a id="c23672"></a><blockquote class="code"><p class="quoted">
Instead of tasting the peppermint: ...
<br />Instead of tasting the plate: ...
<br />Instead of tasting the banister: ...
<br />Instead of tasting the donkey: ...
<br />(etc.)
</p></blockquote>
<!-- END CODE -->
<p>in a story in which most items have unique flavor descriptions. In that situation, it may be more sensible to overhaul the design of the action: create a new text property for things, and revise &quot;tasting&quot; so that it now consults this property:</p>
<!-- START CODE "c23673" -->
<a id="c23673"></a><blockquote class="code"><p class="quoted">
The block tasting rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c23674" -->
<a id="c23674"></a><blockquote class="code"><p class="quoted">
A thing has some text called the flavor. The flavor of a thing is usually &quot;Nothing special.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c23675" -->
<a id="c23675"></a><blockquote class="code"><p class="quoted">
Report tasting something:
<br />&#160;&#160;&#160;&#160;if the flavor of the noun is &quot;Nothing special.&quot;:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You taste nothing unexpected.&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[the flavor of the noun][paragraph break]&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c23676" -->
<a id="c23676"></a><blockquote class="code"><p class="quoted">
Report someone tasting something:
<br />&#160;&#160;&#160;&#160;say &quot;[The actor] licks [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Finally and most sweepingly, we can rip out whole passages of the Standard Rules and replace them - or not. This is a drastic measure and rarely necessary (or so we hope); but see the Extensions chapter for ways to replace sections of existing source, or even revise the Inform 6 template files on which Inform depends. By these means almost anything can be changed. We can throw out a whole range of existing commands and start from scratch, for instance, if we want Inform to know about a completely new and different command set.</p>
<p class="crossreference"><a href="RB_10_10.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Magic (Breaking the Laws of Physics)</b></a><i> for a hat that lets the player walk through closed doors, and an NPC able to reach through solid containers</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_6_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_6_1.html" class="standardlink">Start of Chapter 6: Commands</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_6_2.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_6_2.html" class="standardlink">Back to ยง6.2. Writing New Commands</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_6_4.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_6_4.html" class="standardlink">Onward to ยง6.4. Looking</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e23"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex23.html#e23" class="eglink"><b>214</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex23.html#e23" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Slogar's Revenge</span></b></a><br />Creating an amulet of tumblers that can be used to lock and unlock things even when it is worn, overriding the usual requirement that keys be carried.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex23.html#e23"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
