<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>15.19. Arithmetic with units</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง15.19. Arithmetic with units</p>
<p>The example equations in the previous section carried out quite a lot of arithmetic, but they may have given the impression that Inform always allows arithmetic - which is not true.</p>
<p>This is actually a good thing, because it keeps us from error. For instance, Inform will not allow:</p>
<!-- START CODE "c1226" -->
<a id="c1226"></a><blockquote class="code"><p class="quoted">
Equation - Newton's Totally Bogus Law
<br />&#160;&#160;&#160;&#160;F = m^2
<br />where F is a force, m is a mass.
</p></blockquote>
<!-- END CODE -->
<p>because whatever you get when you square a mass, you don't get a force - in the same way that a length times another length makes an area, not another length. Physicists call this &quot;dimensional analysis&quot;, and it often provides clues about which equations are right. Just after the Second World War, someone correctly worked out the explosive power of an atomic bomb without any classified information simply by guessing what values would appear in the formula, and then finding the simplest equation they could appear in.</p>
<p>In general, Inform will not allow numerical kinds of value to be multiplied or divided by each other (or square or cube rooted) unless we give it instructions that this would make sense.</p>
<p>Of course, there's plenty we can still do without any need for such instructions. For instance, going back to weight,</p>
<!-- START CODE "c1227" -->
<a id="c1227"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('The Weighbridge is a room. [=0x0022=]A sign declares that the maximum load is [100kg multiplied by 3].[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> The Weighbridge is a room. &quot;A sign declares that the maximum load is [100kg multiplied by 3].&quot;
</p></blockquote>
<!-- END CODE -->
<p>...will produce the text &quot;A sign declares that the maximum load is 300kg.&quot; Here Inform knows that it makes sense to multiply a weight by 3, and that the result will be a weight. Similarly, Inform allows us to add and subtract weights, and several different forms of division are allowed:</p>
<!-- START CODE "c1228" -->
<a id="c1228"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('The blackboard is in the Weighbridge. [=0x0022=]A blackboard propped against one wall reads: [=0x0027=]122 / 10 is [122 divided by 10] remainder [remainder after dividing 122 by 10]; but 122kg / 10kg is [122kg divided by 10kg] remainder [remainder after dividing 122kg by 10kg]; and 122kg / 10 is [122kg divided by 10] remainder [remainder after dividing 122kg by 10].[=0x0027=][=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> The blackboard is in the Weighbridge. &quot;A blackboard propped against one wall reads: '122 / 10 is [122 divided by 10] remainder [remainder after dividing 122 by 10]; but 122kg / 10kg is [122kg divided by 10kg] remainder [remainder after dividing 122kg by 10kg]; and 122kg / 10 is [122kg divided by 10] remainder [remainder after dividing 122kg by 10].'&quot;
</p></blockquote>
<!-- END CODE -->
<p>When we visit the Weighbridge, we find:</p>
<!-- START CODE "c1229" -->
<a id="c1229"></a><blockquote class="code"><p class="quoted">
A blackboard propped against one wall reads: &quot;122 / 10 is 12 remainder 2; but 122kg / 10kg is 12 remainder 2kg; and 122kg / 10 is 12kg remainder 2kg.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Whereas we are not allowed to divide 122 by 10kg: that would make no sense, since 122 is a number and not made up of kilograms. Inform will produce a problem message if we try. Similarly, Inform won't normally allow us to multiply two weights together - but see the next section.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_15_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_15_1.html" class="standardlink">Start of Chapter 15: Numbers and Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15_18.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_15_18.html" class="standardlink">Back to ยง15.18. Equations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_15_20.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_15_20.html" class="standardlink">Onward to ยง15.20. Multiplication of units</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e335"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex335.html#e335" class="eglink"><b>264</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex335.html#e335" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Frozen Assets</span></b></a><br />A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex335.html#e335"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e423"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_15_19.html#e423" class="eglink"><b>265</b></a></div>
<div class="egpanel" id="example423">
<!-- START CODE "c22321" -->
<a id="c22321"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Money for Nothing[=0x0022=][=0x000A=][=0x000A=]Section 1 - Prices and Bargaining[=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).[=0x000A=][=0x000A=]A person has a price called wealth. The wealth of the player is $15.[=0x000A=][=0x000A=]A thing has a price called minimum value. The minimum value of a thing is usually $0.50.[=0x000A=][=0x000A=]A thing has a price called desired value. The desired value of a thing is usually $5.00.[=0x000A=][=0x000A=]Offering it for is an action applying to one price and one visible thing.[=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] for [something][=0x0022=] as offering it for.[=0x000A=][=0x000A=]After taking inventory, say [=0x0022=]You have [the wealth of the player].[=0x0022=][=0x000A=][=0x000A=]Check offering it for:[=0x000A=][=0x0009=]if the price understood is greater than the wealth of the player, say [=0x0022=]You don[=0x0027=]t have that kind of cash.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not carried by someone, say [=0x0022=]There[=0x0027=]s no one in a position to sell you [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is carried by the player, say [=0x0022=][The second noun] is already yours.[=0x0022=] instead;[=0x000A=][=0x0009=]if the minimum value of the second noun is greater than the price understood, say [=0x0022=][The holder of the second noun] cackles disdainfully. [=0x0027=]If yer just here to insult me you can take your business elsewhere![=0x0027=] he says.[=0x0022=] instead;[=0x000A=][=0x0009=]if the desired value of the second noun is greater than the price understood:[=0x000A=][=0x0009=][=0x0009=]let difference be the desired value of the second noun minus the price understood;[=0x000A=][=0x0009=][=0x0009=]let difference be difference divided by two;[=0x000A=][=0x0009=][=0x0009=]decrease the desired value of the second noun by difference;[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the second noun;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]How about [desired value of the second noun]?[=0x0027=] suggests [the holder of the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]unless the desired value of the second noun is the price understood:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]From the avaricious gleam in the eye of [the holder of the second noun], you guess you could[=0x0027=]ve gotten this purchase for less...[=0x0022=][=0x000A=][=0x000A=]Carry out offering it for:[=0x000A=][=0x0009=]increase the wealth of the holder of the second noun by the price understood;[=0x000A=][=0x0009=]decrease the wealth of the player by the price understood;[=0x000A=][=0x0009=]move the second noun to the player.[=0x000A=][=0x000A=]Report offering it for:[=0x000A=][=0x0009=]say [=0x0022=]You spend [the price understood], and now you possess [the second noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: now right hand status line is [=0x0022=]Your funds: [wealth of the player][=0x0022=].[=0x000A=][=0x000A=][Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:][=0x000A=][=0x000A=]The last object offered is a thing that varies.[=0x000A=][=0x000A=]Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the price understood is the desired value of the last object offered;[=0x000A=][=0x0009=][=0x0009=]try offering the desired value of the last object offered for the last object offered.[=0x000A=][=0x000A=]Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You reject the offer firmly.[=0x0022=][=0x000A=][=0x000A=][And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:][=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] to [someone][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]). Understand [=0x0022=]offer [someone] [price][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]buy [something][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Flea Market is a room. The crotchety man is a man in the Market. [=0x0022=]A crotchety man here is selling [the list of things carried by the crotchety man].[=0x0022=] The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.[=0x000A=][=0x000A=]The minimum value of the brooch is $2.50.[=0x000A=][=0x000A=]Test me with [=0x0022=]offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22322" -->
<a id="c22322"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22323" -->
<a id="c22323"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22324" -->
<a id="c22324"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22325" -->
<a id="c22325"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22326" -->
<a id="c22326"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22327" -->
<a id="c22327"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22328" -->
<a id="c22328"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22329" -->
<a id="c22329"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22330" -->
<a id="c22330"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22331" -->
<a id="c22331"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22332" -->
<a id="c22332"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22333" -->
<a id="c22333"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c22334" -->
<a id="c22334"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22335" -->
<a id="c22335"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22336" -->
<a id="c22336"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c22337" -->
<a id="c22337"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22338" -->
<a id="c22338"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22339" -->
<a id="c22339"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22340" -->
<a id="c22340"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22341" -->
<a id="c22341"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22342" -->
<a id="c22342"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_15_19.html#e423" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Money for Nothing</span></b></a><br />An OFFER price FOR command, allowing the player to bargain with a flexible seller.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example423">
<!-- START CODE "c22343" -->
<a id="c22343"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Money for Nothing[=0x0022=][=0x000A=][=0x000A=]Section 1 - Prices and Bargaining[=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).[=0x000A=][=0x000A=]A person has a price called wealth. The wealth of the player is $15.[=0x000A=][=0x000A=]A thing has a price called minimum value. The minimum value of a thing is usually $0.50.[=0x000A=][=0x000A=]A thing has a price called desired value. The desired value of a thing is usually $5.00.[=0x000A=][=0x000A=]Offering it for is an action applying to one price and one visible thing.[=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] for [something][=0x0022=] as offering it for.[=0x000A=][=0x000A=]After taking inventory, say [=0x0022=]You have [the wealth of the player].[=0x0022=][=0x000A=][=0x000A=]Check offering it for:[=0x000A=][=0x0009=]if the price understood is greater than the wealth of the player, say [=0x0022=]You don[=0x0027=]t have that kind of cash.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not carried by someone, say [=0x0022=]There[=0x0027=]s no one in a position to sell you [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is carried by the player, say [=0x0022=][The second noun] is already yours.[=0x0022=] instead;[=0x000A=][=0x0009=]if the minimum value of the second noun is greater than the price understood, say [=0x0022=][The holder of the second noun] cackles disdainfully. [=0x0027=]If yer just here to insult me you can take your business elsewhere![=0x0027=] he says.[=0x0022=] instead;[=0x000A=][=0x0009=]if the desired value of the second noun is greater than the price understood:[=0x000A=][=0x0009=][=0x0009=]let difference be the desired value of the second noun minus the price understood;[=0x000A=][=0x0009=][=0x0009=]let difference be difference divided by two;[=0x000A=][=0x0009=][=0x0009=]decrease the desired value of the second noun by difference;[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the second noun;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]How about [desired value of the second noun]?[=0x0027=] suggests [the holder of the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]unless the desired value of the second noun is the price understood:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]From the avaricious gleam in the eye of [the holder of the second noun], you guess you could[=0x0027=]ve gotten this purchase for less...[=0x0022=][=0x000A=][=0x000A=]Carry out offering it for:[=0x000A=][=0x0009=]increase the wealth of the holder of the second noun by the price understood;[=0x000A=][=0x0009=]decrease the wealth of the player by the price understood;[=0x000A=][=0x0009=]move the second noun to the player.[=0x000A=][=0x000A=]Report offering it for:[=0x000A=][=0x0009=]say [=0x0022=]You spend [the price understood], and now you possess [the second noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: now right hand status line is [=0x0022=]Your funds: [wealth of the player][=0x0022=].[=0x000A=][=0x000A=][Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:][=0x000A=][=0x000A=]The last object offered is a thing that varies.[=0x000A=][=0x000A=]Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the price understood is the desired value of the last object offered;[=0x000A=][=0x0009=][=0x0009=]try offering the desired value of the last object offered for the last object offered.[=0x000A=][=0x000A=]Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You reject the offer firmly.[=0x0022=][=0x000A=][=0x000A=][And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:][=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] to [someone][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]). Understand [=0x0022=]offer [someone] [price][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]buy [something][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Flea Market is a room. The crotchety man is a man in the Market. [=0x0022=]A crotchety man here is selling [the list of things carried by the crotchety man].[=0x0022=] The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.[=0x000A=][=0x000A=]The minimum value of the brooch is $2.50.[=0x000A=][=0x000A=]Test me with [=0x0022=]offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22344" -->
<a id="c22344"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22345" -->
<a id="c22345"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22346" -->
<a id="c22346"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22347" -->
<a id="c22347"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22348" -->
<a id="c22348"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22349" -->
<a id="c22349"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22350" -->
<a id="c22350"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22351" -->
<a id="c22351"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22352" -->
<a id="c22352"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22353" -->
<a id="c22353"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22354" -->
<a id="c22354"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22355" -->
<a id="c22355"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c22356" -->
<a id="c22356"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22357" -->
<a id="c22357"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22358" -->
<a id="c22358"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c22359" -->
<a id="c22359"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22360" -->
<a id="c22360"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22361" -->
<a id="c22361"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22362" -->
<a id="c22362"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22363" -->
<a id="c22363"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22364" -->
<a id="c22364"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex423.html#e423"><i>RB</i></a></div>
<div class="egpanel" id="example423">
<!-- START CODE "c22365" -->
<a id="c22365"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Money for Nothing[=0x0022=][=0x000A=][=0x000A=]Section 1 - Prices and Bargaining[=0x000A=][=0x000A=]Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).[=0x000A=][=0x000A=]A person has a price called wealth. The wealth of the player is $15.[=0x000A=][=0x000A=]A thing has a price called minimum value. The minimum value of a thing is usually $0.50.[=0x000A=][=0x000A=]A thing has a price called desired value. The desired value of a thing is usually $5.00.[=0x000A=][=0x000A=]Offering it for is an action applying to one price and one visible thing.[=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] for [something][=0x0022=] as offering it for.[=0x000A=][=0x000A=]After taking inventory, say [=0x0022=]You have [the wealth of the player].[=0x0022=][=0x000A=][=0x000A=]Check offering it for:[=0x000A=][=0x0009=]if the price understood is greater than the wealth of the player, say [=0x0022=]You don[=0x0027=]t have that kind of cash.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not carried by someone, say [=0x0022=]There[=0x0027=]s no one in a position to sell you [the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is carried by the player, say [=0x0022=][The second noun] is already yours.[=0x0022=] instead;[=0x000A=][=0x0009=]if the minimum value of the second noun is greater than the price understood, say [=0x0022=][The holder of the second noun] cackles disdainfully. [=0x0027=]If yer just here to insult me you can take your business elsewhere![=0x0027=] he says.[=0x0022=] instead;[=0x000A=][=0x0009=]if the desired value of the second noun is greater than the price understood:[=0x000A=][=0x0009=][=0x0009=]let difference be the desired value of the second noun minus the price understood;[=0x000A=][=0x0009=][=0x0009=]let difference be difference divided by two;[=0x000A=][=0x0009=][=0x0009=]decrease the desired value of the second noun by difference;[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the second noun;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][=0x0027=]How about [desired value of the second noun]?[=0x0027=] suggests [the holder of the second noun].[=0x0022=] instead;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]unless the desired value of the second noun is the price understood:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=]From the avaricious gleam in the eye of [the holder of the second noun], you guess you could[=0x0027=]ve gotten this purchase for less...[=0x0022=][=0x000A=][=0x000A=]Carry out offering it for:[=0x000A=][=0x0009=]increase the wealth of the holder of the second noun by the price understood;[=0x000A=][=0x0009=]decrease the wealth of the player by the price understood;[=0x000A=][=0x0009=]move the second noun to the player.[=0x000A=][=0x000A=]Report offering it for:[=0x000A=][=0x0009=]say [=0x0022=]You spend [the price understood], and now you possess [the second noun].[=0x0022=][=0x000A=][=0x000A=]When play begins: now right hand status line is [=0x0022=]Your funds: [wealth of the player][=0x0022=].[=0x000A=][=0x000A=][Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:][=0x000A=][=0x000A=]The last object offered is a thing that varies.[=0x000A=][=0x000A=]Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the price understood is the desired value of the last object offered;[=0x000A=][=0x0009=][=0x0009=]try offering the desired value of the last object offered for the last object offered.[=0x000A=][=0x000A=]Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:[=0x000A=][=0x0009=]if the seller is not visible:[=0x000A=][=0x0009=][=0x0009=]continue the action;[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]now the last object offered is the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You reject the offer firmly.[=0x0022=][=0x000A=][=0x000A=][And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:][=0x000A=][=0x000A=]Understand [=0x0022=]offer [price] to [someone][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]). Understand [=0x0022=]offer [someone] [price][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Understand [=0x0022=]buy [something][=0x0022=] as a mistake ([=0x0022=]You[=0x0027=]ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.[=0x0022=]).[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]The Flea Market is a room. The crotchety man is a man in the Market. [=0x0022=]A crotchety man here is selling [the list of things carried by the crotchety man].[=0x0022=] The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.[=0x000A=][=0x000A=]The minimum value of the brooch is $2.50.[=0x000A=][=0x000A=]Test me with [=0x0022=]offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Money for Nothing&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22366" -->
<a id="c22366"></a><blockquote class="code"><p class="quoted">
Section 1 - Prices and Bargaining
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22367" -->
<a id="c22367"></a><blockquote class="code"><p class="quoted">
Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22368" -->
<a id="c22368"></a><blockquote class="code"><p class="quoted">
A person has a price called wealth. The wealth of the player is $15.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22369" -->
<a id="c22369"></a><blockquote class="code"><p class="quoted">
A thing has a price called minimum value. The minimum value of a thing is usually $0.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22370" -->
<a id="c22370"></a><blockquote class="code"><p class="quoted">
A thing has a price called desired value. The desired value of a thing is usually $5.00.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22371" -->
<a id="c22371"></a><blockquote class="code"><p class="quoted">
Offering it for is an action applying to one price and one visible thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22372" -->
<a id="c22372"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] for [something]&quot; as offering it for.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22373" -->
<a id="c22373"></a><blockquote class="code"><p class="quoted">
After taking inventory, say &quot;You have [the wealth of the player].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22374" -->
<a id="c22374"></a><blockquote class="code"><p class="quoted">
Check offering it for:
<br />&#160;&#160;&#160;&#160;if the price understood is greater than the wealth of the player, say &quot;You don't have that kind of cash.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not carried by someone, say &quot;There's no one in a position to sell you [the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. 'If yer just here to insult me you can take your business elsewhere!' he says.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the desired value of the second noun is greater than the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be the desired value of the second noun minus the price understood;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let difference be difference divided by two;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrease the desired value of the second noun by difference;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the second noun;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;'How about [desired value of the second noun]?' suggests [the holder of the second noun].&quot; instead;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the desired value of the second noun is the price understood:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could've gotten this purchase for less...&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22375" -->
<a id="c22375"></a><blockquote class="code"><p class="quoted">
Carry out offering it for:
<br />&#160;&#160;&#160;&#160;increase the wealth of the holder of the second noun by the price understood;
<br />&#160;&#160;&#160;&#160;decrease the wealth of the player by the price understood;
<br />&#160;&#160;&#160;&#160;move the second noun to the player.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22376" -->
<a id="c22376"></a><blockquote class="code"><p class="quoted">
Report offering it for:
<br />&#160;&#160;&#160;&#160;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22377" -->
<a id="c22377"></a><blockquote class="code"><p class="quoted">
When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<!-- START CODE "c22378" -->
<a id="c22378"></a><blockquote class="code"><p class="quoted">
The last object offered is a thing that varies.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22379" -->
<a id="c22379"></a><blockquote class="code"><p class="quoted">
Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the price understood is the desired value of the last object offered;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;try offering the desired value of the last object offered for the last object offered.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22380" -->
<a id="c22380"></a><blockquote class="code"><p class="quoted">
Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:
<br />&#160;&#160;&#160;&#160;if the seller is not visible:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the last object offered is the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You reject the offer firmly.&quot;
</p></blockquote>
<!-- END CODE -->
<p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<!-- START CODE "c22381" -->
<a id="c22381"></a><blockquote class="code"><p class="quoted">
Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You'll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22382" -->
<a id="c22382"></a><blockquote class="code"><p class="quoted">
Understand &quot;buy [something]&quot; as a mistake (&quot;You'll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22383" -->
<a id="c22383"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22384" -->
<a id="c22384"></a><blockquote class="code"><p class="quoted">
The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22385" -->
<a id="c22385"></a><blockquote class="code"><p class="quoted">
The minimum value of the brooch is $2.50.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c22386" -->
<a id="c22386"></a><blockquote class="code"><p class="quoted">
Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<a id="e58"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex58.html#e58" class="eglink"><b>266</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex58.html#e58" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Savannah</span></b></a><br />Using the liquid implementation demonstrated in Lemonade for putting out fires.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex58.html#e58"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e85"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex85.html#e85" class="eglink"><b>267</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex85.html#e85" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lemonade</span></b></a><br />Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex85.html#e85"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
