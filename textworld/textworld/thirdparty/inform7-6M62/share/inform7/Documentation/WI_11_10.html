<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>11.10. Repeat</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง11.10. Repeat</p>
<p>The other kind of loop in Inform is &quot;repeat&quot;. The trouble with &quot;while&quot; is that it's not obvious at a glance when or whether the loop will finish, and nor is there any book-keeping to measure progress. A &quot;repeat&quot; loop is much more predictable, and is more or less certain to finish.</p>
<p>There are several forms of &quot;repeat&quot;, of which the simplest is similar to the old FOR/NEXT loop from the home-computer programming language BASIC, for those with long memories:</p>
<!-- START PHRASE "defn129" -->
<div class="definition"><a id="defn129"></a><p class="defnprototype"><b>repeat with </b>(a name not so far used)<b> running from </b>(arithmetic value)<b> to </b>(arithmetic value)<b></b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>repeat with </b>(a name not so far used)<b> running from </b>(enumerated value)<b> to </b>(enumerated value)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_repeat -->

<p>This phrase causes the block of phrases following it to be repeated once for each value in the given range, storing that value in the named variable. (The variable exists only temporarily, within the repetition.) Example:</p>
<!-- START CODE "c788" -->
<a id="c788"></a><blockquote class="code"><p class="quoted">
repeat with counter running from 1 to 10:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>This, and runs through the given phrases ten times. Within those phrases, a special value called &quot;counter&quot; has the value 1 the first time through, then the value 2, then 3 and so on up to 10. (It can of course be called whatever we like: this is only an example.) The range can be from any kind where ranges make sense - anything on which arithmetic can be done, so for instance</p>
<!-- START CODE "c789" -->
<a id="c789"></a><blockquote class="code"><p class="quoted">
repeat with moment running from 4 PM to 4:07 PM:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>and also any enumeration:</p>
<!-- START CODE "c790" -->
<a id="c790"></a><blockquote class="code"><p class="quoted">
Colour is a kind of value. The colours are red, orange, yellow, green, blue, indigo and violet.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c791" -->
<a id="c791"></a><blockquote class="code"><p class="quoted">
...
<br />&#160;&#160;&#160;&#160;repeat with hue running from orange to indigo:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>We are allowed to &quot;nest&quot; loops, that is, to put one inside another.</p>
<!-- START CODE "c792" -->
<a id="c792"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('To plot a grid with size (S - a number):[=0x000A=][=0x0009=]repeat with x running from 1 to S:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]Row [x]:[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]repeat with y running from 1 to S:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=] [y][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=].[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> To plot a grid with size (S - a number):
<br />&#160;&#160;&#160;&#160;repeat with x running from 1 to S:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;Row [x]:&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;repeat with y running from 1 to S:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; [y]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;.&quot;
</p></blockquote>
<!-- END CODE -->
<p>If we then write</p>
<!-- START CODE "c793" -->
<a id="c793"></a><blockquote class="code"><p class="quoted">
plot a grid with size 5;
</p></blockquote>
<!-- END CODE -->
<p>then the result is</p>
<!-- START CODE "c794" -->
<a id="c794"></a><blockquote class="code"><p class="quoted">
Row 1: 1 2 3 4 5.
<br />Row 2: 1 2 3 4 5.
<br />Row 3: 1 2 3 4 5.
<br />Row 4: 1 2 3 4 5.
<br />Row 5: 1 2 3 4 5.
</p></blockquote>
<!-- END CODE -->
<p>Thus the innermost phrase, the say which mentions &quot;y&quot;, happens 25 times.</p>
<p>Whenever dealing with numbers in Inform we may need to remember that if the Settings for the project are set to use the Z-machine, the range is restricted to -32768 up to 32767. Repeating with a counter up to exactly 32767 is hazardous, because the counter can never break through this barrier: it's infinity, so far as Inform is concerned, and that can cause the repetitions to go on forever. (On Glulx, numbers can be very much larger.)</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_11_1.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11_9.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_11_9.html" class="standardlink">Back to ยง11.9. While</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11_11.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_11_11.html" class="standardlink">Onward to ยง11.11. Repeat running through</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e364"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex364.html#e364" class="eglink"><b>175</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex364.html#e364" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Wonka's Revenge</span></b></a><br />A lottery drum which redistributes the tickets inside whenever the player spins it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex364.html#e364"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
