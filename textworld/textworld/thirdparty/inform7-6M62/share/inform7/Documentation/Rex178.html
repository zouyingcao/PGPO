<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>7.3. Reactive Characters</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง7.3. Reactive Characters</p>
<p>As we observe characters, so they observe us. Those who seem to have no awareness of what the player is doing often come across more like waxworks than like people. <span class="boldface">Zodiac</span> demonstrates a scenario where the watchful presence of a dangerous criminal keeps the player from doing what he otherwise might, while <span class="boldface">Police State</span> expands on this idea with a policeman who reacts to entire types of behavior in his presence, regardless of whether the culprit is the player or a third party. <span class="boldface">Noisemaking</span> has a crow who will fly away in response to any loud noises the player makes.</p>
<p>And, of course, we definitely want to have characters react to being looked at or otherwise interfered with. <span class="boldface">Search and Seizure</span> implements a smuggler who reacts when we try to confiscate his possessions. <span class="boldface">Pine 1</span> gives us a sleeping princess who can be woken by a variety of methods.</p>
<p>We wrap up this section with two complete puzzle scenarios that demonstrate what can be achieved by giving characters reactions to the player's behavior. <span class="boldface">A Day For Fresh Sushi</span> has a fish who watches the player's actions and comments on them, while the live furnishings in <span class="boldface">Revenge of the Fussy Table</span> instead comment every turn on the current state of the world, until the player has successfully sorted out all their complaints.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_7_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_7_1.html" class="standardlink">Start of Chapter 7: Other Characters</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_7_2.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_7_2.html" class="standardlink">Back to ยง7.2. Liveliness</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_7_4.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_7_4.html" class="standardlink">Onward to ยง7.4. Barter and Exchange</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e430"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex430.html#e430" class="eglink"><b>96</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex430.html#e430" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Zodiac</span></b></a><br />Several variations on "doing something other than...", demonstrating different degrees of restriction.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex430.html#e430"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e167"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex167.html#e167" class="eglink"><b>154</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex167.html#e167" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pine 1</span></b></a><br />Pine: Using a scene to watch for the solution of a puzzle, however arrived-at by the player.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex167.html#e167"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e317"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex317.html#e317" class="eglink"><b>187</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex317.html#e317" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Police State</span></b></a><br />Several friends who obey you; a policeman who doesn't (but who takes a dim view of certain kinds of antics).</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex317.html#e317"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e334"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex334.html#e334" class="eglink"><b>38</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex334.html#e334" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Search and Seizure</span></b></a><br />A smuggler who has items, some of which are hidden.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex334.html#e334"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e178"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_7_3.html#e178" class="eglink"><b>196</b></a></div>
<div class="egpanel" id="example178">
<p>Suppose the current sequence of action handling is not quite enough for us: we'd also like to have a stage after reporting, where other characters can react to the player character's behavior after it has already happened and been reported on screen. Having such a stage is unlike using &quot;after&quot;, because after occurs before reports and prevents them from being printed. So, for instance, we could allow the player to do any of a range of different actions that make loud noises, and have a nervous bird that reacts to all of them by flying away afterward.</p>
<p>To do this, we can add a new rule into the specific action-processing rules. (For a list of these, see the Rules index.) Moving rules around and adding new ones requires syntax that we will learn in the chapter on Rulebooks, but the present example is fairly straightforward:</p>
<!-- START CODE "c29283" -->
<a id="c29283"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Noisemaking[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]The other-player response rule is listed after the report stage rule in the specific action-processing rules.[=0x000A=][=0x000A=]This is the other-player response rule:[=0x000A=][=0x0009=]follow the observation rules.[=0x000A=][=0x000A=]The observation rules is a rulebook.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]Country Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.[=0x000A=][=0x000A=]The player carries a drum.[=0x000A=][=0x000A=]The black crow is an animal in Country Lane.[=0x000A=][=0x000A=]Singing is an action applying to nothing. Understand [=0x0022=]sing[=0x0022=] as singing.[=0x000A=][=0x000A=]Report singing:[=0x000A=][=0x0009=]say [=0x0022=]You hum a little ditty.[=0x0022=][=0x000A=][=0x000A=]Singing is a loud action.[=0x000A=][=0x000A=]Attacking the drum is a loud action.[=0x000A=][=0x000A=]The block attacking rule is not listed in any rulebook.[=0x000A=][=0x000A=]Report attacking something:[=0x000A=][=0x0009=]say [=0x0022=]THWACK![=0x0022=][=0x000A=][=0x000A=]An observation rule for loud action in the presence of the black crow:[=0x000A=][=0x0009=]let N be a random adjacent room;[=0x000A=][=0x0009=]if N is a room, move the black crow to N;[=0x000A=][=0x0009=]say [=0x0022=]The crow, startled, flies off to [N].[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]sing / g / n / hit drum[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Noisemaking&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29284" -->
<a id="c29284"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29285" -->
<a id="c29285"></a><blockquote class="code"><p class="quoted">
The other-player response rule is listed after the report stage rule in the specific action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29286" -->
<a id="c29286"></a><blockquote class="code"><p class="quoted">
This is the other-player response rule:
<br />&#160;&#160;&#160;&#160;follow the observation rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29287" -->
<a id="c29287"></a><blockquote class="code"><p class="quoted">
The observation rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29288" -->
<a id="c29288"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29289" -->
<a id="c29289"></a><blockquote class="code"><p class="quoted">
Country Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29290" -->
<a id="c29290"></a><blockquote class="code"><p class="quoted">
The player carries a drum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29291" -->
<a id="c29291"></a><blockquote class="code"><p class="quoted">
The black crow is an animal in Country Lane.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29292" -->
<a id="c29292"></a><blockquote class="code"><p class="quoted">
Singing is an action applying to nothing. Understand &quot;sing&quot; as singing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29293" -->
<a id="c29293"></a><blockquote class="code"><p class="quoted">
Report singing:
<br />&#160;&#160;&#160;&#160;say &quot;You hum a little ditty.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29294" -->
<a id="c29294"></a><blockquote class="code"><p class="quoted">
Singing is a loud action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29295" -->
<a id="c29295"></a><blockquote class="code"><p class="quoted">
Attacking the drum is a loud action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29296" -->
<a id="c29296"></a><blockquote class="code"><p class="quoted">
The block attacking rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29297" -->
<a id="c29297"></a><blockquote class="code"><p class="quoted">
Report attacking something:
<br />&#160;&#160;&#160;&#160;say &quot;THWACK!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29298" -->
<a id="c29298"></a><blockquote class="code"><p class="quoted">
An observation rule for loud action in the presence of the black crow:
<br />&#160;&#160;&#160;&#160;let N be a random adjacent room;
<br />&#160;&#160;&#160;&#160;if N is a room, move the black crow to N;
<br />&#160;&#160;&#160;&#160;say &quot;The crow, startled, flies off to [N].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29299" -->
<a id="c29299"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sing / g / n / hit drum&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_7_3.html#e178" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Noisemaking</span></b></a><br />Creating a stage after the report stage of an action, during which other characters may observe and react.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example178">
<p>Suppose the current sequence of action handling is not quite enough for us: we'd also like to have a stage after reporting, where other characters can react to the player character's behavior after it has already happened and been reported on screen. Having such a stage is unlike using &quot;after&quot;, because after occurs before reports and prevents them from being printed. So, for instance, we could allow the player to do any of a range of different actions that make loud noises, and have a nervous bird that reacts to all of them by flying away afterward.</p>
<p>To do this, we can add a new rule into the specific action-processing rules. (For a list of these, see the Rules index.) Moving rules around and adding new ones requires syntax that we will learn in the chapter on Rulebooks, but the present example is fairly straightforward:</p>
<!-- START CODE "c29300" -->
<a id="c29300"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Noisemaking[=0x0022=][=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]The other-player response rule is listed after the report stage rule in the specific action-processing rules.[=0x000A=][=0x000A=]This is the other-player response rule:[=0x000A=][=0x0009=]follow the observation rules.[=0x000A=][=0x000A=]The observation rules is a rulebook.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]Country Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.[=0x000A=][=0x000A=]The player carries a drum.[=0x000A=][=0x000A=]The black crow is an animal in Country Lane.[=0x000A=][=0x000A=]Singing is an action applying to nothing. Understand [=0x0022=]sing[=0x0022=] as singing.[=0x000A=][=0x000A=]Report singing:[=0x000A=][=0x0009=]say [=0x0022=]You hum a little ditty.[=0x0022=][=0x000A=][=0x000A=]Singing is a loud action.[=0x000A=][=0x000A=]Attacking the drum is a loud action.[=0x000A=][=0x000A=]The block attacking rule is not listed in any rulebook.[=0x000A=][=0x000A=]Report attacking something:[=0x000A=][=0x0009=]say [=0x0022=]THWACK![=0x0022=][=0x000A=][=0x000A=]An observation rule for loud action in the presence of the black crow:[=0x000A=][=0x0009=]let N be a random adjacent room;[=0x000A=][=0x0009=]if N is a room, move the black crow to N;[=0x000A=][=0x0009=]say [=0x0022=]The crow, startled, flies off to [N].[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]sing / g / n / hit drum[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Noisemaking&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29301" -->
<a id="c29301"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29302" -->
<a id="c29302"></a><blockquote class="code"><p class="quoted">
The other-player response rule is listed after the report stage rule in the specific action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29303" -->
<a id="c29303"></a><blockquote class="code"><p class="quoted">
This is the other-player response rule:
<br />&#160;&#160;&#160;&#160;follow the observation rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29304" -->
<a id="c29304"></a><blockquote class="code"><p class="quoted">
The observation rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29305" -->
<a id="c29305"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29306" -->
<a id="c29306"></a><blockquote class="code"><p class="quoted">
Country Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29307" -->
<a id="c29307"></a><blockquote class="code"><p class="quoted">
The player carries a drum.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29308" -->
<a id="c29308"></a><blockquote class="code"><p class="quoted">
The black crow is an animal in Country Lane.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29309" -->
<a id="c29309"></a><blockquote class="code"><p class="quoted">
Singing is an action applying to nothing. Understand &quot;sing&quot; as singing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29310" -->
<a id="c29310"></a><blockquote class="code"><p class="quoted">
Report singing:
<br />&#160;&#160;&#160;&#160;say &quot;You hum a little ditty.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29311" -->
<a id="c29311"></a><blockquote class="code"><p class="quoted">
Singing is a loud action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29312" -->
<a id="c29312"></a><blockquote class="code"><p class="quoted">
Attacking the drum is a loud action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29313" -->
<a id="c29313"></a><blockquote class="code"><p class="quoted">
The block attacking rule is not listed in any rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29314" -->
<a id="c29314"></a><blockquote class="code"><p class="quoted">
Report attacking something:
<br />&#160;&#160;&#160;&#160;say &quot;THWACK!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29315" -->
<a id="c29315"></a><blockquote class="code"><p class="quoted">
An observation rule for loud action in the presence of the black crow:
<br />&#160;&#160;&#160;&#160;let N be a random adjacent room;
<br />&#160;&#160;&#160;&#160;if N is a room, move the black crow to N;
<br />&#160;&#160;&#160;&#160;say &quot;The crow, startled, flies off to [N].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29316" -->
<a id="c29316"></a><blockquote class="code"><p class="quoted">
Test me with &quot;sing / g / n / hit drum&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex178.html#e178"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e365"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex365.html#e365" class="eglink"><b>82</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex365.html#e365" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Revenge of the Fussy Table</span></b></a><br />A small game about resentful furniture and inconvenient objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex365.html#e365"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e287"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex287.html#e287" class="eglink"><b>112</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex287.html#e287" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">A Day For Fresh Sushi</span></b></a><br />A complete story by Emily Short, called "A Day for Fresh Sushi", rewritten using Inform 7. Noteworthy is the snarky commenter who remarks on everything the player does, but only the first time each action is performed.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex287.html#e287"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
