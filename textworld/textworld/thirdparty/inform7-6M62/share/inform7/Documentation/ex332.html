<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>9.11. Future events</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง9.11. Future events</p>
<p>We often want to arrange for something to happen at some point in the future. Here is yet another timepiece:</p>
<!-- START CODE "c669" -->
<a id="c669"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('An egg-timer is in the Chamber. [=0x0022=]A plastic egg timer in the shape of a chicken can be pressed to set it going.[=0x0022=][=0x000A=][=0x000A=]Instead of pushing the egg-timer:[=0x000A=][=0x0009=]say [=0x0022=]It begins to mark time.[=0x0022=];[=0x000A=][=0x0009=]the egg-timer clucks in four turns from now.[=0x000A=][=0x000A=]At the time when the egg-timer clucks:[=0x000A=][=0x0009=]say [=0x0022=]Cluck! Cluck! Cluck! says the egg-timer.[=0x0022=][=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> An egg-timer is in the Chamber. &quot;A plastic egg timer in the shape of a chicken can be pressed to set it going.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c670" -->
<a id="c670"></a><blockquote class="code"><p class="quoted">
Instead of pushing the egg-timer:
<br />&#160;&#160;&#160;&#160;say &quot;It begins to mark time.&quot;;
<br />&#160;&#160;&#160;&#160;the egg-timer clucks in four turns from now.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c671" -->
<a id="c671"></a><blockquote class="code"><p class="quoted">
At the time when the egg-timer clucks:
<br />&#160;&#160;&#160;&#160;say &quot;Cluck! Cluck! Cluck! says the egg-timer.&quot;
</p></blockquote>
<!-- END CODE -->
<p>The event here is called &quot;the egg-timer clucks&quot;. It only happens if we instruct so, using one of the following phrases:</p>
<!-- START PHRASE "defn108" -->
<div class="definition"><a id="defn108"></a><p class="defnprototype"><b></b>(rule)<b> in </b>(time)<b> from now</b></p>
<!-- END PHRASE -->
<!-- definition of ph_timefromnow -->

<p>This phrase causes the given rule to be run at a given time offset from the current time of day. Example:</p>
<!-- START CODE "c672" -->
<a id="c672"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks in 18 minutes from now;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn109" -->
<div class="definition"><a id="defn109"></a><p class="defnprototype"><b></b>(rule)<b> in </b>(number)<b> turn</b>/turns<b> from now</b></p>
<!-- END PHRASE -->
<!-- definition of ph_turnsfromnow -->

<p>This phrase causes the given rule to be run at a given number of turns after the current one. Example:</p>
<!-- START CODE "c673" -->
<a id="c673"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks in four turns from now;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn110" -->
<div class="definition"><a id="defn110"></a><p class="defnprototype"><b></b>(rule)<b> at </b>(time)<b></b></p>
<!-- END PHRASE -->
<!-- definition of ph_attime -->

<p>This phrase causes the given rule to be run at a given time of day. Example:</p>
<!-- START CODE "c674" -->
<a id="c674"></a><blockquote class="code"><p class="quoted">
the egg-timer clucks at 11:35 AM;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>If we know in advance what time we want something to happen, we can more simply write:</p>
<!-- START CODE "c675" -->
<a id="c675"></a><blockquote class="code"><p class="quoted">
At 4 PM: say &quot;The great bells of the clock tower chime four.&quot;
</p></blockquote>
<!-- END CODE -->
<p>(Note that in either case such rules begin with the word &quot;at&quot;: they are the only rules allowed to begin with the word &quot;at&quot;.)</p>
<p>A small warning: timed events like these only have a chance to occur during the turn sequence, that is, once every turn. In most stories, one turn takes one minute, so there will in due course be a turn happening at exactly (say) 11:35 AM. But if the clock is being advanced faster than this, it's possible that there are turns at (say) 11:32 AM and then not until 11:37 AM. But an event set for 11:35 AM will nevertheless happen -- it will run at the first available turn after that time, which will be 11:37 AM. Events can thus happen up to half an hour late, though Inform cancels them if the elapsed time is greater than that.</p>
<p>The Scenes panel of the Index can be a useful way to see what events have been set.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_9_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_9_1.html" class="standardlink">Start of Chapter 9: Time</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9_10.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_9_10.html" class="standardlink">Back to ยง9.10. Calculating times</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_9_12.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_9_12.html" class="standardlink">Onward to ยง9.12. Actions as conditions</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e332"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_9_11.html#e332" class="eglink"><b>143</b></a></div>
<div class="egpanel" id="example332">
<p>Many older interactive fiction games required the player to find food and eat on a regular basis in order to avoid death. This effect was often unrealistic (since most people can survive much longer than a few hours without eating) and is often seen as an annoyance. However, for the sake of argument, suppose that we do want to construct a hunger-and-death system.</p>
<p>To make things a little more interesting, we will postulate that different foods are differently filling, so that if the player manages to find something really caloric, he is off the hook on his hunger search for a while.</p>
<p>We will also implement the system so that the player gets messages when he is hungry, then dies a short time later. (The times involved are ludicrously short, but this allows us to see the effects within a simple example. In a real game we would want to allow a considerably longer timer for the hunger to play out.)</p>
<p>First, a little scene-setting:</p>
<!-- START CODE "c17536" -->
<a id="c17536"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]MRE[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=]The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.[=0x000A=][=0x000A=]They were wrong.[=0x0022=][=0x000A=][=0x000A=]The Base Camp Larder is a room. [=0x0022=]This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you[=0x0027=]re inside now.[=0x0022=][=0x000A=][=0x000A=][Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:][=0x000A=][=0x000A=]Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.[=0x000A=][=0x000A=]A person can be hungry or replete. The player is hungry.[=0x000A=][=0x000A=]The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.[=0x000A=][=0x000A=]Check eating something which is not food:[=0x000A=][=0x0009=]say [=0x0022=][The noun] might be edible, but it[=0x0027=]s not what you[=0x0027=]d consider really food.[=0x0022=][=0x000A=][=0x000A=]Check eating something when the player is not hungry:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]re not hungry right now.[=0x0022=][=0x000A=][=0x000A=]Carry out eating something:[=0x000A=][=0x0009=]now the player is replete;[=0x000A=][=0x0009=]hunger resumes in the satisfaction period of the noun from now.[=0x000A=][=0x000A=][The first of those two phrases, [=0x0022=]now the player is replete[=0x0022=], causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:][=0x000A=][=0x000A=]At the time when hunger resumes:[=0x000A=][=0x0009=]starvation occurs in three minutes from now;[=0x000A=][=0x0009=]now the player is hungry.[=0x000A=][=0x000A=]At the time when starvation occurs:[=0x000A=][=0x0009=]if the player is hungry, end the story saying [=0x0022=]You have starved[=0x0022=].[=0x000A=][=0x000A=][Note [=0x0022=]if the player is hungry[=0x0022=]: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.][=0x000A=][=0x000A=][And now, since we really ought to give the player some warning of what is happening to him:][=0x000A=][=0x000A=]Every turn when the player is hungry:[=0x000A=][=0x0009=]choose a random row in the Table of Hunger Complaints;[=0x000A=][=0x0009=]say [=0x0022=][hunger entry][paragraph break][=0x0022=].[=0x000A=][=0x000A=]Table of Hunger Complaints[=0x000A=]hunger[=0x000A=][=0x0022=]Gosh, you[=0x0027=]re starving.[=0x0022=][=0x000A=][=0x0022=]It feels as though you haven[=0x0027=]t eaten in days. Weeks, almost.[=0x0022=][=0x000A=][=0x0022=]The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.[=0x0022=][=0x000A=][=0x0022=]You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;MRE&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17537" -->
<a id="c17537"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17538" -->
<a id="c17538"></a><blockquote class="code"><p class="quoted">
They were wrong.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17539" -->
<a id="c17539"></a><blockquote class="code"><p class="quoted">
The Base Camp Larder is a room. &quot;This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you're inside now.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:</p>
<!-- START CODE "c17540" -->
<a id="c17540"></a><blockquote class="code"><p class="quoted">
Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17541" -->
<a id="c17541"></a><blockquote class="code"><p class="quoted">
A person can be hungry or replete. The player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17542" -->
<a id="c17542"></a><blockquote class="code"><p class="quoted">
The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17543" -->
<a id="c17543"></a><blockquote class="code"><p class="quoted">
Check eating something which is not food:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] might be edible, but it's not what you'd consider really food.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17544" -->
<a id="c17544"></a><blockquote class="code"><p class="quoted">
Check eating something when the player is not hungry:
<br />&#160;&#160;&#160;&#160;say &quot;You're not hungry right now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17545" -->
<a id="c17545"></a><blockquote class="code"><p class="quoted">
Carry out eating something:
<br />&#160;&#160;&#160;&#160;now the player is replete;
<br />&#160;&#160;&#160;&#160;hunger resumes in the satisfaction period of the noun from now.
</p></blockquote>
<!-- END CODE -->
<p>The first of those two phrases, &quot;now the player is replete&quot;, causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:</p>
<!-- START CODE "c17546" -->
<a id="c17546"></a><blockquote class="code"><p class="quoted">
At the time when hunger resumes:
<br />&#160;&#160;&#160;&#160;starvation occurs in three minutes from now;
<br />&#160;&#160;&#160;&#160;now the player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17547" -->
<a id="c17547"></a><blockquote class="code"><p class="quoted">
At the time when starvation occurs:
<br />&#160;&#160;&#160;&#160;if the player is hungry, end the story saying &quot;You have starved&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note &quot;if the player is hungry&quot;: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.</p>
<p>And now, since we really ought to give the player some warning of what is happening to him:</p>
<!-- START CODE "c17548" -->
<a id="c17548"></a><blockquote class="code"><p class="quoted">
Every turn when the player is hungry:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Hunger Complaints;
<br />&#160;&#160;&#160;&#160;say &quot;[hunger entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17549" -->
<a id="c17549"></a><blockquote class="code"><p class="quoted">
Table of Hunger Complaints
<br />hunger
<br />&quot;Gosh, you're starving.&quot;
<br />&quot;It feels as though you haven't eaten in days. Weeks, almost.&quot;
<br />&quot;The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.&quot;
<br />&quot;You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17550" -->
<a id="c17550"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_9_11.html#e332" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">MRE</span></b></a><br />Hunger that eventually kills the player, and foodstuffs that can delay the inevitable by different amounts of time.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example332">
<p>Many older interactive fiction games required the player to find food and eat on a regular basis in order to avoid death. This effect was often unrealistic (since most people can survive much longer than a few hours without eating) and is often seen as an annoyance. However, for the sake of argument, suppose that we do want to construct a hunger-and-death system.</p>
<p>To make things a little more interesting, we will postulate that different foods are differently filling, so that if the player manages to find something really caloric, he is off the hook on his hunger search for a while.</p>
<p>We will also implement the system so that the player gets messages when he is hungry, then dies a short time later. (The times involved are ludicrously short, but this allows us to see the effects within a simple example. In a real game we would want to allow a considerably longer timer for the hunger to play out.)</p>
<p>First, a little scene-setting:</p>
<!-- START CODE "c17551" -->
<a id="c17551"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]MRE[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=]The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.[=0x000A=][=0x000A=]They were wrong.[=0x0022=][=0x000A=][=0x000A=]The Base Camp Larder is a room. [=0x0022=]This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you[=0x0027=]re inside now.[=0x0022=][=0x000A=][=0x000A=][Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:][=0x000A=][=0x000A=]Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.[=0x000A=][=0x000A=]A person can be hungry or replete. The player is hungry.[=0x000A=][=0x000A=]The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.[=0x000A=][=0x000A=]Check eating something which is not food:[=0x000A=][=0x0009=]say [=0x0022=][The noun] might be edible, but it[=0x0027=]s not what you[=0x0027=]d consider really food.[=0x0022=][=0x000A=][=0x000A=]Check eating something when the player is not hungry:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]re not hungry right now.[=0x0022=][=0x000A=][=0x000A=]Carry out eating something:[=0x000A=][=0x0009=]now the player is replete;[=0x000A=][=0x0009=]hunger resumes in the satisfaction period of the noun from now.[=0x000A=][=0x000A=][The first of those two phrases, [=0x0022=]now the player is replete[=0x0022=], causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:][=0x000A=][=0x000A=]At the time when hunger resumes:[=0x000A=][=0x0009=]starvation occurs in three minutes from now;[=0x000A=][=0x0009=]now the player is hungry.[=0x000A=][=0x000A=]At the time when starvation occurs:[=0x000A=][=0x0009=]if the player is hungry, end the story saying [=0x0022=]You have starved[=0x0022=].[=0x000A=][=0x000A=][Note [=0x0022=]if the player is hungry[=0x0022=]: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.][=0x000A=][=0x000A=][And now, since we really ought to give the player some warning of what is happening to him:][=0x000A=][=0x000A=]Every turn when the player is hungry:[=0x000A=][=0x0009=]choose a random row in the Table of Hunger Complaints;[=0x000A=][=0x0009=]say [=0x0022=][hunger entry][paragraph break][=0x0022=].[=0x000A=][=0x000A=]Table of Hunger Complaints[=0x000A=]hunger[=0x000A=][=0x0022=]Gosh, you[=0x0027=]re starving.[=0x0022=][=0x000A=][=0x0022=]It feels as though you haven[=0x0027=]t eaten in days. Weeks, almost.[=0x0022=][=0x000A=][=0x0022=]The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.[=0x0022=][=0x000A=][=0x0022=]You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;MRE&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17552" -->
<a id="c17552"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17553" -->
<a id="c17553"></a><blockquote class="code"><p class="quoted">
They were wrong.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17554" -->
<a id="c17554"></a><blockquote class="code"><p class="quoted">
The Base Camp Larder is a room. &quot;This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you're inside now.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:</p>
<!-- START CODE "c17555" -->
<a id="c17555"></a><blockquote class="code"><p class="quoted">
Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17556" -->
<a id="c17556"></a><blockquote class="code"><p class="quoted">
A person can be hungry or replete. The player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17557" -->
<a id="c17557"></a><blockquote class="code"><p class="quoted">
The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17558" -->
<a id="c17558"></a><blockquote class="code"><p class="quoted">
Check eating something which is not food:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] might be edible, but it's not what you'd consider really food.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17559" -->
<a id="c17559"></a><blockquote class="code"><p class="quoted">
Check eating something when the player is not hungry:
<br />&#160;&#160;&#160;&#160;say &quot;You're not hungry right now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17560" -->
<a id="c17560"></a><blockquote class="code"><p class="quoted">
Carry out eating something:
<br />&#160;&#160;&#160;&#160;now the player is replete;
<br />&#160;&#160;&#160;&#160;hunger resumes in the satisfaction period of the noun from now.
</p></blockquote>
<!-- END CODE -->
<p>The first of those two phrases, &quot;now the player is replete&quot;, causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:</p>
<!-- START CODE "c17561" -->
<a id="c17561"></a><blockquote class="code"><p class="quoted">
At the time when hunger resumes:
<br />&#160;&#160;&#160;&#160;starvation occurs in three minutes from now;
<br />&#160;&#160;&#160;&#160;now the player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17562" -->
<a id="c17562"></a><blockquote class="code"><p class="quoted">
At the time when starvation occurs:
<br />&#160;&#160;&#160;&#160;if the player is hungry, end the story saying &quot;You have starved&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note &quot;if the player is hungry&quot;: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.</p>
<p>And now, since we really ought to give the player some warning of what is happening to him:</p>
<!-- START CODE "c17563" -->
<a id="c17563"></a><blockquote class="code"><p class="quoted">
Every turn when the player is hungry:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Hunger Complaints;
<br />&#160;&#160;&#160;&#160;say &quot;[hunger entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17564" -->
<a id="c17564"></a><blockquote class="code"><p class="quoted">
Table of Hunger Complaints
<br />hunger
<br />&quot;Gosh, you're starving.&quot;
<br />&quot;It feels as though you haven't eaten in days. Weeks, almost.&quot;
<br />&quot;The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.&quot;
<br />&quot;You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17565" -->
<a id="c17565"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex332.html#e332"><i>RB</i></a></div>
<div class="egpanel" id="example332">
<p>Many older interactive fiction games required the player to find food and eat on a regular basis in order to avoid death. This effect was often unrealistic (since most people can survive much longer than a few hours without eating) and is often seen as an annoyance. However, for the sake of argument, suppose that we do want to construct a hunger-and-death system.</p>
<p>To make things a little more interesting, we will postulate that different foods are differently filling, so that if the player manages to find something really caloric, he is off the hook on his hunger search for a while.</p>
<p>We will also implement the system so that the player gets messages when he is hungry, then dies a short time later. (The times involved are ludicrously short, but this allows us to see the effects within a simple example. In a real game we would want to allow a considerably longer timer for the hunger to play out.)</p>
<p>First, a little scene-setting:</p>
<!-- START CODE "c17566" -->
<a id="c17566"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]MRE[=0x0022=][=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now the right hand status line is [=0x0022=][time of day][=0x0022=];[=0x000A=][=0x0009=]say [=0x0022=]The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.[=0x000A=][=0x000A=]They were wrong.[=0x0022=][=0x000A=][=0x000A=]The Base Camp Larder is a room. [=0x0022=]This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you[=0x0027=]re inside now.[=0x0022=][=0x000A=][=0x000A=][Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:][=0x000A=][=0x000A=]Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.[=0x000A=][=0x000A=]A person can be hungry or replete. The player is hungry.[=0x000A=][=0x000A=]The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.[=0x000A=][=0x000A=]Check eating something which is not food:[=0x000A=][=0x0009=]say [=0x0022=][The noun] might be edible, but it[=0x0027=]s not what you[=0x0027=]d consider really food.[=0x0022=][=0x000A=][=0x000A=]Check eating something when the player is not hungry:[=0x000A=][=0x0009=]say [=0x0022=]You[=0x0027=]re not hungry right now.[=0x0022=][=0x000A=][=0x000A=]Carry out eating something:[=0x000A=][=0x0009=]now the player is replete;[=0x000A=][=0x0009=]hunger resumes in the satisfaction period of the noun from now.[=0x000A=][=0x000A=][The first of those two phrases, [=0x0022=]now the player is replete[=0x0022=], causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:][=0x000A=][=0x000A=]At the time when hunger resumes:[=0x000A=][=0x0009=]starvation occurs in three minutes from now;[=0x000A=][=0x0009=]now the player is hungry.[=0x000A=][=0x000A=]At the time when starvation occurs:[=0x000A=][=0x0009=]if the player is hungry, end the story saying [=0x0022=]You have starved[=0x0022=].[=0x000A=][=0x000A=][Note [=0x0022=]if the player is hungry[=0x0022=]: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.][=0x000A=][=0x000A=][And now, since we really ought to give the player some warning of what is happening to him:][=0x000A=][=0x000A=]Every turn when the player is hungry:[=0x000A=][=0x0009=]choose a random row in the Table of Hunger Complaints;[=0x000A=][=0x0009=]say [=0x0022=][hunger entry][paragraph break][=0x0022=].[=0x000A=][=0x000A=]Table of Hunger Complaints[=0x000A=]hunger[=0x000A=][=0x0022=]Gosh, you[=0x0027=]re starving.[=0x0022=][=0x000A=][=0x0022=]It feels as though you haven[=0x0027=]t eaten in days. Weeks, almost.[=0x0022=][=0x000A=][=0x0022=]The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.[=0x0022=][=0x000A=][=0x0022=]You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.[=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;MRE&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17567" -->
<a id="c17567"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now the right hand status line is &quot;[time of day]&quot;;
<br />&#160;&#160;&#160;&#160;say &quot;The procedure was painless at first: increased strength was the first sign, followed by a sensation of delayed time, as though everyone around you moved more slowly. Your ability to dodge and perform feats of agility doubled, then trebled. You were heralded as a triumph of medicine. They told you there would be no side effects worth speaking of.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17568" -->
<a id="c17568"></a><blockquote class="code"><p class="quoted">
They were wrong.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17569" -->
<a id="c17569"></a><blockquote class="code"><p class="quoted">
The Base Camp Larder is a room. &quot;This room has been reinforced after each incident -- and there have been dozens in the last two months -- so that it now rivals Fort Knox. Only your new skill and speed enabled you to dodge the motion sensors, knock out the computerized security system, fool the retinal scanner, and punch a hole in the steel containment grating. But you're inside now.&quot;
</p></blockquote>
<!-- END CODE -->
<p>Now we define our food, and add some special instructions for what happens to our hunger counters when the food is eaten:</p>
<!-- START CODE "c17570" -->
<a id="c17570"></a><blockquote class="code"><p class="quoted">
Food is a kind of thing. Food is usually edible. Food has a time called the satisfaction period. The satisfaction period of a food is usually 5 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17571" -->
<a id="c17571"></a><blockquote class="code"><p class="quoted">
A person can be hungry or replete. The player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17572" -->
<a id="c17572"></a><blockquote class="code"><p class="quoted">
The Larder contains an apple, a candy bar, and a large plate of pasta. The apple, the candy bar, and the pasta are food. The satisfaction period of the apple is 2 minutes. The satisfaction period of the pasta is 125 minutes.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17573" -->
<a id="c17573"></a><blockquote class="code"><p class="quoted">
Check eating something which is not food:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] might be edible, but it's not what you'd consider really food.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17574" -->
<a id="c17574"></a><blockquote class="code"><p class="quoted">
Check eating something when the player is not hungry:
<br />&#160;&#160;&#160;&#160;say &quot;You're not hungry right now.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17575" -->
<a id="c17575"></a><blockquote class="code"><p class="quoted">
Carry out eating something:
<br />&#160;&#160;&#160;&#160;now the player is replete;
<br />&#160;&#160;&#160;&#160;hunger resumes in the satisfaction period of the noun from now.
</p></blockquote>
<!-- END CODE -->
<p>The first of those two phrases, &quot;now the player is replete&quot;, causes the player to cease to be hungry; the second one sets up a future event in which the hunger sets in again. The length of time until that event depends on how satisfying the specific food is. Now we define that event:</p>
<!-- START CODE "c17576" -->
<a id="c17576"></a><blockquote class="code"><p class="quoted">
At the time when hunger resumes:
<br />&#160;&#160;&#160;&#160;starvation occurs in three minutes from now;
<br />&#160;&#160;&#160;&#160;now the player is hungry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17577" -->
<a id="c17577"></a><blockquote class="code"><p class="quoted">
At the time when starvation occurs:
<br />&#160;&#160;&#160;&#160;if the player is hungry, end the story saying &quot;You have starved&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note &quot;if the player is hungry&quot;: it is possible that the starvation event will be set up but the player will eat before it occurs; in that case, we want it not to take effect.</p>
<p>And now, since we really ought to give the player some warning of what is happening to him:</p>
<!-- START CODE "c17578" -->
<a id="c17578"></a><blockquote class="code"><p class="quoted">
Every turn when the player is hungry:
<br />&#160;&#160;&#160;&#160;choose a random row in the Table of Hunger Complaints;
<br />&#160;&#160;&#160;&#160;say &quot;[hunger entry][paragraph break]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17579" -->
<a id="c17579"></a><blockquote class="code"><p class="quoted">
Table of Hunger Complaints
<br />hunger
<br />&quot;Gosh, you're starving.&quot;
<br />&quot;It feels as though you haven't eaten in days. Weeks, almost.&quot;
<br />&quot;The world seems to slow down and everything becomes sharper and brighter. You are a hunter, a hunter of foodstuffs.&quot;
<br />&quot;You find yourself staring at [the random visible thing that is not the player] and wondering how it would taste.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c17580" -->
<a id="c17580"></a><blockquote class="code"><p class="quoted">
Test me with &quot;eat apple / z / z / z / eat candy bar / z / z / z / z / z / z / z / z / z&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<a id="e239"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex239.html#e239" class="eglink"><b>144</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex239.html#e239" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Totality</span></b></a><br />To schedule an eclipse of the sun, which involves a number of related events.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex239.html#e239"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e426"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex426.html#e426" class="eglink"><b>145</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex426.html#e426" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Empire</span></b></a><br />A train which follows a schedule, stopping at a number of different locations.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex426.html#e426"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e359"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex359.html#e359" class="eglink"><b>146</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex359.html#e359" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Hour of the Wren</span></b></a><br />Allowing the player to make an appointment, which is then kept.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex359.html#e359"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
