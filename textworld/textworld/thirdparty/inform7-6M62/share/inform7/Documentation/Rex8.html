<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.2. Liquids</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง10.2. Liquids</p>
<p>Liquids are notoriously difficult to simulate well. A fully thorough approach consumes endless storage and can be very finicky to write and keep realistic. It is essential to decide what aspect of a liquid's behaviour is actually needed in a given story, and to simulate only that. For instance, if we only need a little chemistry, where a player can add (say) water to salt and make a solution, we do not want to fool around with calculating quantities or concentrations: what's important is that &quot;some water&quot; (amount unspecified) combines with &quot;some salt&quot; to produce &quot;some salty water&quot;. We should no more calculate precisely here than we would work out where all the furniture is to the nearest inch. Good advice for handling liquids is to simulate the least amount of realism possible, but no less.</p>
<p>Sometimes all we want is a down-in-one drink: we needn't simulate the actual liquid, just the bottle it comes in, and all we need is to handle the &quot;drinking&quot; action. See <span class="boldface">Beverage Service</span>, and also <span class="boldface">3 AM</span>, where carbonated drinks can be shaken - again simulating the vessel, not the liquid.</p>
<p>Some elementary biochemistry in <span class="boldface">Xylan</span> is done simply by... well, the point is that two different liquids are represented by single things each, and a chemical reaction simply switches one for the other.</p>
<p>In <span class="boldface">Frizz</span>, we allow any container to be filled with water (only) and we simulate what happens to any solid objects also inside: some waterproof, some not. <span class="boldface">Flotation</span> provides a well (always full of water), with rules to determine whether things dropped into it should sink or float.</p>
<p>Next we move up to quantitative approaches, where we remember not just whether a liquid is present, but how much of it. In its simplest form, we could have a drinking vessel from which we draw in sips, so that it can be full, half-empty or empty: see <span class="boldface">Thirst</span>.</p>
<p>The example with the best compromise between simulation quality and complexity is <span class="boldface">Lemonade</span>. Here we provide a kind of container called a &quot;fluid container&quot;, not just a single cup, and each such vessel has a given &quot;fluid capacity&quot;. Each holds only a single liquid at a time (so no mixtures) and can be empty or full to any level (rounded off to the nearest 0.1 fl oz). We can fill one vessel from another (unless it would make a mixture). But liquids leaving these vessels must be consumed - drunk or poured away without trace: we cannot make pools on the floor, or carry liquids in our cupped hands. There is no object representing &quot;lemonade&quot;: there are only fluid containers, but which can be called LEMONADE if that is what they now contain.</p>
<p><span class="boldface">Savannah</span> is a light elaboration of Lemonade, showing how liquids might be poured on other objects, as for instance to extinguish a fire.</p>
<p><span class="boldface">Noisy Cricket</span> extends <span class="boldface">Lemonade</span> to allow for mixing, though then the number of different possible mixtures is so large that complexity increases greatly. <span class="boldface">Lakeside Living</span> extends <span class="boldface">Lemonade</span> differently to add a &quot;liquid source&quot; kind, a form of fluid container which has infinite fluid capacity and is scenery - ideal for a lake, river or spring.</p>
<p class="crossreference"><a href="RB_9_2.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Bags, Bottles, Boxes and Safes</b></a><i> for stoppered bottles which could also be used for carrying liquids around in</i></p><p class="crossreference"><a href="RB_10_9.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Heat</b></a><i> for keeping liquids warm in insulated containers</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Back to ยง10.1. Gases</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_3.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_10_3.html" class="standardlink">Onward to ยง10.3. Dispensers and Supplies of Small Objects</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e118"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex118.html#e118" class="eglink"><b>117</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex118.html#e118" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Thirst</span></b></a><br />A waterskin that is depleted as the player drinks from it.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex118.html#e118"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e439"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex439.html#e439" class="eglink"><b>123</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex439.html#e439" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Beverage Service</span></b></a><br />A potion that the player can drink.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex439.html#e439"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e149"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex149.html#e149" class="eglink"><b>403</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex149.html#e149" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Flotation</span></b></a><br />Objects that can sink or float in a well, depending on their own properties and the state of the surrounding environment.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex149.html#e149"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e354"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex354.html#e354" class="eglink"><b>288</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex354.html#e354" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Xylan</span></b></a><br />Creating a new command that does require an object to be named; and some comments about the choice of vocabulary, in general.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex354.html#e354"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e8"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_10_2.html#e8" class="eglink"><b>192</b></a></div>
<div class="egpanel" id="example8">
<p>Suppose we have some items that get wet in contact with other damp things; in particular, if we touch anything wet while wearing a pair of gloves, the gloves too get damp. This requires that we be systematic about detecting all cases where contact occurs. So:</p>
<!-- START CODE "c24095" -->
<a id="c24095"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Frizz[=0x0022=][=0x000A=][=0x000A=]A thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.[=0x000A=][=0x000A=]A thing can be sodden or dry.[=0x000A=][=0x000A=]A container can be waterfilled or empty.[=0x000A=][=0x000A=]Before printing the name of a sodden thing: say [=0x0022=]sodden [=0x0022=]. Understand the sodden property as describing a thing.[=0x000A=][=0x000A=]The player wears a pair of woolly gloves. Instead of wearing a sodden thing: say [=0x0022=]You dubiously contemplate [the noun], and decide it[=0x0027=]s best to wear dry clothing.[=0x0022=][=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]follow the liquid distribution rules.[=0x000A=][=0x000A=]The liquid distribution rules is a rulebook.[=0x000A=][=0x000A=]A liquid distribution rule:[=0x000A=][=0x0009=]repeat with item running through containers:[=0x000A=][=0x0009=][=0x0009=]if the item is open and the item is empty and the item is in a waterfilled container:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is waterfilled;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the player can see the item, say [=0x0022=][The item] fills up with water, of course.[=0x0022=].[=0x000A=][=0x000A=]A liquid distribution rule:[=0x000A=][=0x0009=]repeat with item running through things in a waterfilled container:[=0x000A=][=0x0009=][=0x0009=]if the item is porous and the item is dry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the player can see the item, say [=0x0022=][The item] soaks through.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is sodden.[=0x000A=][=0x000A=]A liquid distribution rule:[=0x000A=][=0x0009=]repeat with item running through sodden things in the airing cupboard:[=0x000A=][=0x0009=][=0x0009=]if the item is not The Last Man, now the item is dry.[=0x000A=][=0x000A=]The last liquid distribution rule:[=0x000A=][=0x0009=]if the player carries a dry copy of The Last Man, end the story finally.[=0x000A=][=0x000A=]Instead of examining a waterfilled container:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].[=0x0022=][=0x000A=][=0x000A=]Instead of examining a container:[=0x000A=][=0x0009=]say [=0x0022=]Dry inside[if the noun contains something visible], and containing [a list of things in the noun].[=0x0022=][=0x000A=][=0x000A=]A book is a kind of thing. Instead of examining a sodden book, say [=0x0022=][The noun] is too soaked to read, thanks to someone[=0x0027=]s carelessness.[=0x0022=] Understand [=0x0022=]book[=0x0022=] as a book.[=0x000A=][=0x000A=]The copy of The Last Man is a book. The description of The Last Man is [=0x0022=]Mary Shelley[=0x0027=]s very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].[=0x0022=] The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.[=0x000A=][=0x000A=]The Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say [=0x0022=]You[=0x0027=]re not fast enough.[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about the pond:[=0x000A=][=0x0009=]if the pond encloses the Last Man:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.[=0x0022=][=0x000A=][=0x000A=]Before printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say [=0x0022=]delicate, valuable [=0x0022=].[=0x000A=][=0x000A=]After printing the name of something (called the target) while writing a paragraph about something:[=0x000A=][=0x0009=]if the Last Man is enclosed by the Pond:[=0x000A=][=0x0009=][=0x0009=]if the target is in something (called the parent), say [=0x0022=] - which is in [the parent][=0x0022=].[=0x000A=][=0x000A=]The Kitchen is west of the Back Garden. [=0x0022=]Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.[=0x000A=][=0x000A=]The nearby stairwell leads up to the second floor.[=0x0022=][=0x000A=][=0x000A=]The Stairwell is above the Kitchen. [=0x0022=]Halfway up and halfway down.[=0x0022=] The airing cupboard is a container in the Stairwell. [=0x0022=]An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.[=0x0022=] The airing cupboard is fixed in place.[=0x000A=][=0x000A=][Now: whenever the player definitely touches something, we want to follow certain rules about the transfer of liquid. These rules need to come after an action[=0x0027=]s check rules (to make sure the action really occurs) and before the carry out rules (so that nothing has moved or changed yet). So we[=0x0027=]ll borrow from the chapter on rulebooks to create a whole new stage to the action, occurring between the check and the carry out phases:][=0x000A=][=0x000A=]The post-check rules are a rulebook.[=0x000A=][=0x000A=]This is the post-check stage rule:[=0x000A=][=0x0009=]abide by the post-check rules.[=0x000A=][=0x000A=]The post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.[=0x000A=][=0x000A=]A post-check rule (this is the dry glove rule):[=0x000A=][=0x0009=]if we get wet:[=0x000A=][=0x0009=][=0x0009=]if the player wears the gloves and the gloves are dry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the gloves are sodden;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=](soaking your gloves in the process)[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]A post-check rule (this is the wet glove rule):[=0x000A=][=0x0009=]if the player wears the sodden gloves:[=0x000A=][=0x0009=][=0x0009=]if the The Last Man must be touched and the Last Man is not sodden:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=](soaking the parched pages of The Last Man with the rude touch of your sodden gloves)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the The Last Man is sodden;[=0x000A=][=0x0009=][=0x0009=]continue the action.[=0x000A=][=0x000A=]Before doing something when the player does not wear the gloves:[=0x000A=][=0x0009=]if The Last Man must be touched:[=0x000A=][=0x0009=][=0x0009=]if The Last Man is dry, say [=0x0022=][The The Last Man] is too precious to endanger when you are not wearing gloves.[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...[=0x0022=].[=0x000A=][=0x000A=]To decide whether we get wet:[=0x000A=][=0x0009=]if the noun is not a thing, no;[=0x000A=][=0x0009=]if the noun dampens us, yes;[=0x000A=][=0x0009=]if the second noun is not a thing, no;[=0x000A=][=0x0009=]if the second noun dampens us, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]To decide whether (item - a thing) dampens us:[=0x000A=][=0x0009=]if the item is not liquiferous, no;[=0x000A=][=0x0009=]if item must be touched, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]To decide whether (item - a thing) must be touched:[=0x000A=][=0x0009=]if the item is the noun and the action requires a touchable noun, yes;[=0x000A=][=0x0009=]if the item is the second noun and the action requires a touchable second noun, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Definition: a thing is liquiferous:[=0x000A=][=0x0009=]if it is sodden, yes;[=0x000A=][=0x0009=]if it is in a waterfilled container, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Test me with [=0x0022=]x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book[=0x0022=].[=0x000A=][=0x000A=]Test disaster with [=0x0022=]open bag[=0x0022=].[=0x000A=][=0x000A=]Test mishandling with [=0x0022=]get bag / open bag / get book[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Frizz&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24096" -->
<a id="c24096"></a><blockquote class="code"><p class="quoted">
A thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24097" -->
<a id="c24097"></a><blockquote class="code"><p class="quoted">
A thing can be sodden or dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24098" -->
<a id="c24098"></a><blockquote class="code"><p class="quoted">
A container can be waterfilled or empty.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24099" -->
<a id="c24099"></a><blockquote class="code"><p class="quoted">
Before printing the name of a sodden thing: say &quot;sodden &quot;. Understand the sodden property as describing a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24100" -->
<a id="c24100"></a><blockquote class="code"><p class="quoted">
The player wears a pair of woolly gloves. Instead of wearing a sodden thing: say &quot;You dubiously contemplate [the noun], and decide it's best to wear dry clothing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24101" -->
<a id="c24101"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the liquid distribution rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24102" -->
<a id="c24102"></a><blockquote class="code"><p class="quoted">
The liquid distribution rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24103" -->
<a id="c24103"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through containers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is open and the item is empty and the item is in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is waterfilled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] fills up with water, of course.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24104" -->
<a id="c24104"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through things in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is porous and the item is dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] soaks through.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is sodden.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24105" -->
<a id="c24105"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through sodden things in the airing cupboard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is not The Last Man, now the item is dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24106" -->
<a id="c24106"></a><blockquote class="code"><p class="quoted">
The last liquid distribution rule:
<br />&#160;&#160;&#160;&#160;if the player carries a dry copy of The Last Man, end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24107" -->
<a id="c24107"></a><blockquote class="code"><p class="quoted">
Instead of examining a waterfilled container:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24108" -->
<a id="c24108"></a><blockquote class="code"><p class="quoted">
Instead of examining a container:
<br />&#160;&#160;&#160;&#160;say &quot;Dry inside[if the noun contains something visible], and containing [a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24109" -->
<a id="c24109"></a><blockquote class="code"><p class="quoted">
A book is a kind of thing. Instead of examining a sodden book, say &quot;[The noun] is too soaked to read, thanks to someone's carelessness.&quot; Understand &quot;book&quot; as a book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24110" -->
<a id="c24110"></a><blockquote class="code"><p class="quoted">
The copy of The Last Man is a book. The description of The Last Man is &quot;Mary Shelley's very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].&quot; The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24111" -->
<a id="c24111"></a><blockquote class="code"><p class="quoted">
The Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say &quot;You're not fast enough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24112" -->
<a id="c24112"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the pond:
<br />&#160;&#160;&#160;&#160;if the pond encloses the Last Man:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24113" -->
<a id="c24113"></a><blockquote class="code"><p class="quoted">
Before printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say &quot;delicate, valuable &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24114" -->
<a id="c24114"></a><blockquote class="code"><p class="quoted">
After printing the name of something (called the target) while writing a paragraph about something:
<br />&#160;&#160;&#160;&#160;if the Last Man is enclosed by the Pond:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the target is in something (called the parent), say &quot; - which is in [the parent]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24115" -->
<a id="c24115"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Back Garden. &quot;Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24116" -->
<a id="c24116"></a><blockquote class="code"><p class="quoted">
The nearby stairwell leads up to the second floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24117" -->
<a id="c24117"></a><blockquote class="code"><p class="quoted">
The Stairwell is above the Kitchen. &quot;Halfway up and halfway down.&quot; The airing cupboard is a container in the Stairwell. &quot;An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.&quot; The airing cupboard is fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>Now: whenever the player definitely touches something, we want to follow certain rules about the transfer of liquid. These rules need to come after an action's check rules (to make sure the action really occurs) and before the carry out rules (so that nothing has moved or changed yet). So we'll borrow from the chapter on rulebooks to create a whole new stage to the action, occurring between the check and the carry out phases:</p>
<!-- START CODE "c24118" -->
<a id="c24118"></a><blockquote class="code"><p class="quoted">
The post-check rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24119" -->
<a id="c24119"></a><blockquote class="code"><p class="quoted">
This is the post-check stage rule:
<br />&#160;&#160;&#160;&#160;abide by the post-check rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24120" -->
<a id="c24120"></a><blockquote class="code"><p class="quoted">
The post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24121" -->
<a id="c24121"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the dry glove rule):
<br />&#160;&#160;&#160;&#160;if we get wet:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player wears the gloves and the gloves are dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the gloves are sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking your gloves in the process)&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24122" -->
<a id="c24122"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the wet glove rule):
<br />&#160;&#160;&#160;&#160;if the player wears the sodden gloves:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the The Last Man must be touched and the Last Man is not sodden:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking the parched pages of The Last Man with the rude touch of your sodden gloves)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the The Last Man is sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24123" -->
<a id="c24123"></a><blockquote class="code"><p class="quoted">
Before doing something when the player does not wear the gloves:
<br />&#160;&#160;&#160;&#160;if The Last Man must be touched:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if The Last Man is dry, say &quot;[The The Last Man] is too precious to endanger when you are not wearing gloves.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24124" -->
<a id="c24124"></a><blockquote class="code"><p class="quoted">
To decide whether we get wet:
<br />&#160;&#160;&#160;&#160;if the noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;if the second noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the second noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24125" -->
<a id="c24125"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) dampens us:
<br />&#160;&#160;&#160;&#160;if the item is not liquiferous, no;
<br />&#160;&#160;&#160;&#160;if item must be touched, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24126" -->
<a id="c24126"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) must be touched:
<br />&#160;&#160;&#160;&#160;if the item is the noun and the action requires a touchable noun, yes;
<br />&#160;&#160;&#160;&#160;if the item is the second noun and the action requires a touchable second noun, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24127" -->
<a id="c24127"></a><blockquote class="code"><p class="quoted">
Definition: a thing is liquiferous:
<br />&#160;&#160;&#160;&#160;if it is sodden, yes;
<br />&#160;&#160;&#160;&#160;if it is in a waterfilled container, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24128" -->
<a id="c24128"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24129" -->
<a id="c24129"></a><blockquote class="code"><p class="quoted">
Test disaster with &quot;open bag&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24130" -->
<a id="c24130"></a><blockquote class="code"><p class="quoted">
Test mishandling with &quot;get bag / open bag / get book&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10_2.html#e8" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Frizz</span></b></a><br />Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example8">
<p>Suppose we have some items that get wet in contact with other damp things; in particular, if we touch anything wet while wearing a pair of gloves, the gloves too get damp. This requires that we be systematic about detecting all cases where contact occurs. So:</p>
<!-- START CODE "c24131" -->
<a id="c24131"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Frizz[=0x0022=][=0x000A=][=0x000A=]A thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.[=0x000A=][=0x000A=]A thing can be sodden or dry.[=0x000A=][=0x000A=]A container can be waterfilled or empty.[=0x000A=][=0x000A=]Before printing the name of a sodden thing: say [=0x0022=]sodden [=0x0022=]. Understand the sodden property as describing a thing.[=0x000A=][=0x000A=]The player wears a pair of woolly gloves. Instead of wearing a sodden thing: say [=0x0022=]You dubiously contemplate [the noun], and decide it[=0x0027=]s best to wear dry clothing.[=0x0022=][=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]follow the liquid distribution rules.[=0x000A=][=0x000A=]The liquid distribution rules is a rulebook.[=0x000A=][=0x000A=]A liquid distribution rule:[=0x000A=][=0x0009=]repeat with item running through containers:[=0x000A=][=0x0009=][=0x0009=]if the item is open and the item is empty and the item is in a waterfilled container:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is waterfilled;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the player can see the item, say [=0x0022=][The item] fills up with water, of course.[=0x0022=].[=0x000A=][=0x000A=]A liquid distribution rule:[=0x000A=][=0x0009=]repeat with item running through things in a waterfilled container:[=0x000A=][=0x0009=][=0x0009=]if the item is porous and the item is dry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the player can see the item, say [=0x0022=][The item] soaks through.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is sodden.[=0x000A=][=0x000A=]A liquid distribution rule:[=0x000A=][=0x0009=]repeat with item running through sodden things in the airing cupboard:[=0x000A=][=0x0009=][=0x0009=]if the item is not The Last Man, now the item is dry.[=0x000A=][=0x000A=]The last liquid distribution rule:[=0x000A=][=0x0009=]if the player carries a dry copy of The Last Man, end the story finally.[=0x000A=][=0x000A=]Instead of examining a waterfilled container:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].[=0x0022=][=0x000A=][=0x000A=]Instead of examining a container:[=0x000A=][=0x0009=]say [=0x0022=]Dry inside[if the noun contains something visible], and containing [a list of things in the noun].[=0x0022=][=0x000A=][=0x000A=]A book is a kind of thing. Instead of examining a sodden book, say [=0x0022=][The noun] is too soaked to read, thanks to someone[=0x0027=]s carelessness.[=0x0022=] Understand [=0x0022=]book[=0x0022=] as a book.[=0x000A=][=0x000A=]The copy of The Last Man is a book. The description of The Last Man is [=0x0022=]Mary Shelley[=0x0027=]s very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].[=0x0022=] The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.[=0x000A=][=0x000A=]The Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say [=0x0022=]You[=0x0027=]re not fast enough.[=0x0022=][=0x000A=][=0x000A=]Rule for writing a paragraph about the pond:[=0x000A=][=0x0009=]if the pond encloses the Last Man:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.[=0x0022=][=0x000A=][=0x000A=]Before printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say [=0x0022=]delicate, valuable [=0x0022=].[=0x000A=][=0x000A=]After printing the name of something (called the target) while writing a paragraph about something:[=0x000A=][=0x0009=]if the Last Man is enclosed by the Pond:[=0x000A=][=0x0009=][=0x0009=]if the target is in something (called the parent), say [=0x0022=] - which is in [the parent][=0x0022=].[=0x000A=][=0x000A=]The Kitchen is west of the Back Garden. [=0x0022=]Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.[=0x000A=][=0x000A=]The nearby stairwell leads up to the second floor.[=0x0022=][=0x000A=][=0x000A=]The Stairwell is above the Kitchen. [=0x0022=]Halfway up and halfway down.[=0x0022=] The airing cupboard is a container in the Stairwell. [=0x0022=]An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.[=0x0022=] The airing cupboard is fixed in place.[=0x000A=][=0x000A=][Now: whenever the player definitely touches something, we want to follow certain rules about the transfer of liquid. These rules need to come after an action[=0x0027=]s check rules (to make sure the action really occurs) and before the carry out rules (so that nothing has moved or changed yet). So we[=0x0027=]ll borrow from the chapter on rulebooks to create a whole new stage to the action, occurring between the check and the carry out phases:][=0x000A=][=0x000A=]The post-check rules are a rulebook.[=0x000A=][=0x000A=]This is the post-check stage rule:[=0x000A=][=0x0009=]abide by the post-check rules.[=0x000A=][=0x000A=]The post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.[=0x000A=][=0x000A=]A post-check rule (this is the dry glove rule):[=0x000A=][=0x0009=]if we get wet:[=0x000A=][=0x0009=][=0x0009=]if the player wears the gloves and the gloves are dry:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the gloves are sodden;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=](soaking your gloves in the process)[=0x0022=];[=0x000A=][=0x0009=]continue the action.[=0x000A=][=0x000A=]A post-check rule (this is the wet glove rule):[=0x000A=][=0x0009=]if the player wears the sodden gloves:[=0x000A=][=0x0009=][=0x0009=]if the The Last Man must be touched and the Last Man is not sodden:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=](soaking the parched pages of The Last Man with the rude touch of your sodden gloves)[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the The Last Man is sodden;[=0x000A=][=0x0009=][=0x0009=]continue the action.[=0x000A=][=0x000A=]Before doing something when the player does not wear the gloves:[=0x000A=][=0x0009=]if The Last Man must be touched:[=0x000A=][=0x0009=][=0x0009=]if The Last Man is dry, say [=0x0022=][The The Last Man] is too precious to endanger when you are not wearing gloves.[=0x0022=] instead;[=0x000A=][=0x0009=][=0x0009=]otherwise say [=0x0022=]You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...[=0x0022=].[=0x000A=][=0x000A=]To decide whether we get wet:[=0x000A=][=0x0009=]if the noun is not a thing, no;[=0x000A=][=0x0009=]if the noun dampens us, yes;[=0x000A=][=0x0009=]if the second noun is not a thing, no;[=0x000A=][=0x0009=]if the second noun dampens us, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]To decide whether (item - a thing) dampens us:[=0x000A=][=0x0009=]if the item is not liquiferous, no;[=0x000A=][=0x0009=]if item must be touched, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]To decide whether (item - a thing) must be touched:[=0x000A=][=0x0009=]if the item is the noun and the action requires a touchable noun, yes;[=0x000A=][=0x0009=]if the item is the second noun and the action requires a touchable second noun, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Definition: a thing is liquiferous:[=0x000A=][=0x0009=]if it is sodden, yes;[=0x000A=][=0x0009=]if it is in a waterfilled container, yes;[=0x000A=][=0x0009=]no.[=0x000A=][=0x000A=]Test me with [=0x0022=]x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book[=0x0022=].[=0x000A=][=0x000A=]Test disaster with [=0x0022=]open bag[=0x0022=].[=0x000A=][=0x000A=]Test mishandling with [=0x0022=]get bag / open bag / get book[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Frizz&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24132" -->
<a id="c24132"></a><blockquote class="code"><p class="quoted">
A thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24133" -->
<a id="c24133"></a><blockquote class="code"><p class="quoted">
A thing can be sodden or dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24134" -->
<a id="c24134"></a><blockquote class="code"><p class="quoted">
A container can be waterfilled or empty.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24135" -->
<a id="c24135"></a><blockquote class="code"><p class="quoted">
Before printing the name of a sodden thing: say &quot;sodden &quot;. Understand the sodden property as describing a thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24136" -->
<a id="c24136"></a><blockquote class="code"><p class="quoted">
The player wears a pair of woolly gloves. Instead of wearing a sodden thing: say &quot;You dubiously contemplate [the noun], and decide it's best to wear dry clothing.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24137" -->
<a id="c24137"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;follow the liquid distribution rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24138" -->
<a id="c24138"></a><blockquote class="code"><p class="quoted">
The liquid distribution rules is a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24139" -->
<a id="c24139"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through containers:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is open and the item is empty and the item is in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is waterfilled;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] fills up with water, of course.&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24140" -->
<a id="c24140"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through things in a waterfilled container:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is porous and the item is dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player can see the item, say &quot;[The item] soaks through.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is sodden.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24141" -->
<a id="c24141"></a><blockquote class="code"><p class="quoted">
A liquid distribution rule:
<br />&#160;&#160;&#160;&#160;repeat with item running through sodden things in the airing cupboard:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is not The Last Man, now the item is dry.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24142" -->
<a id="c24142"></a><blockquote class="code"><p class="quoted">
The last liquid distribution rule:
<br />&#160;&#160;&#160;&#160;if the player carries a dry copy of The Last Man, end the story finally.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24143" -->
<a id="c24143"></a><blockquote class="code"><p class="quoted">
Instead of examining a waterfilled container:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24144" -->
<a id="c24144"></a><blockquote class="code"><p class="quoted">
Instead of examining a container:
<br />&#160;&#160;&#160;&#160;say &quot;Dry inside[if the noun contains something visible], and containing [a list of things in the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24145" -->
<a id="c24145"></a><blockquote class="code"><p class="quoted">
A book is a kind of thing. Instead of examining a sodden book, say &quot;[The noun] is too soaked to read, thanks to someone's carelessness.&quot; Understand &quot;book&quot; as a book.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24146" -->
<a id="c24146"></a><blockquote class="code"><p class="quoted">
The copy of The Last Man is a book. The description of The Last Man is &quot;Mary Shelley's very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].&quot; The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24147" -->
<a id="c24147"></a><blockquote class="code"><p class="quoted">
The Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say &quot;You're not fast enough.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24148" -->
<a id="c24148"></a><blockquote class="code"><p class="quoted">
Rule for writing a paragraph about the pond:
<br />&#160;&#160;&#160;&#160;if the pond encloses the Last Man:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24149" -->
<a id="c24149"></a><blockquote class="code"><p class="quoted">
Before printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say &quot;delicate, valuable &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24150" -->
<a id="c24150"></a><blockquote class="code"><p class="quoted">
After printing the name of something (called the target) while writing a paragraph about something:
<br />&#160;&#160;&#160;&#160;if the Last Man is enclosed by the Pond:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the target is in something (called the parent), say &quot; - which is in [the parent]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24151" -->
<a id="c24151"></a><blockquote class="code"><p class="quoted">
The Kitchen is west of the Back Garden. &quot;Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24152" -->
<a id="c24152"></a><blockquote class="code"><p class="quoted">
The nearby stairwell leads up to the second floor.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24153" -->
<a id="c24153"></a><blockquote class="code"><p class="quoted">
The Stairwell is above the Kitchen. &quot;Halfway up and halfway down.&quot; The airing cupboard is a container in the Stairwell. &quot;An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.&quot; The airing cupboard is fixed in place.
</p></blockquote>
<!-- END CODE -->
<p>Now: whenever the player definitely touches something, we want to follow certain rules about the transfer of liquid. These rules need to come after an action's check rules (to make sure the action really occurs) and before the carry out rules (so that nothing has moved or changed yet). So we'll borrow from the chapter on rulebooks to create a whole new stage to the action, occurring between the check and the carry out phases:</p>
<!-- START CODE "c24154" -->
<a id="c24154"></a><blockquote class="code"><p class="quoted">
The post-check rules are a rulebook.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24155" -->
<a id="c24155"></a><blockquote class="code"><p class="quoted">
This is the post-check stage rule:
<br />&#160;&#160;&#160;&#160;abide by the post-check rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24156" -->
<a id="c24156"></a><blockquote class="code"><p class="quoted">
The post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24157" -->
<a id="c24157"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the dry glove rule):
<br />&#160;&#160;&#160;&#160;if we get wet:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the player wears the gloves and the gloves are dry:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the gloves are sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking your gloves in the process)&quot;;
<br />&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24158" -->
<a id="c24158"></a><blockquote class="code"><p class="quoted">
A post-check rule (this is the wet glove rule):
<br />&#160;&#160;&#160;&#160;if the player wears the sodden gloves:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the The Last Man must be touched and the Last Man is not sodden:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;(soaking the parched pages of The Last Man with the rude touch of your sodden gloves)&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the The Last Man is sodden;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;continue the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24159" -->
<a id="c24159"></a><blockquote class="code"><p class="quoted">
Before doing something when the player does not wear the gloves:
<br />&#160;&#160;&#160;&#160;if The Last Man must be touched:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if The Last Man is dry, say &quot;[The The Last Man] is too precious to endanger when you are not wearing gloves.&quot; instead;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24160" -->
<a id="c24160"></a><blockquote class="code"><p class="quoted">
To decide whether we get wet:
<br />&#160;&#160;&#160;&#160;if the noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;if the second noun is not a thing, no;
<br />&#160;&#160;&#160;&#160;if the second noun dampens us, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24161" -->
<a id="c24161"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) dampens us:
<br />&#160;&#160;&#160;&#160;if the item is not liquiferous, no;
<br />&#160;&#160;&#160;&#160;if item must be touched, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24162" -->
<a id="c24162"></a><blockquote class="code"><p class="quoted">
To decide whether (item - a thing) must be touched:
<br />&#160;&#160;&#160;&#160;if the item is the noun and the action requires a touchable noun, yes;
<br />&#160;&#160;&#160;&#160;if the item is the second noun and the action requires a touchable second noun, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24163" -->
<a id="c24163"></a><blockquote class="code"><p class="quoted">
Definition: a thing is liquiferous:
<br />&#160;&#160;&#160;&#160;if it is sodden, yes;
<br />&#160;&#160;&#160;&#160;if it is in a waterfilled container, yes;
<br />&#160;&#160;&#160;&#160;no.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24164" -->
<a id="c24164"></a><blockquote class="code"><p class="quoted">
Test me with &quot;x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24165" -->
<a id="c24165"></a><blockquote class="code"><p class="quoted">
Test disaster with &quot;open bag&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24166" -->
<a id="c24166"></a><blockquote class="code"><p class="quoted">
Test mishandling with &quot;get bag / open bag / get book&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex8.html#e8"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e323"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex323.html#e323" class="eglink"><b>193</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex323.html#e323" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">3 AM</span></b></a><br />A shake command which agitates soda and makes items thump around in boxes.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex323.html#e323"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e58"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex58.html#e58" class="eglink"><b>266</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex58.html#e58" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Savannah</span></b></a><br />Using the liquid implementation demonstrated in Lemonade for putting out fires.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex58.html#e58"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e85"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex85.html#e85" class="eglink"><b>267</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex85.html#e85" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lemonade</span></b></a><br />Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex85.html#e85"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e357"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex357.html#e357" class="eglink"><b>276</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex357.html#e357" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Noisy Cricket</span></b></a><br />Implementing liquids that can be mixed, and the components automatically recognized as matching one recipe or another.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex357.html#e357"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e254"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex254.html#e254" class="eglink"><b>333</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex254.html#e254" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Lakeside Living</span></b></a><br />Similar to "Lemonade", but with bodies of liquid that can never be depleted, and some adjustments to the "fill" command so that it will automatically attempt to fill from a large liquid source if possible.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex254.html#e254"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
