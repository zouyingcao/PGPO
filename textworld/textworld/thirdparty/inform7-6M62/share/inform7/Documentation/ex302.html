<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>18.29. Deciding the scope of something</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง18.29. Deciding the scope of something</p>
<p><span class="boldface">1. When it happens.</span> &quot;Scope&quot; is a term of art in interactive fiction programming: it means the collection of things which can be interacted with at any given moment, which depends on who you are and where you are. Commands typed by the player will only be allowed to go forward into actions if the things they refer to are &quot;in scope&quot;. Inform also needs to determine scope at other times, too: for instance, when deciding whether a rule conditional on being &quot;in the presence of&quot; something is valid. It is a bad idea to say anything during this activity.</p>
<p><span class="boldface">2. The default behaviour.</span> Is complicated: see the Inform Designer's Manual, 4th edition, page 227. Briefly, the scope for someone consists of everything in the same place as them, unless it is dark.</p>
<p><span class="boldface">3. Examples.</span> (a) We very rarely want to forbid the player to refer to things close at hand, but often want to allow references to distant ones. For instance, a mirage of something which is not present at all:</p>
<!-- START CODE "c1535" -->
<a id="c1535"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while in the Shrine: place the holy grail in scope.
</p></blockquote>
<!-- END CODE -->
<p>Two different phrases enable us to place unusual items in scope:</p>
<!-- START PHRASE "defn262" -->
<div class="definition"><a id="defn262"></a><p class="defnprototype"><b>place </b>(object)<b> in scope</b></p>
<!-- END PHRASE -->
<!-- definition of ph_placeinscope -->

<p>This phrase should only be used in rules for the &quot;deciding the scope of...&quot; activity. It places the given object in scope, making it accessible to the player's commands, regardless of where it is in the model world. Examples:</p>
<!-- START CODE "c1536" -->
<a id="c1536"></a><blockquote class="code"><p class="quoted">
place the distant volcano in scope;
<br />place the lacquered box in scope, but not its contents;
</p></blockquote>
<!-- END CODE -->
<p>Ordinarily if something is placed in scope, then so are its parts and (in the case of a supporter or a transparent or open container) its contents; using the &quot;but not its contents&quot; option we can place just the box itself in scope.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn263" -->
<div class="definition"><a id="defn263"></a><p class="defnprototype"><b>place the</b>/--<b> contents of </b>(object)<b> in scope</b></p>
<!-- END PHRASE -->
<!-- definition of ph_placecontentsinscope -->

<p>This phrase should only be used in rules for the &quot;deciding the scope of...&quot; activity. It places the things inside or on top of the given object in scope, making them accessible to the player's commands, but it does nothing to place the object itself in scope. (It might of course be in scope anyway, and if it is then this phrase won't remove it.) Example:</p>
<!-- START CODE "c1537" -->
<a id="c1537"></a><blockquote class="code"><p class="quoted">
place the contents of the lacquered box in scope;
<br />place the contents of the Marbled Steps in scope;
</p></blockquote>
<!-- END CODE -->
<p>Note that the object in question can be a room, as in this second example.</p>

<!-- end definition -->
</div>

<p>(b) Another useful device is to be able to see, but not touch, another room:</p>
<!-- START CODE "c1538" -->
<a id="c1538"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('The Cloakroom is a room. [=0x0022=]This is just a cloakroom, but through a vague, misty mirror-window you can make out the Beyond.[=0x0022=] After looking in the Cloakroom, say [=0x0022=]In the mirror you can see [list of things in the Beyond].[=0x0022=][=0x000A=][=0x000A=]After deciding the scope of the player while in the Cloakroom: place the Beyond in scope.[=0x000A=][=0x000A=]The Beyond is a room. Johnny Depp is a man in the Beyond.[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> The Cloakroom is a room. &quot;This is just a cloakroom, but through a vague, misty mirror-window you can make out the Beyond.&quot; After looking in the Cloakroom, say &quot;In the mirror you can see [list of things in the Beyond].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1539" -->
<a id="c1539"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while in the Cloakroom: place the Beyond in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c1540" -->
<a id="c1540"></a><blockquote class="code"><p class="quoted">
The Beyond is a room. Johnny Depp is a man in the Beyond.
</p></blockquote>
<!-- END CODE -->
<p>(This must, however, also be a mirage, as at time of writing Mr Depp is alive and as well as can be expected following the reviews of &quot;Charlie and the Chocolate Factory&quot;.) Note that &quot;place the Ballroom in scope&quot; doesn't just allow the player to talk about the dancers, the chamber musicians and so forth, also allows, say, &quot;EXAMINE BALLROOM&quot;. To get one but not the other, use &quot;place the contents of the Ballroom in scope&quot; or &quot;place the Ballroom in scope, but not its contents&quot;.</p>
<p>(c) In darkness, the scope of someone is ordinarily restricted to his or her possessions (and body), but we can override that:</p>
<!-- START CODE "c1541" -->
<a id="c1541"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player while in darkness: place the location in scope.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">4. A note about actions.</span> This activity takes place during the process of understanding the player's command, when the action that will take place is not fully known. So if the player types &quot;TAKE SHOEBOX&quot;, this activity would happen when SHOEBOX is being examined for meaning. Inform knows the action it would be taking if the current line of command grammar were to be accepted, but it does not yet know to what objects that command would be applied. That means attaching a proviso like &quot;... while taking a container&quot; to a rule for this activity will cause the rule to have no effect - whereas &quot;... while taking&quot; would be fine.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_18_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_18_1.html" class="standardlink">Start of Chapter 18: Activities</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_28.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_18_28.html" class="standardlink">Back to ยง18.28. Printing a locale paragraph about</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_18_30.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_18_30.html" class="standardlink">Onward to ยง18.30. Clarifying the parser's choice of something</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e144"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex144.html#e144" class="eglink"><b>363</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex144.html#e144" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Peeled</span></b></a><br />Two different approaches to adjusting what the player can interact with, compared.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex144.html#e144"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e193"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex193.html#e193" class="eglink"><b>364</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex193.html#e193" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Four Stars 2</span></b></a><br />Using "deciding the scope" to change the content of lists such as "the list of audible things which can be touched by the player".</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex193.html#e193"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e302"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_18_29.html#e302" class="eglink"><b>365</b></a></div>
<div class="egpanel" id="example302">
<p>A map of linked rooms works well for modeling enclosed or indoor space, and somewhat less well for modeling large open spaces, where a person should reasonably be able to see things which are much too far away to touch. With some modifications to scoping, though, we can create an environment where objects in nearby rooms are described and viewable, and where the player will automatically move towards distant items before interacting with them physically.</p>
<!-- START CODE "c15883" -->
<a id="c15883"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Rock Garden[=0x0022=][=0x000A=][=0x000A=]Section 1 - General Rules[=0x000A=][=0x000A=]Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.[=0x000A=][=0x000A=]Definition: a room is inter-visible if it is connected with more than one room.[=0x000A=][=0x000A=]After deciding the scope of the player when the location is an inter-visible room:[=0x000A=][=0x0009=]repeat with other place running through rooms which are connected with the location:[=0x000A=][=0x0009=][=0x0009=]unless the other place is the location, place the other place in scope.[=0x000A=][=0x000A=]Rule for reaching inside a room (called target) which is connected with the location:[=0x000A=][=0x0009=]let way be the best route from the location to the target;[=0x000A=][=0x0009=]if the way is not a direction:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t get over to [the target] from here.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]deny access;[=0x000A=][=0x0009=]say [=0x0022=](first heading [way])[command clarification break][=0x0022=];[=0x000A=][=0x0009=]try going way;[=0x000A=][=0x0009=]if the player is in the target, allow access;[=0x000A=][=0x0009=]otherwise deny access.[=0x000A=][=0x000A=]After looking when the location is an inter-visible room:[=0x000A=][=0x0009=]repeat with other place running through rooms which are connected with the location:[=0x000A=][=0x0009=][=0x0009=]if the other place is not the location, describe locale for other place.[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.[=0x000A=][=0x000A=]Rock Garden West is connected with Rock Garden East.[=0x000A=][=0x000A=]Test me with [=0x0022=]get rake / drop rake / sit on bench / get rake[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Rock Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15884" -->
<a id="c15884"></a><blockquote class="code"><p class="quoted">
Section 1 - General Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15885" -->
<a id="c15885"></a><blockquote class="code"><p class="quoted">
Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15886" -->
<a id="c15886"></a><blockquote class="code"><p class="quoted">
Definition: a room is inter-visible if it is connected with more than one room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15887" -->
<a id="c15887"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the other place is the location, place the other place in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15888" -->
<a id="c15888"></a><blockquote class="code"><p class="quoted">
Rule for reaching inside a room (called target) which is connected with the location:
<br />&#160;&#160;&#160;&#160;let way be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;if the way is not a direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't get over to [the target] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;say &quot;(first heading [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;try going way;
<br />&#160;&#160;&#160;&#160;if the player is in the target, allow access;
<br />&#160;&#160;&#160;&#160;otherwise deny access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15889" -->
<a id="c15889"></a><blockquote class="code"><p class="quoted">
After looking when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the other place is not the location, describe locale for other place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15890" -->
<a id="c15890"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15891" -->
<a id="c15891"></a><blockquote class="code"><p class="quoted">
Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15892" -->
<a id="c15892"></a><blockquote class="code"><p class="quoted">
Rock Garden West is connected with Rock Garden East.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15893" -->
<a id="c15893"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get rake / drop rake / sit on bench / get rake&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_18_29.html#e302" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Rock Garden</span></b></a><br />A simple open landscape where the player can see between rooms and will automatically move to touch things in distant rooms.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example302">
<p>A map of linked rooms works well for modeling enclosed or indoor space, and somewhat less well for modeling large open spaces, where a person should reasonably be able to see things which are much too far away to touch. With some modifications to scoping, though, we can create an environment where objects in nearby rooms are described and viewable, and where the player will automatically move towards distant items before interacting with them physically.</p>
<!-- START CODE "c15894" -->
<a id="c15894"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Rock Garden[=0x0022=][=0x000A=][=0x000A=]Section 1 - General Rules[=0x000A=][=0x000A=]Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.[=0x000A=][=0x000A=]Definition: a room is inter-visible if it is connected with more than one room.[=0x000A=][=0x000A=]After deciding the scope of the player when the location is an inter-visible room:[=0x000A=][=0x0009=]repeat with other place running through rooms which are connected with the location:[=0x000A=][=0x0009=][=0x0009=]unless the other place is the location, place the other place in scope.[=0x000A=][=0x000A=]Rule for reaching inside a room (called target) which is connected with the location:[=0x000A=][=0x0009=]let way be the best route from the location to the target;[=0x000A=][=0x0009=]if the way is not a direction:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t get over to [the target] from here.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]deny access;[=0x000A=][=0x0009=]say [=0x0022=](first heading [way])[command clarification break][=0x0022=];[=0x000A=][=0x0009=]try going way;[=0x000A=][=0x0009=]if the player is in the target, allow access;[=0x000A=][=0x0009=]otherwise deny access.[=0x000A=][=0x000A=]After looking when the location is an inter-visible room:[=0x000A=][=0x0009=]repeat with other place running through rooms which are connected with the location:[=0x000A=][=0x0009=][=0x0009=]if the other place is not the location, describe locale for other place.[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.[=0x000A=][=0x000A=]Rock Garden West is connected with Rock Garden East.[=0x000A=][=0x000A=]Test me with [=0x0022=]get rake / drop rake / sit on bench / get rake[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Rock Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15895" -->
<a id="c15895"></a><blockquote class="code"><p class="quoted">
Section 1 - General Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15896" -->
<a id="c15896"></a><blockquote class="code"><p class="quoted">
Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15897" -->
<a id="c15897"></a><blockquote class="code"><p class="quoted">
Definition: a room is inter-visible if it is connected with more than one room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15898" -->
<a id="c15898"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the other place is the location, place the other place in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15899" -->
<a id="c15899"></a><blockquote class="code"><p class="quoted">
Rule for reaching inside a room (called target) which is connected with the location:
<br />&#160;&#160;&#160;&#160;let way be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;if the way is not a direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't get over to [the target] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;say &quot;(first heading [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;try going way;
<br />&#160;&#160;&#160;&#160;if the player is in the target, allow access;
<br />&#160;&#160;&#160;&#160;otherwise deny access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15900" -->
<a id="c15900"></a><blockquote class="code"><p class="quoted">
After looking when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the other place is not the location, describe locale for other place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15901" -->
<a id="c15901"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15902" -->
<a id="c15902"></a><blockquote class="code"><p class="quoted">
Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15903" -->
<a id="c15903"></a><blockquote class="code"><p class="quoted">
Rock Garden West is connected with Rock Garden East.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15904" -->
<a id="c15904"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get rake / drop rake / sit on bench / get rake&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex302.html#e302"><i>RB</i></a></div>
<div class="egpanel" id="example302">
<p>A map of linked rooms works well for modeling enclosed or indoor space, and somewhat less well for modeling large open spaces, where a person should reasonably be able to see things which are much too far away to touch. With some modifications to scoping, though, we can create an environment where objects in nearby rooms are described and viewable, and where the player will automatically move towards distant items before interacting with them physically.</p>
<!-- START CODE "c15905" -->
<a id="c15905"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Rock Garden[=0x0022=][=0x000A=][=0x000A=]Section 1 - General Rules[=0x000A=][=0x000A=]Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.[=0x000A=][=0x000A=]Definition: a room is inter-visible if it is connected with more than one room.[=0x000A=][=0x000A=]After deciding the scope of the player when the location is an inter-visible room:[=0x000A=][=0x0009=]repeat with other place running through rooms which are connected with the location:[=0x000A=][=0x0009=][=0x0009=]unless the other place is the location, place the other place in scope.[=0x000A=][=0x000A=]Rule for reaching inside a room (called target) which is connected with the location:[=0x000A=][=0x0009=]let way be the best route from the location to the target;[=0x000A=][=0x0009=]if the way is not a direction:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You can[=0x0027=]t get over to [the target] from here.[=0x0022=];[=0x000A=][=0x0009=][=0x0009=]deny access;[=0x000A=][=0x0009=]say [=0x0022=](first heading [way])[command clarification break][=0x0022=];[=0x000A=][=0x0009=]try going way;[=0x000A=][=0x0009=]if the player is in the target, allow access;[=0x000A=][=0x0009=]otherwise deny access.[=0x000A=][=0x000A=]After looking when the location is an inter-visible room:[=0x000A=][=0x0009=]repeat with other place running through rooms which are connected with the location:[=0x000A=][=0x0009=][=0x0009=]if the other place is not the location, describe locale for other place.[=0x000A=][=0x000A=]Section 2 - The Scenario[=0x000A=][=0x000A=]Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.[=0x000A=][=0x000A=]Rock Garden West is connected with Rock Garden East.[=0x000A=][=0x000A=]Test me with [=0x0022=]get rake / drop rake / sit on bench / get rake[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Rock Garden&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15906" -->
<a id="c15906"></a><blockquote class="code"><p class="quoted">
Section 1 - General Rules
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15907" -->
<a id="c15907"></a><blockquote class="code"><p class="quoted">
Intervisibility relates rooms to each other in groups. The verb to be connected with means the intervisibility relation.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15908" -->
<a id="c15908"></a><blockquote class="code"><p class="quoted">
Definition: a room is inter-visible if it is connected with more than one room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15909" -->
<a id="c15909"></a><blockquote class="code"><p class="quoted">
After deciding the scope of the player when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;unless the other place is the location, place the other place in scope.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15910" -->
<a id="c15910"></a><blockquote class="code"><p class="quoted">
Rule for reaching inside a room (called target) which is connected with the location:
<br />&#160;&#160;&#160;&#160;let way be the best route from the location to the target;
<br />&#160;&#160;&#160;&#160;if the way is not a direction:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You can't get over to [the target] from here.&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;deny access;
<br />&#160;&#160;&#160;&#160;say &quot;(first heading [way])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;try going way;
<br />&#160;&#160;&#160;&#160;if the player is in the target, allow access;
<br />&#160;&#160;&#160;&#160;otherwise deny access.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15911" -->
<a id="c15911"></a><blockquote class="code"><p class="quoted">
After looking when the location is an inter-visible room:
<br />&#160;&#160;&#160;&#160;repeat with other place running through rooms which are connected with the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the other place is not the location, describe locale for other place.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15912" -->
<a id="c15912"></a><blockquote class="code"><p class="quoted">
Section 2 - The Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15913" -->
<a id="c15913"></a><blockquote class="code"><p class="quoted">
Rock Garden West is west of Rock Garden East. Rock Garden East contains a rake. Rock Garden West contains a bench and a maple leaf. The bench is an enterable supporter.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15914" -->
<a id="c15914"></a><blockquote class="code"><p class="quoted">
Rock Garden West is connected with Rock Garden East.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c15915" -->
<a id="c15915"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get rake / drop rake / sit on bench / get rake&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<a id="e407"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex407.html#e407" class="eglink"><b>366</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex407.html#e407" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Ginger Beer</span></b></a><br />A portable magic telescope which allows the player to view items in another room of his choice.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex407.html#e407"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e338"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex338.html#e338" class="eglink"><b>367</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex338.html#e338" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Stately Gardens</span></b></a><br />An open landscape where the player can see landmarks in nearby areas, with somewhat more complex room descriptions than the previous example, and in which we also account for size differences between things seen at a distance.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex338.html#e338"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
