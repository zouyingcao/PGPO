<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>17.2. New commands for old grammar</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง17.2. New commands for old grammar</p>
<p>In the photography example, we are providing entirely new grammar for an action  not ordinarily built in to Inform. But we often want simply to provide alternative grammar for existing actions, or even to put new interpretations on commands that Inform already recognises. For instance:</p>
<!-- START CODE "c1320" -->
<a id="c1320"></a><blockquote class="code"><p class="quoted">
Understand &quot;deposit [something] in [an open container]&quot; as inserting it into.
</p></blockquote>
<!-- END CODE -->
<p>The inserting action is built in to Inform, but the command &quot;deposit&quot; is not, so this is created as new. It is occasionally useful to put a twist on this:</p>
<!-- START CODE "c1321" -->
<a id="c1321"></a><blockquote class="code"><p class="quoted">
Understand &quot;fill [an open container] with [something]&quot; as inserting it into (with nouns reversed).
</p></blockquote>
<!-- END CODE -->
<p>The clause &quot;(with nouns reversed)&quot; tells Inform to exchange the two nouns parsed, which is necessary because the inserting action expects the noun to be the item and the second noun to be the container, not vice versa.</p>
<p>The following example:</p>
<!-- START CODE "c1322" -->
<a id="c1322"></a><blockquote class="code"><p class="quoted">
Understand &quot;access [something]&quot; as opening.
</p></blockquote>
<!-- END CODE -->
<p>might look as if it makes &quot;access&quot; behave just like &quot;open&quot; when the player types it, but that's not so: &quot;open&quot; can also be used in constructions like &quot;open the door with the brass key&quot;, in which case it is understood as the unlocking action. We could add another line to make &quot;access&quot; behave this way too, but if what we really want is to make &quot;access&quot; behave just like &quot;open&quot;, it's easier simply to say so:</p>
<!-- START CODE "c1323" -->
<a id="c1323"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;access&quot; as &quot;open&quot;.
</p></blockquote>
<!-- END CODE -->
<p>This is very useful when adding a new command which needs synonyms:</p>
<!-- START CODE "c1324" -->
<a id="c1324"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;snap&quot; and &quot;picture&quot; as &quot;photograph&quot;.
</p></blockquote>
<!-- END CODE -->
<p>We can check the current stock of commands by looking at the table in the Actions index: for instance, before making &quot;snap&quot; synonymous with &quot;photograph&quot;, it might be wise to check that it is not already defined as a command for breaking something.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_17_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_17_1.html" class="standardlink">Start of Chapter 17: Understanding</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17_1.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_17_1.html" class="standardlink">Back to ยง17.1. Understand</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_17_3.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_17_3.html" class="standardlink">Onward to ยง17.3. Overriding existing commands</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e166"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_17_2.html#e166" class="eglink"><b>289</b></a></div>
<div class="egpanel" id="example166">
<p>With GET DOWN, we can replace the whole command, which will not interfere with the normal function of the TAKE verb, or allow the player to attempt to GET any other directions:</p>
<!-- START CODE "c9790" -->
<a id="c9790"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Anchorite[=0x0022=][=0x000A=][=0x000A=]The Solitary Place is a room. [=0x0022=]A glittering, shimmering desert without either locusts or honey.[=0x0022=] The pillar is an enterable supporter in the Solitary Place. [=0x0022=]The broken pillar is short enough to climb and sit on.[=0x0022=] The description of the pillar is [=0x0022=]Once it was a monument: a long frieze of battles and lion-hunts spirals up the side, in honor of an earthly king.[=0x0022=] The player is on the pillar.[=0x000A=][=0x000A=]Understand [=0x0022=]get down[=0x0022=] as exiting.[=0x000A=][=0x000A=][This doesn[=0x0027=]t cover the case where the player just types [=0x0022=]DOWN[=0x0022=], and we don[=0x0027=]t want to preempt the normal operation of the GO action here. So instead of writing a new understand instruction, we might catch this one at the action-processing level:][=0x000A=][=0x000A=]Instead of going down when the player is on a supporter:[=0x000A=][=0x0009=]try exiting.[=0x000A=][=0x000A=]Test me with [=0x0022=]down / enter pillar / get down / down / get down[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Anchorite&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9791" -->
<a id="c9791"></a><blockquote class="code"><p class="quoted">
The Solitary Place is a room. &quot;A glittering, shimmering desert without either locusts or honey.&quot; The pillar is an enterable supporter in the Solitary Place. &quot;The broken pillar is short enough to climb and sit on.&quot; The description of the pillar is &quot;Once it was a monument: a long frieze of battles and lion-hunts spirals up the side, in honor of an earthly king.&quot; The player is on the pillar.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9792" -->
<a id="c9792"></a><blockquote class="code"><p class="quoted">
Understand &quot;get down&quot; as exiting.
</p></blockquote>
<!-- END CODE -->
<p>This doesn't cover the case where the player just types &quot;DOWN&quot;, and we don't want to preempt the normal operation of the GO action here. So instead of writing a new understand instruction, we might catch this one at the action-processing level:</p>
<!-- START CODE "c9793" -->
<a id="c9793"></a><blockquote class="code"><p class="quoted">
Instead of going down when the player is on a supporter:
<br />&#160;&#160;&#160;&#160;try exiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9794" -->
<a id="c9794"></a><blockquote class="code"><p class="quoted">
Test me with &quot;down / enter pillar / get down / down / get down&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_17_2.html#e166" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Anchorite</span></b></a><br />By default, Inform understands GET OFF, GET UP, or GET OUT when the player is sitting or standing on an enterable object. We might also want to add GET DOWN and DOWN as exit commands, though.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example166">
<p>With GET DOWN, we can replace the whole command, which will not interfere with the normal function of the TAKE verb, or allow the player to attempt to GET any other directions:</p>
<!-- START CODE "c9795" -->
<a id="c9795"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Anchorite[=0x0022=][=0x000A=][=0x000A=]The Solitary Place is a room. [=0x0022=]A glittering, shimmering desert without either locusts or honey.[=0x0022=] The pillar is an enterable supporter in the Solitary Place. [=0x0022=]The broken pillar is short enough to climb and sit on.[=0x0022=] The description of the pillar is [=0x0022=]Once it was a monument: a long frieze of battles and lion-hunts spirals up the side, in honor of an earthly king.[=0x0022=] The player is on the pillar.[=0x000A=][=0x000A=]Understand [=0x0022=]get down[=0x0022=] as exiting.[=0x000A=][=0x000A=][This doesn[=0x0027=]t cover the case where the player just types [=0x0022=]DOWN[=0x0022=], and we don[=0x0027=]t want to preempt the normal operation of the GO action here. So instead of writing a new understand instruction, we might catch this one at the action-processing level:][=0x000A=][=0x000A=]Instead of going down when the player is on a supporter:[=0x000A=][=0x0009=]try exiting.[=0x000A=][=0x000A=]Test me with [=0x0022=]down / enter pillar / get down / down / get down[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Anchorite&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9796" -->
<a id="c9796"></a><blockquote class="code"><p class="quoted">
The Solitary Place is a room. &quot;A glittering, shimmering desert without either locusts or honey.&quot; The pillar is an enterable supporter in the Solitary Place. &quot;The broken pillar is short enough to climb and sit on.&quot; The description of the pillar is &quot;Once it was a monument: a long frieze of battles and lion-hunts spirals up the side, in honor of an earthly king.&quot; The player is on the pillar.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9797" -->
<a id="c9797"></a><blockquote class="code"><p class="quoted">
Understand &quot;get down&quot; as exiting.
</p></blockquote>
<!-- END CODE -->
<p>This doesn't cover the case where the player just types &quot;DOWN&quot;, and we don't want to preempt the normal operation of the GO action here. So instead of writing a new understand instruction, we might catch this one at the action-processing level:</p>
<!-- START CODE "c9798" -->
<a id="c9798"></a><blockquote class="code"><p class="quoted">
Instead of going down when the player is on a supporter:
<br />&#160;&#160;&#160;&#160;try exiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9799" -->
<a id="c9799"></a><blockquote class="code"><p class="quoted">
Test me with &quot;down / enter pillar / get down / down / get down&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex166.html#e166"><i>RB</i></a></div>
<div class="egpanel" id="example166">
<p>With GET DOWN, we can replace the whole command, which will not interfere with the normal function of the TAKE verb, or allow the player to attempt to GET any other directions:</p>
<!-- START CODE "c9800" -->
<a id="c9800"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Anchorite[=0x0022=][=0x000A=][=0x000A=]The Solitary Place is a room. [=0x0022=]A glittering, shimmering desert without either locusts or honey.[=0x0022=] The pillar is an enterable supporter in the Solitary Place. [=0x0022=]The broken pillar is short enough to climb and sit on.[=0x0022=] The description of the pillar is [=0x0022=]Once it was a monument: a long frieze of battles and lion-hunts spirals up the side, in honor of an earthly king.[=0x0022=] The player is on the pillar.[=0x000A=][=0x000A=]Understand [=0x0022=]get down[=0x0022=] as exiting.[=0x000A=][=0x000A=][This doesn[=0x0027=]t cover the case where the player just types [=0x0022=]DOWN[=0x0022=], and we don[=0x0027=]t want to preempt the normal operation of the GO action here. So instead of writing a new understand instruction, we might catch this one at the action-processing level:][=0x000A=][=0x000A=]Instead of going down when the player is on a supporter:[=0x000A=][=0x0009=]try exiting.[=0x000A=][=0x000A=]Test me with [=0x0022=]down / enter pillar / get down / down / get down[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Anchorite&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9801" -->
<a id="c9801"></a><blockquote class="code"><p class="quoted">
The Solitary Place is a room. &quot;A glittering, shimmering desert without either locusts or honey.&quot; The pillar is an enterable supporter in the Solitary Place. &quot;The broken pillar is short enough to climb and sit on.&quot; The description of the pillar is &quot;Once it was a monument: a long frieze of battles and lion-hunts spirals up the side, in honor of an earthly king.&quot; The player is on the pillar.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9802" -->
<a id="c9802"></a><blockquote class="code"><p class="quoted">
Understand &quot;get down&quot; as exiting.
</p></blockquote>
<!-- END CODE -->
<p>This doesn't cover the case where the player just types &quot;DOWN&quot;, and we don't want to preempt the normal operation of the GO action here. So instead of writing a new understand instruction, we might catch this one at the action-processing level:</p>
<!-- START CODE "c9803" -->
<a id="c9803"></a><blockquote class="code"><p class="quoted">
Instead of going down when the player is on a supporter:
<br />&#160;&#160;&#160;&#160;try exiting.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c9804" -->
<a id="c9804"></a><blockquote class="code"><p class="quoted">
Test me with &quot;down / enter pillar / get down / down / get down&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<a id="e204"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex204.html#e204" class="eglink"><b>290</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex204.html#e204" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Alpaca Farm</span></b></a><br />A generic USE action which behaves sensibly with a range of different objects.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex204.html#e204"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e213"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex213.html#e213" class="eglink"><b>291</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex213.html#e213" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Cloak of Darkness</span></b></a><br />Implementation of "Cloak of Darkness", a simple example game that for years has been used to demonstrate the features of IF languages.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex213.html#e213"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
