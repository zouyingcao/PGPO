<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.3. Dispensers and Supplies of Small Objects</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง10.3. Dispensers and Supplies of Small Objects</p>
<p>A slightly tricky situation arises in IF when we want to offer the player a simulation of a near-infinite supply of something: a napkin dispenser from which he can keep taking more napkins, or an infinite selection of pebbles on a beach, or something of that nature.</p>
<p>One approach is simply to limit the number of items the player is allowed to pick up at a time, while maintaining the fiction that there are more of these items in existence than the player is allowed to interact with. <span class="boldface">Extra Supplies</span> demonstrates this.</p>
<p>The task becomes harder if we do want to let the player have as many napkins as he wants. In some languages, it is possible to generate new objects on the fly after the story has begun (called &quot;dynamic object creation&quot;), and something like this is possible if we are compiling for Glulx. (See the Inform extensions site for examples.) Usually, though, it is less complicated and almost as effective simply to have a very large supply of existing objects, which are moved in and out of play as the player needs them. <span class="boldface">Pizza Prince</span> demonstrates how to do this with slices of pizza.</p>
<p class="crossreference"><a href="RB_10_6.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Ropes</b></a><i> for an example involving divisible pieces of string, which relies on similar techniques</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_2.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_10_2.html" class="standardlink">Back to ยง10.2. Liquids</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_4.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_10_4.html" class="standardlink">Onward to ยง10.4. Glass and Other Damage-Prone Substances</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e279"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex279.html#e279" class="eglink"><b>378</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex279.html#e279" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pizza Prince</span></b></a><br />Providing a pizza buffet from which the player can take as many pieces as he wants.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex279.html#e279"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e228"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_10_3.html#e228" class="eglink"><b>124</b></a></div>
<div class="egpanel" id="example228">
<p>Suppose we have a supply closet in our game from which the player is allowed to take red pens. To keep modeling simple, we only allow him to have one in play at a time, and we test this by seeing whether the red pen is &quot;off-stage&quot; before moving it to his possession.</p>
<p>This approach might seem no different from having a single red pen sitting in the closet, but it may be preferable, for two reasons. First, it's not very plausible for a supply closet to contain nothing but a single red pen (well, assuming a well-regulated supplier, anyway); and second, it gives the player a way to get a new red pen should the original be destroyed in a tragic handwriting accident.</p>
<!-- START CODE "c30605" -->
<a id="c30605"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Extra Supplies[=0x0022=][=0x000A=][=0x000A=]The Supply Closet is a room. A supply of red pens is in the Supply Closet. Understand [=0x0022=]pen[=0x0022=] as the supply of red pens when the red pen is not visible.[=0x000A=][=0x000A=]There is a red pen.[=0x000A=][=0x000A=]Instead of taking the supply of red pens:[=0x000A=][=0x0009=]if the red pen is off-stage:[=0x000A=][=0x0009=][=0x0009=]move the red pen to the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You help yourself to a fresh red pen.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You[=0x0027=]re only allowed one pen at a time. The department secretary is very strict.[=0x0022=][=0x000A=][=0x000A=]South of the Supply Closet is the Furnace Room. The incinerator is a thing in the Furnace Room. It is a container. [=0x0022=]The incinerator is here, working full blast.[=0x0022=][=0x000A=][=0x000A=]After inserting something into the incinerator:[=0x000A=][=0x0009=]now the noun is nowhere;[=0x000A=][=0x0009=]say [=0x0022=]A fiery blast consumes [the noun]![=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get pen / i / get pen / get supply / s / put pen in incinerator / n / get pen[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Extra Supplies&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30606" -->
<a id="c30606"></a><blockquote class="code"><p class="quoted">
The Supply Closet is a room. A supply of red pens is in the Supply Closet. Understand &quot;pen&quot; as the supply of red pens when the red pen is not visible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30607" -->
<a id="c30607"></a><blockquote class="code"><p class="quoted">
There is a red pen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30608" -->
<a id="c30608"></a><blockquote class="code"><p class="quoted">
Instead of taking the supply of red pens:
<br />&#160;&#160;&#160;&#160;if the red pen is off-stage:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the red pen to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You help yourself to a fresh red pen.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're only allowed one pen at a time. The department secretary is very strict.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30609" -->
<a id="c30609"></a><blockquote class="code"><p class="quoted">
South of the Supply Closet is the Furnace Room. The incinerator is a thing in the Furnace Room. It is a container. &quot;The incinerator is here, working full blast.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30610" -->
<a id="c30610"></a><blockquote class="code"><p class="quoted">
After inserting something into the incinerator:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;A fiery blast consumes [the noun]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30611" -->
<a id="c30611"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get pen / i / get pen / get supply / s / put pen in incinerator / n / get pen&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10_3.html#e228" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Extra Supplies</span></b></a><br />A supply of red pens from which the player can take another pen only if he doesn't already have one somewhere in the game world.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example228">
<p>Suppose we have a supply closet in our game from which the player is allowed to take red pens. To keep modeling simple, we only allow him to have one in play at a time, and we test this by seeing whether the red pen is &quot;off-stage&quot; before moving it to his possession.</p>
<p>This approach might seem no different from having a single red pen sitting in the closet, but it may be preferable, for two reasons. First, it's not very plausible for a supply closet to contain nothing but a single red pen (well, assuming a well-regulated supplier, anyway); and second, it gives the player a way to get a new red pen should the original be destroyed in a tragic handwriting accident.</p>
<!-- START CODE "c30612" -->
<a id="c30612"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Extra Supplies[=0x0022=][=0x000A=][=0x000A=]The Supply Closet is a room. A supply of red pens is in the Supply Closet. Understand [=0x0022=]pen[=0x0022=] as the supply of red pens when the red pen is not visible.[=0x000A=][=0x000A=]There is a red pen.[=0x000A=][=0x000A=]Instead of taking the supply of red pens:[=0x000A=][=0x0009=]if the red pen is off-stage:[=0x000A=][=0x0009=][=0x0009=]move the red pen to the player;[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You help yourself to a fresh red pen.[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=]You[=0x0027=]re only allowed one pen at a time. The department secretary is very strict.[=0x0022=][=0x000A=][=0x000A=]South of the Supply Closet is the Furnace Room. The incinerator is a thing in the Furnace Room. It is a container. [=0x0022=]The incinerator is here, working full blast.[=0x0022=][=0x000A=][=0x000A=]After inserting something into the incinerator:[=0x000A=][=0x0009=]now the noun is nowhere;[=0x000A=][=0x0009=]say [=0x0022=]A fiery blast consumes [the noun]![=0x0022=][=0x000A=][=0x000A=]Test me with [=0x0022=]get pen / i / get pen / get supply / s / put pen in incinerator / n / get pen[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Extra Supplies&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30613" -->
<a id="c30613"></a><blockquote class="code"><p class="quoted">
The Supply Closet is a room. A supply of red pens is in the Supply Closet. Understand &quot;pen&quot; as the supply of red pens when the red pen is not visible.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30614" -->
<a id="c30614"></a><blockquote class="code"><p class="quoted">
There is a red pen.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30615" -->
<a id="c30615"></a><blockquote class="code"><p class="quoted">
Instead of taking the supply of red pens:
<br />&#160;&#160;&#160;&#160;if the red pen is off-stage:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;move the red pen to the player;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You help yourself to a fresh red pen.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;You're only allowed one pen at a time. The department secretary is very strict.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30616" -->
<a id="c30616"></a><blockquote class="code"><p class="quoted">
South of the Supply Closet is the Furnace Room. The incinerator is a thing in the Furnace Room. It is a container. &quot;The incinerator is here, working full blast.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30617" -->
<a id="c30617"></a><blockquote class="code"><p class="quoted">
After inserting something into the incinerator:
<br />&#160;&#160;&#160;&#160;now the noun is nowhere;
<br />&#160;&#160;&#160;&#160;say &quot;A fiery blast consumes [the noun]!&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c30618" -->
<a id="c30618"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get pen / i / get pen / get supply / s / put pen in incinerator / n / get pen&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex228.html#e228"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
