<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>5.7. Text with random alternatives</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง5.7. Text with random alternatives</p>
<p>Sometimes we would like to provide a little quirky variation in text, especially in messages which will be seen often. We can achieve this with the &quot;[one of]... [or] ... [or] ...&quot; construction.</p>
<!-- START PHRASE "defn33" -->
<div class="definition"><a id="defn33"></a><p class="defnprototype"><b>say &quot;[one of]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_oneof -->

<p>This text substitution produces no text. It's used only for a side-effect: it switches between a number of alternative texts, which follow it and are divided by &quot;[or]&quot; substitutions, according to a strategy given in a closing substitution. Example:</p>
<!-- START CODE "c337" -->
<a id="c337"></a><blockquote class="code"><p class="quoted">
&quot;You flip the coin. [one of]Heads[or]Tails[purely at random]!&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here there are just two alternatives, and the strategy is &quot;purely at random&quot;. Exactly half of the time the text will be printed as &quot;You flip the coin. Heads!&quot;; and the other half, &quot;You flip the coin. Tails!&quot;.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn34" -->
<div class="definition"><a id="defn34"></a><p class="defnprototype"><b>say &quot;[or]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_or -->

<p>This text substitution produces no text, and can be used only in a &quot;[one of]...&quot; construction. It divides alternative wordings. Example:</p>
<!-- START CODE "c338" -->
<a id="c338"></a><blockquote class="code"><p class="quoted">
&quot;You flip the coin. [one of]Heads[or]Tails[purely at random]!&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>There are seven possible endings, each making the choice of which text to follow in a different way:</p>
<!-- START PHRASE "defn35" -->
<div class="definition"><a id="defn35"></a><p class="defnprototype"><b>say &quot;[purely at random]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_purelyrandom -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that the alternatives are chosen uniformly randomly.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn36" -->
<div class="definition"><a id="defn36"></a><p class="defnprototype"><b>say &quot;[then purely at random]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_thenpurelyrandom -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that the alternatives are chosen in sequence until all have been seen, but that after that they are chosen uniformly randomly.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn37" -->
<div class="definition"><a id="defn37"></a><p class="defnprototype"><b>say &quot;[at random]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_random -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that the alternatives are chosen at random except that the same choice cannot come up twice running. This is useful to avoid the deadening effect of repeating the exact same message. Example:</p>
<!-- START CODE "c339" -->
<a id="c339"></a><blockquote class="code"><p class="quoted">
&quot;The light changes randomly again; now it's [one of]green[or]amber[or]red[at random].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Here we can safely say the light &quot;changes&quot;, because the new colour cannot be the same as the one printed the last time.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn38" -->
<div class="definition"><a id="defn38"></a><p class="defnprototype"><b>say &quot;[then at random]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_thenrandom -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that the alternatives are chosen in sequence until all have been seen, and then after that, at random except that the same choice cannot come up twice running. Example:</p>
<!-- START CODE "c340" -->
<a id="c340"></a><blockquote class="code"><p class="quoted">
&quot;Maybe the murderer is [one of]Colonel Mustard[or]Professor Plum[or]Cardinal Cerise[then at random].&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn39" -->
<div class="definition"><a id="defn39"></a><p class="defnprototype"><b>say &quot;[sticky random]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_sticky -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that a random choice is made the first time the text is printed, but that it sticks from there on. Example:</p>
<!-- START CODE "c341" -->
<a id="c341"></a><blockquote class="code"><p class="quoted">
&quot;The newspaper headline is: [one of]War Casualties[or]Terrorists[or]Banks[sticky random] [one of]Continue To Expand[or]Lose Out[sticky random].&quot;
</p></blockquote>
<!-- END CODE -->
<p>Although the newspaper headline will change with each playing, it will not alter during play.</p>

<!-- end definition -->
</div>

<!-- START PHRASE "defn40" -->
<div class="definition"><a id="defn40"></a><p class="defnprototype"><b>say &quot;[as decreasingly likely outcomes]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_decreasing -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that the alternatives are chosen at random, except that the first is most likely to be chosen, the second is next most likely, and so on down to the rarest at the end. Example:</p>
<!-- START CODE "c342" -->
<a id="c342"></a><blockquote class="code"><p class="quoted">
&quot;Zorro strides by, [one of]looking purposeful[or]grim-faced[or]deep in thought[or]suppressing a yawn[or]scratching his ribs[or]trying to conceal that he has cut himself shaving[as decreasingly likely outcomes].&quot;
</p></blockquote>
<!-- END CODE -->
<p>There are six outcomes here: the first is six times as likely as the last, and those in between are similarly scaled, so Zorro cuts himself shaving only once in 21 tries, while he looks purposeful almost a third of the time.</p>

<!-- end definition -->
</div>

<p>But suppose we want to tuck some useful information in these messages, and we want to be sure that the player will see it. Because all of the above options involve randomness, it's possible that an unlucky player might miss a clue placed into only one variant of the message. One fix for this is to make sure that everything turns up sooner or later:</p>
<!-- START PHRASE "defn41" -->
<div class="definition"><a id="defn41"></a><p class="defnprototype"><b>say &quot;[in random order]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_order -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. A random order is chosen for the alternative passages of text, and they are used in that order as the text is printed again and again. When one random cycle finishes, a new one begins. The effect is somewhat like the &quot;shuffle album&quot; feature on an iPod. Example:</p>
<!-- START CODE "c343" -->
<a id="c343"></a><blockquote class="code"><p class="quoted">
&quot;You dip into the chapter on [one of]freshwater fish[or]hairless mammals[or]extinct birds[or]amphibians such as the black salamander[in random order].&quot;
</p></blockquote>
<!-- END CODE -->
<p>One small restriction: if there are more than 32 variations, purely random choices will be printed, and there will be no guarantee that repeats are prevented.</p>

<!-- end definition -->
</div>

<p>Another fix is to avoid randomness altogether:</p>
<!-- START PHRASE "defn42" -->
<div class="definition"><a id="defn42"></a><p class="defnprototype"><b>say &quot;[cycling]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_cycling -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that the alternatives are used one at a time, in turn: after the last one is reached, we start again from the first. Example:</p>
<!-- START CODE "c344" -->
<a id="c344"></a><blockquote class="code"><p class="quoted">
&quot;The pundits discuss [one of]the weather[or]world events[or]celebrity gossip[cycling].&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<!-- START PHRASE "defn43" -->
<div class="definition"><a id="defn43"></a><p class="defnprototype"><b>say &quot;[stopping]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_stopping -->

<p>This text substitution produces no text, and can be used only to end a &quot;[one of]...&quot; construction. It indicates that the alternatives are used one at a time, in turn: once the last one is reached, it's used forever after. Example:</p>
<!-- START CODE "c345" -->
<a id="c345"></a><blockquote class="code"><p class="quoted">
&quot;[one of]The phone rings[or]The phone rings a second time[or]The phone rings again[stopping].&quot;
</p></blockquote>
<!-- END CODE -->

<!-- end definition -->
</div>

<p>Finally, here's a convenient shorthand for one of the commonest things needed:</p>
<!-- START PHRASE "defn44" -->
<div class="definition"><a id="defn44"></a><p class="defnprototype"><b>say &quot;[first time]&quot;</b></p><br /><i>or:</i>&#160;&#160;&#160;<p class="defnprototype"><b>say &quot;[only]&quot;</b></p>
<!-- END PHRASE -->
<!-- definition of phs_firsttime -->

<p>This pair of text substitutions causes whatever is between them to be printed only the first time the text is printed. Example:</p>
<!-- START CODE "c346" -->
<a id="c346"></a><blockquote class="code"><p class="quoted">
&quot;The screen door squeaks loudly as when you open it. [first time]Well, you'll get used to it eventually. [only]&quot;
</p></blockquote>
<!-- END CODE -->
<p>This is exactly equivalent to</p>
<!-- START CODE "c347" -->
<a id="c347"></a><blockquote class="code"><p class="quoted">
&quot;The screen door squeaks loudly as when you open it. [one of]Well, you'll get used to it eventually. [or][stopping]&quot;;
</p></blockquote>
<!-- END CODE -->
<p>but easier to read.</p>

<!-- end definition -->
</div>

<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_5_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_5_1.html" class="standardlink">Start of Chapter 5: Text</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_5_6.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_5_6.html" class="standardlink">Back to ยง5.6. Text with variations</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_5_8.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_5_8.html" class="standardlink">Onward to ยง5.8. Line breaks and paragraph breaks</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e48"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex48.html#e48" class="eglink"><b>66</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex48.html#e48" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Radio Daze</span></b></a><br />A radio that produces a cycle of output using varying text.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex48.html#e48"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e161"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex161.html#e161" class="eglink"><b>67</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex161.html#e161" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Camp Bethel</span></b></a><br />Creating characters who change their behavior from turn to turn, and a survey of other common uses for alternative texts.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex161.html#e161"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
