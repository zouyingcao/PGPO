<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>2.2. Varying What Is Read</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง2.2. Varying What Is Read</p>
<p>Making the printed text adapt to circumstances only makes half of the conversation graceful: the other half is to allow the player's commands to have a similar freedom. The things the player can refer to should always respond to the names which would seem natural to the player. Inform provides a variety of techniques for understanding words always, or only under certain conditions; and, if need be, we can also get direct access to what the player has typed in order to examine it with regular expressions. (This last resort is rarely necessary.)</p>
<p><span class="boldface">First Name Basis</span> shows how to assign names to things or to kinds of thing - if, for instance, we want the player to be able to refer to any man as &quot;man&quot; or &quot;gentleman&quot;:</p>
<!-- START CODE "c23580" -->
<a id="c23580"></a><blockquote class="code"><p class="quoted">
Understand &quot;man&quot; or &quot;gentleman&quot; as a man.
</p></blockquote>
<!-- END CODE -->
<p>We may also sometimes want to give names that are specifically plural, as in</p>
<!-- START CODE "c23581" -->
<a id="c23581"></a><blockquote class="code"><p class="quoted">
A duck is a kind of animal. Understand &quot;birds&quot; as the plural of duck.
</p></blockquote>
<!-- END CODE -->
<p>or</p>
<!-- START CODE "c23582" -->
<a id="c23582"></a><blockquote class="code"><p class="quoted">
Understand &quot;birds&quot; as the plural of the magpie.
</p></blockquote>
<!-- END CODE -->
<p><span class="boldface">Vouvray</span> demonstrates.</p>
<p>A common challenge arises when two objects have names that overlap or are related, and we wish Inform to choose sensibly between them: for instance, a cigarette vs. a cigarette case. If a word should apply to something only as part of a phrase (e.g., &quot;cigarette&quot; alone should never refer to the cigarette case) we can manage the situation as follows:</p>
<!-- START CODE "c23583" -->
<a id="c23583"></a><blockquote class="code"><p class="quoted">
The case is a closed openable container. The printed name is &quot;cigarette case&quot;. Understand &quot;cigarette case&quot; as the case.
</p></blockquote>
<!-- END CODE -->
<p>Because &quot;cigarette&quot; here appears only as part of the phrase &quot;cigarette case&quot;, it will be understood only in that context; the conflict with the bare cigarette will not arise.</p>
<p>As a variant, we may want one object only to take precedence over another in naming. If we wanted the player to be allowed to refer casually to the cigarette case as &quot;cigarette&quot; when (and only when) the cigarette itself is not in view, we could add</p>
<!-- START CODE "c23584" -->
<a id="c23584"></a><blockquote class="code"><p class="quoted">
Understand &quot;cigarette&quot; as the case when the cigarette is not visible.
</p></blockquote>
<!-- END CODE -->
<p>Tricks which consider the visibility of other objects can be bad for performance if used widely; but for adding finesse to the treatment of a few items, they work very well.</p>
<p>(There may still arise cases where the player uses a name which can legitimately refer to two different things in view. To deal with this situation, we may want the Does the player mean... rules, explained in the chapter on Understanding; and to change the way the story asks for clarification, see the two activities Asking which do you mean and Clarifying the parser's choice of something.)</p>
<p>Names of things which contain prepositions can also be tricky because Inform misreads the sentences creating them: <span class="boldface">Laura</span> shows how some awkward cases can be safely overcome.</p>
<p>A more difficult case is to ensure that if we change the description or nature of something in play, then the names we understand for it adapt, too. &quot;Understand... when...&quot; can be all that's needed:</p>
<!-- START CODE "c23585" -->
<a id="c23585"></a><blockquote class="code"><p class="quoted">
Understand &quot;king&quot; as Aragorn when we have crowned Aragorn.
</p></blockquote>
<!-- END CODE -->
<p>Or, similarly, if we want some combination of categories and characteristics to be recognized:</p>
<!-- START CODE "c23586" -->
<a id="c23586"></a><blockquote class="code"><p class="quoted">
Understand &quot;giant&quot; as a man when the item described is tall.
</p></blockquote>
<!-- END CODE -->
<p>&quot;The item described&quot; here refers to the thing being named. &quot;...when&quot; can even be useful in defining new commands, and <span class="boldface">Quiz Show</span> demonstrates how to ask open-ended questions that the player can answer only on the subsequent turn.</p>
<p>Properties can also be matched without fuss:</p>
<!-- START CODE "c23587" -->
<a id="c23587"></a><blockquote class="code"><p class="quoted">
Tint is a kind of value. The tints are green, aquamarine and darkish purple. The wallpaper is fixed in place in the Hotel. The wallpaper has a tint. Understand the tint property as describing the wallpaper.
</p></blockquote>
<!-- END CODE -->
<p>This allows EXAMINE AQUAMARINE WALLPAPER if, but only if, it happens to be aquamarine at the moment. Relationships can also be matched automatically:</p>
<!-- START CODE "c23588" -->
<a id="c23588"></a><blockquote class="code"><p class="quoted">
A box is a kind of container. The red box is a box in the Toyshop. Some crayons are in the red box. Understand &quot;box of [something related by containment]&quot; as a box.
</p></blockquote>
<!-- END CODE -->
<p>which recognises BOX OF CRAYONS until they are removed, when it reverts to plain BOX only.</p>
<p>Greater difficulty arises if, using some variable or property or table to mark that a bottle contains wine, we print messages calling it &quot;bottle of wine&quot;. We are then honour-bound to understand commands like TAKE BOTTLE OF WINE in return, not to insist on TAKE BOTTLE. Almost all &quot;simulation&quot; IF runs in to issues like this, and there is no general solution because simulations are so varied.</p>
<p>A converse challenge arises when we want to <span class="italic">avoid</span> understanding the player's references to an object under some or all circumstances. This is relatively uncommon, but does sometimes occur. For this situation, Inform provides the &quot;privately-named&quot; property, as in</p>
<!-- START CODE "c23589" -->
<a id="c23589"></a><blockquote class="code"><p class="quoted">
The unrecognizable object is a privately-named thing in the Kitchen.
</p></blockquote>
<!-- END CODE -->
<p>Here &quot;privately-named&quot; tells Inform not to understand the object's source name automatically. It is then up to us to create any understand lines we want to refer to the object, as in</p>
<!-- START CODE "c23590" -->
<a id="c23590"></a><blockquote class="code"><p class="quoted">
Understand &quot;oyster fork&quot; as the unrecognizable object when the etiquette book is read.
</p></blockquote>
<!-- END CODE -->
<p>Of course, if we need an object that the player is never allowed to refer to at all, we can just make this privately-named and then not provide any understand lines at all.</p>
<p>A final source of difficulty is that by default Inform truncates words to nine letters before attempting to identify them. This is no problem in most circumstances and is likely to go unnoticed -- until we have two very long words whose names are nearly identical, such as &quot;north-northwest exit&quot; and &quot;north-northeast exit&quot;. (To make matters worse, a punctuation mark such as a hyphen counts as two letters on its own.)</p>
<p>When we are compiling for Glulx, the limit is easily changed with a single line, setting the constant called DICT_WORD_SIZE. For instance, if we wanted to raise the limit to 15, we would write</p>
<!-- START CODE "c23591" -->
<a id="c23591"></a><blockquote class="code"><p class="quoted">
Use DICT_WORD_SIZE of 15.
</p></blockquote>
<!-- END CODE -->
<p>When compiling for the Z-machine, the solution is harder. <span class="boldface">North by Northwest</span> shows how to use the reading a command activity to pre-process very long names, rendering them accessible to the parser again.</p>
<p>Inform also allows the player to refer to the most recently seen objects and people as IT, HIM, HER, and so on. It sets these pronouns by default, but there are times when we wish to override the way it does that. <span class="boldface">Pot of Petunias</span> shows off a way to make Inform recognize an object as IT when it would not otherwise have done so.</p>
<p class="crossreference"><a href="RB_10_2.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for a resolution of this bottle-of-wine issue</i></p><p class="crossreference"><a href="RB_2_3.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Using the Player's Input</b></a><i> for an example (Mr. Burns' Repast) in which a fish can be called by any arbitrary word as long as it ends in the letters -fish</i></p><p class="crossreference"><a href="RB_5_5.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Memory and Knowledge</b></a><i> for a way to refer to characters whom the player knows about but who aren't currently in the room</i></p><p class="crossreference"><a href="RB_6_17.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Clarification and Correction</b></a><i> for ways to improve guesses about what the player means</i></p><p class="crossreference"><a href="RB_6_18.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Alternatives To Standard Parsing</b></a><i> for several esoteric variations on the default behavior, such as accepting adverbs anywhere in the command, and scanning the player's input for keywords</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_2_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_2_1.html" class="standardlink">Start of Chapter 2: Adaptive Prose</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2_1.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_2_1.html" class="standardlink">Back to ยง2.1. Varying What Is Written</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_2_3.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_2_3.html" class="standardlink">Onward to ยง2.3. Using the Player's Input</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e250"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex250.html#e250" class="eglink"><b>12</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex250.html#e250" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">First Name Basis</span></b></a><br />Allowing the player to use different synonyms to refer to something.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex250.html#e250"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e451"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex451.html#e451" class="eglink"><b>323</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex451.html#e451" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Quiz Show</span></b></a><br />In this example by Mike Tarbert, the player can occasionally be quizzed on random data from a table; the potential answers will only be understood if a question has just been asked.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex451.html#e451"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e346"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex346.html#e346" class="eglink"><b>325</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex346.html#e346" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Pot of Petunias</span></b></a><br />Responding sensibly to a pot of petunias falling from the sky.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex346.html#e346"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e339"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex339.html#e339" class="eglink"><b>19</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex339.html#e339" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Laura</span></b></a><br />Some general advice about creating objects with unusual or awkward names, and a discussion of the use of printed names.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex339.html#e339"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e173"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_2_2.html#e173" class="eglink"><b>43</b></a></div>
<div class="egpanel" id="example173">
<p>The Understanding chapter lays out ways to change how the player can refer to objects, but we may not want to wait that long for some of the basic features. Here, for instance, is how to add synonyms that the player can use to refer to an entire kind of object:</p>
<!-- START CODE "c29167" -->
<a id="c29167"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Vouvray[=0x0022=][=0x000A=][=0x000A=]The Wine Emporium is a room. [=0x0022=]Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French.[=0x0022=][=0x000A=][=0x000A=]A cask is a kind of thing. A cask is always fixed in place. Understand [=0x0022=]cask[=0x0022=] or [=0x0022=]barrel[=0x0022=] as a cask. Understand [=0x0022=]casks[=0x0022=] or [=0x0022=]barrels[=0x0022=] as the plural of cask.[=0x000A=][=0x000A=]The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.[=0x000A=][=0x000A=]Test me with [=0x0022=]get barrels / get barrel / muscadet / x casks / x muscadet cask[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Vouvray&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29168" -->
<a id="c29168"></a><blockquote class="code"><p class="quoted">
The Wine Emporium is a room. &quot;Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29169" -->
<a id="c29169"></a><blockquote class="code"><p class="quoted">
A cask is a kind of thing. A cask is always fixed in place. Understand &quot;cask&quot; or &quot;barrel&quot; as a cask. Understand &quot;casks&quot; or &quot;barrels&quot; as the plural of cask.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29170" -->
<a id="c29170"></a><blockquote class="code"><p class="quoted">
The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29171" -->
<a id="c29171"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get barrels / get barrel / muscadet / x casks / x muscadet cask&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_2_2.html#e173" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Vouvray</span></b></a><br />Adding synonyms to an entire kind of thing.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example173">
<p>The Understanding chapter lays out ways to change how the player can refer to objects, but we may not want to wait that long for some of the basic features. Here, for instance, is how to add synonyms that the player can use to refer to an entire kind of object:</p>
<!-- START CODE "c29172" -->
<a id="c29172"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Vouvray[=0x0022=][=0x000A=][=0x000A=]The Wine Emporium is a room. [=0x0022=]Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French.[=0x0022=][=0x000A=][=0x000A=]A cask is a kind of thing. A cask is always fixed in place. Understand [=0x0022=]cask[=0x0022=] or [=0x0022=]barrel[=0x0022=] as a cask. Understand [=0x0022=]casks[=0x0022=] or [=0x0022=]barrels[=0x0022=] as the plural of cask.[=0x000A=][=0x000A=]The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.[=0x000A=][=0x000A=]Test me with [=0x0022=]get barrels / get barrel / muscadet / x casks / x muscadet cask[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Vouvray&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29173" -->
<a id="c29173"></a><blockquote class="code"><p class="quoted">
The Wine Emporium is a room. &quot;Set aside, you rather suspect, for tourists: this chamber is barrel-vaulted stone, lined on each side with casks of aging wine. Discarded brochures here and there advertise Wine Tours of the Loire Valley in three different languages, none of them French.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29174" -->
<a id="c29174"></a><blockquote class="code"><p class="quoted">
A cask is a kind of thing. A cask is always fixed in place. Understand &quot;cask&quot; or &quot;barrel&quot; as a cask. Understand &quot;casks&quot; or &quot;barrels&quot; as the plural of cask.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29175" -->
<a id="c29175"></a><blockquote class="code"><p class="quoted">
The Vouvray cask and the Muscadet cask are casks in the Wine Emporium.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c29176" -->
<a id="c29176"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get barrels / get barrel / muscadet / x casks / x muscadet cask&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex173.html#e173"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e30"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex30.html#e30" class="eglink"><b>373</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex30.html#e30" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">North by Northwest</span></b></a><br />Creating additional compass directions between those that already exist (for instance, NNW) -- and dealing with an awkwardness that arises when the player tries to type "north-northwest". The example demonstrates a way around the nine-character limit on parsed words.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex30.html#e30"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
