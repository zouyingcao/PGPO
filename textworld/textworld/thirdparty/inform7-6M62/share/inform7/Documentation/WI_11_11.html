<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>11.11. Repeat running through</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง11.11. Repeat running through</p>
<p>Inform is not used very much for numerical work, so the kind of repeat loop described in the previous section is not much used. Inform's natural domain is really the world of things and rooms, so the following kind of repeat is much more useful.</p>
<!-- START PHRASE "defn130" -->
<div class="definition"><a id="defn130"></a><p class="defnprototype"><b>repeat with </b>(a name not so far used)<b> running through </b>(description of values)<b>:</b></p>
<!-- END PHRASE -->
<!-- definition of ph_runthrough -->

<p>This phrase causes the block of phrases following it to be repeated once for each value matching the description, storing that value in the named variable. (The variable exists only temporarily, within the repetition.) Example:</p>
<!-- START CODE "c795" -->
<a id="c795"></a><blockquote class="code"><p class="quoted">
repeat with item running through open containers:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>If there are no containers, or they are all closed, the phrases will not be followed at all. Inform will issue a Problem message if the range of the loop may be infinite: for example, it won't allow:</p>
<!-- START CODE "c796" -->
<a id="c796"></a><blockquote class="code"><p class="quoted">
repeat with X running through odd numbers:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>On the other hand it will allow:</p>
<!-- START CODE "c797" -->
<a id="c797"></a><blockquote class="code"><p class="quoted">
repeat with T running through times:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>which repeats 1440 times, starting with T at midnight and finishing at 11:59 PM. See the Kinds index for which kinds of value can be repeated through.</p>

<!-- end definition -->
</div>

<p>As with counting the &quot;number of ...&quot; objects satisfying some property, we can run through a wide variety of possibilities - any description whose range is possible for Inform to search. For example:</p>
<!-- START CODE "c798" -->
<a id="c798"></a><blockquote class="code"><p class="quoted">
repeat with dinner guest running through the people in the Dining Room:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c799" -->
<a id="c799"></a><blockquote class="code"><p class="quoted">
repeat with possession running through things carried:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c800" -->
<a id="c800"></a><blockquote class="code"><p class="quoted">
repeat with event running through non-recurring scenes which are happening:
<br />&#160;&#160;&#160;&#160;...
</p></blockquote>
<!-- END CODE -->
<p>The following lists the whereabouts of all men in lighted rooms:</p>
<!-- START CODE "c801" -->
<a id="c801"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('repeat with suspect running through the men who are in a lighted room:[=0x000A=][=0x0009=]say [=0x0022=][The suspect] is in [the location of the suspect].[=0x0022=];[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> repeat with suspect running through the men who are in a lighted room:
<br />&#160;&#160;&#160;&#160;say &quot;[The suspect] is in [the location of the suspect].&quot;;
</p></blockquote>
<!-- END CODE -->
<p>One small note of caution: if what the &quot;repeat&quot; loop does is to change the things being repeated through, changing in particular whether items not yet reached will qualify to be repeated through, the results can be unexpected. Rather than writing &quot;repeat with X running through D&quot;, it may be safer to try &quot;while there is D (called X)&quot;, though note that this will only finish if X is always changed so that it no longer qualifies.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_11_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_11_1.html" class="standardlink">Start of Chapter 11: Phrases</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11_10.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_11_10.html" class="standardlink">Back to ยง11.10. Repeat</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_11_12.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_11_12.html" class="standardlink">Onward to ยง11.12. Next and break</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e283"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex283.html#e283" class="eglink"><b>176</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex283.html#e283" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Strictly Ballroom</span></b></a><br />People who select partners for dance lessons each turn.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex283.html#e283"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
