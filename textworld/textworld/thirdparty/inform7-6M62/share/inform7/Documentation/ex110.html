<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_WI.css" rel="stylesheet" type="text/css" />
<title>21.6. Lists of objects</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง21.6. Lists of objects</p>
<p>Lists can be made of values of any kind (including other lists), but lists of objects are especially useful. We could always make these &quot;by hand&quot;:</p>
<!-- START CODE "c1788" -->
<a id="c1788"></a><blockquote class="code"><p class="quoted">
let L be {the pot plant, the foxglove};
</p></blockquote>
<!-- END CODE -->
<p>But it is usually easier and clearer to use descriptions.</p>
<!-- START PHRASE "defn338" -->
<div class="definition"><a id="defn338"></a><p class="defnprototype"><b>list of </b>(description of values)<b> ... value</b></p>
<!-- END PHRASE -->
<!-- definition of ph_listofdesc -->

<p>This phrase produces the list of all values matching the given description. Inform will issue a problem message if the result would be an infinite list, or one which is impractical to test: for instance &quot;list of even numbers&quot; is not feasible.</p>

<!-- end definition -->
</div>

<p>While that works nicely for many kinds of value (&quot;list of recurring scenes&quot;, say), it's particularly useful for objects:</p>
<!-- START CODE "c1789" -->
<a id="c1789"></a><blockquote class="code"><p class="quoted">
let L be the list of open containers;
<br />add the list of open doors to L;
</p></blockquote>
<!-- END CODE -->
<p>means that L now contains the open containers (if any) followed by the open doors (if any). Or, for example:</p>
<!-- START CODE "c1790" -->
<a id="c1790"></a><blockquote class="code"><p class="quoted">
let L be the list of things;
<br />remove the list of backdrops from L;
</p></blockquote>
<!-- END CODE -->
<p>makes a list of all non-backdrops.</p>
<p>As mentioned above, lists of objects can be said in two additional ways:</p>
<!-- START CODE "c1791" -->
<a id="c1791"></a><blockquote class="code"><p class="quoted">
&quot;[L with definite articles]&quot;
<br />&quot;[L with indefinite articles]&quot;
</p></blockquote>
<!-- END CODE -->
<p>And as mentioned below, they can be sorted in property value order:</p>
<!-- START CODE "c1792" -->
<a id="c1792"></a><blockquote class="code"><p class="quoted">
sort L in P order;
<br />sort L in reverse P order;
</p></blockquote>
<!-- END CODE -->
<p>where P is any value property. In all other respects, lists of objects are no different to other lists.</p>
<hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="WI_21_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="WI_21_1.html" class="standardlink">Start of Chapter 21: Lists</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_21_5.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="WI_21_5.html" class="standardlink">Back to ยง21.5. Building lists</a></td></tr>
<tr><td class="roadsigndirection"><a href="WI_21_7.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="WI_21_7.html" class="standardlink">Onward to ยง21.7. Lists of values matching a description</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e400"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="ex400.html#e400" class="eglink"><b>427</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="ex400.html#e400" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">What Makes You Tick</span></b></a><br />Building a fishing pole from several component parts that the player might put together in any order.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="Rex400.html#e400"><i>RB</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e110"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="WI_21_6.html#e110" class="eglink"><b>428</b></a></div>
<div class="egpanel" id="example110">
<p>Suppose we have an item that produces an interesting result the first time the player lifts it -- a rock with dangerous ants revealed underneath. The effect of the surprise is a little weakened, though, if the player sees that response as the result of a TAKE ALL, when it might be printed like this:</p>
<!-- START CODE "c7153" -->
<a id="c7153"></a><blockquote class="code"><p class="quoted">
&gt;[3] get all
<br />tent peg: Taken.
<br />water flask: Taken.
<br />trading permit: Taken.
<br />innocent-looking rock: You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.
<br />rusty nail: Taken.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7154" -->
<a id="c7154"></a><blockquote class="code"><p class="quoted">
[Your score has just gone down by two points.]
</p></blockquote>
<!-- END CODE -->
<p>The calm response to &quot;rusty nail&quot; looks odd now, and the score change is disconnected from the event that caused it.</p>
<p>To manage this, we might institute a system so that interesting objects are handled last in their list, like so:</p>
<!-- START CODE "c7155" -->
<a id="c7155"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Formicidae[=0x0022=][=0x000A=][=0x000A=]Use scoring.[=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]The magic rule is listed before the generate action rule in the turn sequence rules.[=0x000A=][=0x000A=]A thing has a number called dramatic potential.[=0x000A=][=0x000A=]This is the magic rule:[=0x000A=][=0x0009=]let L be the multiple object list;[=0x000A=][=0x0009=]if the number of entries in L is greater than 1:[=0x000A=][=0x0009=][=0x0009=]sort L in dramatic potential order;[=0x000A=][=0x0009=][=0x0009=]alter the multiple object list to L.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Foothills is a room. [=0x0022=]The land has become hilly; though the soil is still mostly coarse yellow sand, clumps of grass are able to grow in the shadier places. Deep wagon ruts running from the southwest towards the mountains in the northeast show where generations of caravans have already passed.[=0x0022=][=0x000A=][=0x000A=]The water flask, the tent peg, and the trading permit are things in Foothills.[=0x000A=][=0x000A=]The rock is a thing in Foothills. Before printing the name of the rock when the rock is not handled: say [=0x0022=]innocent-looking [=0x0022=]. The dramatic potential of the rock is 10.[=0x000A=][=0x000A=]The rusty nail is a thing in Foothills.[=0x000A=][=0x000A=]The ant colony is a fixed in place thing. [=0x0022=]A busy group of ants are crawling to and fro in the unaccustomed sun.[=0x0022=] Rule for deciding whether all includes the ant colony while taking: it does not.[=0x000A=][=0x000A=]Instead of taking the rock when the rock is handled:[=0x000A=][=0x0009=]say [=0x0022=]It might still have a stray ant or two on it.[=0x0022=][=0x000A=][=0x000A=]After taking the rock:[=0x000A=][=0x0009=]now the rock is handled;[=0x000A=][=0x0009=]move ant colony to the location;[=0x000A=][=0x0009=]move the rock to the location;[=0x000A=][=0x0009=]say [=0x0022=]You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.[=0x0022=];[=0x000A=][=0x0009=]decrease score by 2.[=0x000A=][=0x000A=]Test me with [=0x0022=]get peg / drop peg / get all / get rock[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Formicidae&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7156" -->
<a id="c7156"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7157" -->
<a id="c7157"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7158" -->
<a id="c7158"></a><blockquote class="code"><p class="quoted">
The magic rule is listed before the generate action rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7159" -->
<a id="c7159"></a><blockquote class="code"><p class="quoted">
A thing has a number called dramatic potential.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7160" -->
<a id="c7160"></a><blockquote class="code"><p class="quoted">
This is the magic rule:
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;if the number of entries in L is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sort L in dramatic potential order;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alter the multiple object list to L.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7161" -->
<a id="c7161"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7162" -->
<a id="c7162"></a><blockquote class="code"><p class="quoted">
The Foothills is a room. &quot;The land has become hilly; though the soil is still mostly coarse yellow sand, clumps of grass are able to grow in the shadier places. Deep wagon ruts running from the southwest towards the mountains in the northeast show where generations of caravans have already passed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7163" -->
<a id="c7163"></a><blockquote class="code"><p class="quoted">
The water flask, the tent peg, and the trading permit are things in Foothills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7164" -->
<a id="c7164"></a><blockquote class="code"><p class="quoted">
The rock is a thing in Foothills. Before printing the name of the rock when the rock is not handled: say &quot;innocent-looking &quot;. The dramatic potential of the rock is 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7165" -->
<a id="c7165"></a><blockquote class="code"><p class="quoted">
The rusty nail is a thing in Foothills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7166" -->
<a id="c7166"></a><blockquote class="code"><p class="quoted">
The ant colony is a fixed in place thing. &quot;A busy group of ants are crawling to and fro in the unaccustomed sun.&quot; Rule for deciding whether all includes the ant colony while taking: it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7167" -->
<a id="c7167"></a><blockquote class="code"><p class="quoted">
Instead of taking the rock when the rock is handled:
<br />&#160;&#160;&#160;&#160;say &quot;It might still have a stray ant or two on it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7168" -->
<a id="c7168"></a><blockquote class="code"><p class="quoted">
After taking the rock:
<br />&#160;&#160;&#160;&#160;now the rock is handled;
<br />&#160;&#160;&#160;&#160;move ant colony to the location;
<br />&#160;&#160;&#160;&#160;move the rock to the location;
<br />&#160;&#160;&#160;&#160;say &quot;You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.&quot;;
<br />&#160;&#160;&#160;&#160;decrease score by 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7169" -->
<a id="c7169"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get peg / drop peg / get all / get rock&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that while one could also manipulate the object list to add or remove items at this stage, there's a simpler way to control what Inform considers &quot;ALL&quot; to mean in commands: see the activity &quot;Deciding whether all includes&quot; in the activities chapter.</p>
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="WI_21_6.html#e110" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">Formicidae</span></b></a><br />Manipulating the order in which items are handled after TAKE ALL.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example110">
<p>Suppose we have an item that produces an interesting result the first time the player lifts it -- a rock with dangerous ants revealed underneath. The effect of the surprise is a little weakened, though, if the player sees that response as the result of a TAKE ALL, when it might be printed like this:</p>
<!-- START CODE "c7170" -->
<a id="c7170"></a><blockquote class="code"><p class="quoted">
&gt;[3] get all
<br />tent peg: Taken.
<br />water flask: Taken.
<br />trading permit: Taken.
<br />innocent-looking rock: You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.
<br />rusty nail: Taken.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7171" -->
<a id="c7171"></a><blockquote class="code"><p class="quoted">
[Your score has just gone down by two points.]
</p></blockquote>
<!-- END CODE -->
<p>The calm response to &quot;rusty nail&quot; looks odd now, and the score change is disconnected from the event that caused it.</p>
<p>To manage this, we might institute a system so that interesting objects are handled last in their list, like so:</p>
<!-- START CODE "c7172" -->
<a id="c7172"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Formicidae[=0x0022=][=0x000A=][=0x000A=]Use scoring.[=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]The magic rule is listed before the generate action rule in the turn sequence rules.[=0x000A=][=0x000A=]A thing has a number called dramatic potential.[=0x000A=][=0x000A=]This is the magic rule:[=0x000A=][=0x0009=]let L be the multiple object list;[=0x000A=][=0x0009=]if the number of entries in L is greater than 1:[=0x000A=][=0x0009=][=0x0009=]sort L in dramatic potential order;[=0x000A=][=0x0009=][=0x0009=]alter the multiple object list to L.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Foothills is a room. [=0x0022=]The land has become hilly; though the soil is still mostly coarse yellow sand, clumps of grass are able to grow in the shadier places. Deep wagon ruts running from the southwest towards the mountains in the northeast show where generations of caravans have already passed.[=0x0022=][=0x000A=][=0x000A=]The water flask, the tent peg, and the trading permit are things in Foothills.[=0x000A=][=0x000A=]The rock is a thing in Foothills. Before printing the name of the rock when the rock is not handled: say [=0x0022=]innocent-looking [=0x0022=]. The dramatic potential of the rock is 10.[=0x000A=][=0x000A=]The rusty nail is a thing in Foothills.[=0x000A=][=0x000A=]The ant colony is a fixed in place thing. [=0x0022=]A busy group of ants are crawling to and fro in the unaccustomed sun.[=0x0022=] Rule for deciding whether all includes the ant colony while taking: it does not.[=0x000A=][=0x000A=]Instead of taking the rock when the rock is handled:[=0x000A=][=0x0009=]say [=0x0022=]It might still have a stray ant or two on it.[=0x0022=][=0x000A=][=0x000A=]After taking the rock:[=0x000A=][=0x0009=]now the rock is handled;[=0x000A=][=0x0009=]move ant colony to the location;[=0x000A=][=0x0009=]move the rock to the location;[=0x000A=][=0x0009=]say [=0x0022=]You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.[=0x0022=];[=0x000A=][=0x0009=]decrease score by 2.[=0x000A=][=0x000A=]Test me with [=0x0022=]get peg / drop peg / get all / get rock[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Formicidae&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7173" -->
<a id="c7173"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7174" -->
<a id="c7174"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7175" -->
<a id="c7175"></a><blockquote class="code"><p class="quoted">
The magic rule is listed before the generate action rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7176" -->
<a id="c7176"></a><blockquote class="code"><p class="quoted">
A thing has a number called dramatic potential.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7177" -->
<a id="c7177"></a><blockquote class="code"><p class="quoted">
This is the magic rule:
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;if the number of entries in L is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sort L in dramatic potential order;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alter the multiple object list to L.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7178" -->
<a id="c7178"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7179" -->
<a id="c7179"></a><blockquote class="code"><p class="quoted">
The Foothills is a room. &quot;The land has become hilly; though the soil is still mostly coarse yellow sand, clumps of grass are able to grow in the shadier places. Deep wagon ruts running from the southwest towards the mountains in the northeast show where generations of caravans have already passed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7180" -->
<a id="c7180"></a><blockquote class="code"><p class="quoted">
The water flask, the tent peg, and the trading permit are things in Foothills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7181" -->
<a id="c7181"></a><blockquote class="code"><p class="quoted">
The rock is a thing in Foothills. Before printing the name of the rock when the rock is not handled: say &quot;innocent-looking &quot;. The dramatic potential of the rock is 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7182" -->
<a id="c7182"></a><blockquote class="code"><p class="quoted">
The rusty nail is a thing in Foothills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7183" -->
<a id="c7183"></a><blockquote class="code"><p class="quoted">
The ant colony is a fixed in place thing. &quot;A busy group of ants are crawling to and fro in the unaccustomed sun.&quot; Rule for deciding whether all includes the ant colony while taking: it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7184" -->
<a id="c7184"></a><blockquote class="code"><p class="quoted">
Instead of taking the rock when the rock is handled:
<br />&#160;&#160;&#160;&#160;say &quot;It might still have a stray ant or two on it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7185" -->
<a id="c7185"></a><blockquote class="code"><p class="quoted">
After taking the rock:
<br />&#160;&#160;&#160;&#160;now the rock is handled;
<br />&#160;&#160;&#160;&#160;move ant colony to the location;
<br />&#160;&#160;&#160;&#160;move the rock to the location;
<br />&#160;&#160;&#160;&#160;say &quot;You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.&quot;;
<br />&#160;&#160;&#160;&#160;decrease score by 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7186" -->
<a id="c7186"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get peg / drop peg / get all / get rock&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that while one could also manipulate the object list to add or remove items at this stage, there's a simpler way to control what Inform considers &quot;ALL&quot; to mean in commands: see the activity &quot;Deciding whether all includes&quot; in the activities chapter.</p>
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<!-- EXAMPLE START -->
<a  href="Rex110.html#e110"><i>RB</i></a></div>
<div class="egpanel" id="example110">
<p>Suppose we have an item that produces an interesting result the first time the player lifts it -- a rock with dangerous ants revealed underneath. The effect of the surprise is a little weakened, though, if the player sees that response as the result of a TAKE ALL, when it might be printed like this:</p>
<!-- START CODE "c7187" -->
<a id="c7187"></a><blockquote class="code"><p class="quoted">
&gt;[3] get all
<br />tent peg: Taken.
<br />water flask: Taken.
<br />trading permit: Taken.
<br />innocent-looking rock: You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.
<br />rusty nail: Taken.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7188" -->
<a id="c7188"></a><blockquote class="code"><p class="quoted">
[Your score has just gone down by two points.]
</p></blockquote>
<!-- END CODE -->
<p>The calm response to &quot;rusty nail&quot; looks odd now, and the score change is disconnected from the event that caused it.</p>
<p>To manage this, we might institute a system so that interesting objects are handled last in their list, like so:</p>
<!-- START CODE "c7189" -->
<a id="c7189"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode('[=0x0022=]Formicidae[=0x0022=][=0x000A=][=0x000A=]Use scoring.[=0x000A=][=0x000A=]Section 1 - Procedure[=0x000A=][=0x000A=]The magic rule is listed before the generate action rule in the turn sequence rules.[=0x000A=][=0x000A=]A thing has a number called dramatic potential.[=0x000A=][=0x000A=]This is the magic rule:[=0x000A=][=0x0009=]let L be the multiple object list;[=0x000A=][=0x0009=]if the number of entries in L is greater than 1:[=0x000A=][=0x0009=][=0x0009=]sort L in dramatic potential order;[=0x000A=][=0x0009=][=0x0009=]alter the multiple object list to L.[=0x000A=][=0x000A=]Section 2 - Scenario[=0x000A=][=0x000A=]The Foothills is a room. [=0x0022=]The land has become hilly; though the soil is still mostly coarse yellow sand, clumps of grass are able to grow in the shadier places. Deep wagon ruts running from the southwest towards the mountains in the northeast show where generations of caravans have already passed.[=0x0022=][=0x000A=][=0x000A=]The water flask, the tent peg, and the trading permit are things in Foothills.[=0x000A=][=0x000A=]The rock is a thing in Foothills. Before printing the name of the rock when the rock is not handled: say [=0x0022=]innocent-looking [=0x0022=]. The dramatic potential of the rock is 10.[=0x000A=][=0x000A=]The rusty nail is a thing in Foothills.[=0x000A=][=0x000A=]The ant colony is a fixed in place thing. [=0x0022=]A busy group of ants are crawling to and fro in the unaccustomed sun.[=0x0022=] Rule for deciding whether all includes the ant colony while taking: it does not.[=0x000A=][=0x000A=]Instead of taking the rock when the rock is handled:[=0x000A=][=0x0009=]say [=0x0022=]It might still have a stray ant or two on it.[=0x0022=][=0x000A=][=0x000A=]After taking the rock:[=0x000A=][=0x0009=]now the rock is handled;[=0x000A=][=0x0009=]move ant colony to the location;[=0x000A=][=0x0009=]move the rock to the location;[=0x000A=][=0x0009=]say [=0x0022=]You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.[=0x0022=];[=0x000A=][=0x0009=]decrease score by 2.[=0x000A=][=0x000A=]Test me with [=0x0022=]get peg / drop peg / get all / get rock[=0x0022=].[=0x000A=][=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a> &quot;Formicidae&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7190" -->
<a id="c7190"></a><blockquote class="code"><p class="quoted">
Use scoring.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7191" -->
<a id="c7191"></a><blockquote class="code"><p class="quoted">
Section 1 - Procedure
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7192" -->
<a id="c7192"></a><blockquote class="code"><p class="quoted">
The magic rule is listed before the generate action rule in the turn sequence rules.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7193" -->
<a id="c7193"></a><blockquote class="code"><p class="quoted">
A thing has a number called dramatic potential.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7194" -->
<a id="c7194"></a><blockquote class="code"><p class="quoted">
This is the magic rule:
<br />&#160;&#160;&#160;&#160;let L be the multiple object list;
<br />&#160;&#160;&#160;&#160;if the number of entries in L is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sort L in dramatic potential order;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alter the multiple object list to L.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7195" -->
<a id="c7195"></a><blockquote class="code"><p class="quoted">
Section 2 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7196" -->
<a id="c7196"></a><blockquote class="code"><p class="quoted">
The Foothills is a room. &quot;The land has become hilly; though the soil is still mostly coarse yellow sand, clumps of grass are able to grow in the shadier places. Deep wagon ruts running from the southwest towards the mountains in the northeast show where generations of caravans have already passed.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7197" -->
<a id="c7197"></a><blockquote class="code"><p class="quoted">
The water flask, the tent peg, and the trading permit are things in Foothills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7198" -->
<a id="c7198"></a><blockquote class="code"><p class="quoted">
The rock is a thing in Foothills. Before printing the name of the rock when the rock is not handled: say &quot;innocent-looking &quot;. The dramatic potential of the rock is 10.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7199" -->
<a id="c7199"></a><blockquote class="code"><p class="quoted">
The rusty nail is a thing in Foothills.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7200" -->
<a id="c7200"></a><blockquote class="code"><p class="quoted">
The ant colony is a fixed in place thing. &quot;A busy group of ants are crawling to and fro in the unaccustomed sun.&quot; Rule for deciding whether all includes the ant colony while taking: it does not.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7201" -->
<a id="c7201"></a><blockquote class="code"><p class="quoted">
Instead of taking the rock when the rock is handled:
<br />&#160;&#160;&#160;&#160;say &quot;It might still have a stray ant or two on it.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7202" -->
<a id="c7202"></a><blockquote class="code"><p class="quoted">
After taking the rock:
<br />&#160;&#160;&#160;&#160;now the rock is handled;
<br />&#160;&#160;&#160;&#160;move ant colony to the location;
<br />&#160;&#160;&#160;&#160;move the rock to the location;
<br />&#160;&#160;&#160;&#160;say &quot;You reach for the rock and turn it over to reveal a thriving colony of flesh-eating ants. Needless to say, you drop the rock and jump back with a decidedly effeminate scream. They can probably hear you all the way back in the base camp.&quot;;
<br />&#160;&#160;&#160;&#160;decrease score by 2.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c7203" -->
<a id="c7203"></a><blockquote class="code"><p class="quoted">
Test me with &quot;get peg / drop peg / get all / get rock&quot;.
</p></blockquote>
<!-- END CODE -->
<p>Note that while one could also manipulate the object list to add or remove items at this stage, there's a simpler way to control what Inform considers &quot;ALL&quot; to mean in commands: see the activity &quot;Deciding whether all includes&quot; in the activities chapter.</p>
</div>
<!-- EXAMPLE END -->
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
