<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Generated by indoc on 29 May 2018 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="indoc_RB.css" rel="stylesheet" type="text/css" />
<title>10.8. Fire</title>
<script type="text/javascript">
    function showExtra(id, imid) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
            document.getElementById(imid).src = 'Documentation/Images/extra.png';
        } else {
            document.getElementById(id).style.display = 'block';
            document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
        }
    }
    function onLoaded() {
        if (window.location.hash) {
            var hash = window.location.hash.substring(2);
            if (hash.search("_") >= 0) {
                var res = hash.split("_");
                showExample("example"+res[1]);
            } else {
                showExample("example"+hash);
            }
        }
    }
    window.onload=onLoaded;
    function showExample(id) {
        if (document.getElementById(id).style.display == 'block') {
            document.getElementById(id).style.display = 'none';
        } else {
            document.getElementById(id).style.display = 'block';
        }
    }
    function openExtra(id, imid) {
        document.getElementById(id).style.display = 'block';
        document.getElementById(imid).src = 'Documentation/Images/extraclose.png';
    }
    function closeExtra(id, imid) {
        document.getElementById(id).style.display = 'none';
        document.getElementById(imid).src = 'Documentation/Images/extra.png';
    }
</script>
</head>
<body class="paper papertint"><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<script language="JavaScript">
function createNewProject(code, title) {
    var myProject = window.Project;

    myProject.createNewProject(title, code);
}
</script>
<p class="sectionheading">ยง10.8. Fire</p>
<p>Fire exhibits some of the properties of a gas: it is only vaguely located and tends to spread out, though it passes by touch rather than on the air. It is hazardous to life, through direct contact, heat, and smoke. Better governed, it provides light and warmth. Worse governed, it consumes almost anything it comes into contact with. Here the problem with &quot;debris&quot; is not so much that we need potentially hundreds of new objects to represent broken items: instead, fire could sweep through a work of IF destroying so much that no play is possible any longer. Setting up a problem in which the player must defeat a fully-capable fire is difficult to balance.</p>
<p>As with liquids, it is best to simulate the least amount of fire that the design will allow. <span class="boldface">Bruneseau's Journey</span> provides a single candle which can be lit, or blown out, but where fire can never transfer from the candle's end to anything else - or vice versa: the player's source of fire, with which to light the candle, is discreetly neglected.</p>
<p>In the more realistic <span class="boldface">Thirst 2</span>, a campfire is lit using a tinderbox, so that fire does transfer from one thing (tinder) to another (the campfire): but it is always confined to just these two items, and can be used only for light and warmth.</p>
<p><span class="boldface">The Cow Exonerated</span> provides a class of matches that can light any flammable object, but assumes that burning objects requires only one turn; lighting one thing does not burn another.</p>
<p><span class="boldface">In Fire or in Flood</span> provides a complete simulation of what we might call &quot;wild-fire&quot;: combustion which spreads through arbitrary objects and rooms, destroying all in its path.</p>
<p class="crossreference"><a href="RB_6_5.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Examining</b></a><i> for a way to describe objects as charred once they have been partly burnt</i></p><p class="crossreference"><a href="RB_10_9.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Heat</b></a><i> for one consequence of fire having touched something</i></p><p class="crossreference"><a href="RB_10_1.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Gases</b></a><i> for an implementation of smoke without fire, if this can exist</i></p><p class="crossreference"><a href="RB_10_2.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Liquids</b></a><i> for water being used to extinguish a simple fire</i></p><p class="crossreference"><a href="RB_3_7.html" class="xreflink"><img class="asterisk" alt="*" src="Documentation/Images/xref.png" />&#160;<i>See </i><b>Lighting</b></a><i> for other uses of candles and torches as light sources</i></p><hr />
<div class="roadsigns">
<table><tr><td class="roadsigndirection"><a href="RB_10_1.html" class="standardlink"><img alt="arrow-up.png" src="Documentation/Images/arrow-up.png" /></a></td><td><a href="RB_10_1.html" class="standardlink">Start of Chapter 10: Physics: Substances, Ropes, Energy and Weight</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_7.html" class="standardlink"><img alt="arrow-left.png" src="Documentation/Images/arrow-left.png" /></a></td><td><a href="RB_10_7.html" class="standardlink">Back to ยง10.7. Electricity and Magnetism</a></td></tr>
<tr><td class="roadsigndirection"><a href="RB_10_9.html" class="standardlink"><img alt="arrow-right.png" src="Documentation/Images/arrow-right.png" /></a></td><td><a href="RB_10_9.html" class="standardlink">Onward to ยง10.9. Heat</a></td></tr>
</table><hr />
</div>
<div class="bookexamples">
<p class="chapterheading"></p><a id="e434"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex434.html#e434" class="eglink"><b>118</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex434.html#e434" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Thirst 2</span></b></a><br />A campfire added to the camp site, which can be lit using tinder.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex434.html#e434"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e95"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex95.html#e95" class="eglink"><b>151</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex95.html#e95" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">Bruneseau's Journey</span></b></a><br />A candle which reacts to lighting and blowing actions differently depending on whether it has already been lit once.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex95.html#e95"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e15"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<!-- EXAMPLE START -->
<a href="RB_10_8.html#e15" class="eglink"><b>418</b></a></div>
<div class="egpanel" id="example15">
<p>Here we create a class of matches that can be used to burn other objects. Our objectives are as follow:</p>
<p>Burned objects other than matches should be removed from play instantly (just as edible objects are instantly eaten). We could give everything its own burning duration, but that complicates matters and allows for fire to spread from one object to another; for an example of how to do that, see the example &quot;In Fire or in Flood&quot;.</p>
<p>Matches should be described to show whether they are burning or extinguished, and when the parser chooses one of several identical matches, it should make very clear which match it has selected.</p>
<p>The game must sensibly select and, if necessary, automatically light new matches to carry out a &gt;BURN THING command.</p>
<p>The matches must burn for a set number of turns before going out, never to be used again.</p>
<p>And finally, the part for which the text will be useful: when several matches go out in the same turn, we want the game to print</p>
<!-- START CODE "c24333" -->
<a id="c24333"></a><blockquote class="code"><p class="quoted">
Four matches go out.
</p></blockquote>
<!-- END CODE -->
<p>rather than</p>
<!-- START CODE "c24334" -->
<a id="c24334"></a><blockquote class="code"><p class="quoted">
A match goes out.
<br />A match goes out.
<br />A match goes out.
<br />A match goes out.
</p></blockquote>
<!-- END CODE -->
<p>This last function appears down in Section 3, if we wish to skip ahead and look at it.</p>
<!-- START CODE "c24335" -->
<a id="c24335"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]The Cow Exonerated[=0x0022=][=0x000A=][=0x000A=]Section 1 - Simple Burning[=0x000A=][=0x000A=]Understand the commands [=0x0022=]light[=0x0022=] and [=0x0022=]burn[=0x0022=] as something new.[=0x000A=][=0x000A=]Understand [=0x0022=]burn [something] with [strikable-match][=0x0022=] as burning it with. Understand [=0x0022=]burn [something] with [something preferably held][=0x0022=] as burning it with. Burning it with is an action applying to one thing and one carried thing.[=0x000A=][=0x000A=]Understand the command [=0x0022=]light[=0x0022=] as [=0x0022=]burn[=0x0022=].[=0x000A=][=0x000A=]A thing can be flammable or impervious. A thing is usually impervious.[=0x000A=][=0x000A=]Check burning something with something (this is the burn only with flaming matches rule):[=0x000A=][=0x0009=]if the second noun is not a strikable-match, say [=0x0022=]You can only light things with matches.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not flaming, say [=0x0022=][The second noun] needs to be burning first.[=0x0022=] instead.[=0x000A=][=0x000A=]Check burning something with something (this is the burn only flammable things rule):[=0x000A=][=0x0009=]if the noun is impervious, say [=0x0022=][The noun] cannot be burned.[=0x0022=] instead.[=0x000A=][=0x000A=]Check burning something with something (this is the burn only things not held rule):[=0x000A=][=0x0009=]say [=0x0022=][one of]It occurs to you to set down [the noun] before burning, just for safety[=0x0027=]s sake. [or]Again, you decide to put down [the noun] prior to burning. [or]You try setting down [the noun] as usual. [stopping][run paragraph on][=0x0022=];[=0x000A=][=0x0009=]silently try the player dropping the noun;[=0x000A=][=0x0009=]if the player encloses the noun, stop the action.[=0x000A=][=0x000A=]Carry out burning something with something (this is the simplistic burning rule):[=0x000A=][=0x0009=]now the noun is nowhere.[=0x000A=][=0x000A=]Report burning something with something:[=0x000A=][=0x0009=]say [=0x0022=]You burn up [the noun].[=0x0022=][=0x000A=][=0x000A=]Rule for implicitly taking the second noun while burning something with something which is not a strikable-match:[=0x000A=][=0x0009=]say [=0x0022=]You can only light things with matches.[=0x0022=];[=0x000A=][=0x0009=]stop the action.[=0x000A=][=0x000A=]Section 2 - Matches[=0x000A=][=0x000A=][The word [=0x0022=]matches[=0x0022=] is used by Inform to compare snippets of text (see [=0x0022=]Reading a command[=0x0022=] in the Activities chapter). This can sometimes cause awkwardness if we also have a kind called [=0x0022=]match[=0x0022=], so for the occasion we will give our matches a more specialized name, never visible to the player:][=0x000A=][=0x000A=]A strikable-match is a kind of thing. The plural of strikable-match is s-matches.[=0x000A=][=0x000A=]A strikable-match has a number called duration. The duration of a strikable-match is usually 3.[=0x000A=][=0x000A=]Rule for printing the name of a strikable-match: say [=0x0022=]match[=0x0022=].[=0x000A=]Rule for printing the plural name of a strikable-match: say [=0x0022=]matches[=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]match[=0x0022=] as a strikable-match. Understand [=0x0022=]matches[=0x0022=] as a strikable-match.[=0x000A=][=0x000A=]Flame-state is a kind of value. The flame-states are burnt, flaming, and new. Understand [=0x0022=]burning[=0x0022=] or [=0x0022=]lit[=0x0022=] as flaming. Understand [=0x0022=]unused[=0x0022=] as new.[=0x000A=][=0x000A=]A strikable-match has a flame-state. A strikable-match is usually new. Understand the flame-state property as describing a strikable-match.[=0x000A=][=0x000A=]Before printing the name of a strikable-match while asking which do you mean:[=0x000A=][=0x0009=]say [=0x0022=][flame-state] [=0x0022=].[=0x000A=][=0x000A=]Before printing the name of a strikable-match while taking inventory:[=0x000A=][=0x0009=]say [=0x0022=][flame-state] [=0x0022=].[=0x000A=]Before printing the plural name of a strikable-match while taking inventory:[=0x000A=][=0x0009=]say [=0x0022=][flame-state] [=0x0022=].[=0x000A=][=0x000A=]Before printing the name of a strikable-match while clarifying the parser[=0x0027=]s choice of something:[=0x000A=][=0x0009=]if not taking inventory, say [=0x0022=][flame-state] [=0x0022=].[=0x000A=][=0x000A=]After printing the name of a strikable-match (called special-target) while clarifying the parser[=0x0027=]s choice of something:[=0x000A=][=0x0009=]if the player carries the special-target:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] you[=0x0027=]re carrying[=0x0022=];[=0x000A=][=0x0009=]otherwise if the special-target is in the location:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] on the ground[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] [if the holder of the special-target is a container]in[otherwise]on[end if] [the holder of the special-target][=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]strike [something][=0x0022=] as attacking.[=0x000A=][=0x000A=]Understand [=0x0022=]strike [strikable-match][=0x0022=] as striking. Striking is an action applying to one carried thing.[=0x000A=][=0x000A=]Understand [=0x0022=]burn [strikable-match][=0x0022=] as striking.[=0x000A=][=0x000A=]Does the player mean striking a new strikable-match:[=0x000A=][=0x0009=]it is very likely.[=0x000A=][=0x000A=]Does the player mean striking a burnt strikable-match:[=0x000A=][=0x0009=]it is unlikely.[=0x000A=][=0x000A=]Check striking a strikable-match (this is the strike only new matches rule):[=0x000A=][=0x0009=]if the noun is burnt, say [=0x0022=][The noun] has already burnt down and cannot be relit.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is flaming, say [=0x0022=][The noun] is already burning.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out striking a strikable-match (this is the standard striking rule):[=0x000A=][=0x0009=]now the noun is flaming;[=0x000A=][=0x0009=]now the noun is lit.[=0x000A=][=0x000A=]Report striking a strikable-match (this is the standard report striking rule):[=0x000A=][=0x0009=]say [=0x0022=]You light [the noun].[=0x0022=][=0x000A=][=0x000A=]Before burning something with a new strikable-match (this is the prior lighting rule):[=0x000A=][=0x0009=]say [=0x0022=](first [if the player does not carry the second noun]taking and [end if]lighting [the second noun])[command clarification break][=0x0022=];[=0x000A=][=0x0009=]silently try striking the second noun;[=0x000A=][=0x0009=]if the second noun is not flaming, stop the action.[=0x000A=][=0x000A=]Rule for implicitly taking a strikable-match (called target) while striking:[=0x000A=][=0x0009=]try silently taking the target.[=0x000A=][=0x000A=]Does the player mean burning something with a flaming strikable-match:[=0x000A=][=0x0009=]it is very likely.[=0x000A=][=0x000A=]Does the player mean burning something with a new strikable-match:[=0x000A=][=0x0009=]it is likely.[=0x000A=][=0x000A=]Does the player mean burning something with a burnt strikable-match:[=0x000A=][=0x0009=]it is unlikely.[=0x000A=][=0x000A=]Instead of burning a burnt strikable-match with something:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is completely consumed and cannot be relit.[=0x0022=][=0x000A=][=0x000A=]Section 3 - Putting the Matches Out[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]let N be 0; [here we track how many matches are being put out during this turn, so that we don[=0x0027=]t have to mention each match individually if several go out during the same move][=0x000A=][=0x0009=]repeat with item running through flaming s-matches:[=0x000A=][=0x0009=][=0x0009=]decrement the duration of the item;[=0x000A=][=0x0009=][=0x0009=]if the duration of the item is 0:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is burnt;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is unlit;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the item is visible, increment N;[=0x000A=][=0x0009=]if N is 1:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][if the number of visible flaming s-matches is greater than 0]One of the matches [otherwise if the number of burnt visible s-matches is greater than 1]Your last burning match [otherwise]The match [end if]goes out.[=0x0022=];[=0x000A=][=0x0009=]otherwise if N is greater than 1:[=0x000A=][=0x0009=][=0x0009=]let enumeration be [=0x0022=][N in words][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if N is the number of visible s-matches:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if N is two, say [=0x0022=]Both[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise say [=0x0022=]All [enumeration][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][enumeration in title case][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] matches go out[if a visible strikable-match is flaming], leaving [number of visible flaming s-matches in words] still lit[end if].[=0x0022=][=0x000A=][=0x000A=]Section 4 - Scenario[=0x000A=][=0x000A=]Old Chicago is a room.[=0x000A=][=0x000A=]The player carries a flammable thing called a log. Understand [=0x0022=]wooden[=0x0022=] and [=0x0022=]wood[=0x0022=] as the log.[=0x000A=][=0x000A=]The player carries two s-matches. The matchbox is an open openable container. It contains five s-matches. The player carries the matchbox.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every strikable-match carried by the player is flaming;[=0x000A=][=0x0009=]now every strikable-match carried by the player is lit.[=0x000A=][=0x000A=]Test me with [=0x0022=]i / burn match / i / i / burn log with match / burn matchbox with match / i[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;The Cow Exonerated&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24336" -->
<a id="c24336"></a><blockquote class="code"><p class="quoted">
Section 1 - Simple Burning
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24337" -->
<a id="c24337"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;light&quot; and &quot;burn&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24338" -->
<a id="c24338"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [something] with [strikable-match]&quot; as burning it with. Understand &quot;burn [something] with [something preferably held]&quot; as burning it with. Burning it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24339" -->
<a id="c24339"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;light&quot; as &quot;burn&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24340" -->
<a id="c24340"></a><blockquote class="code"><p class="quoted">
A thing can be flammable or impervious. A thing is usually impervious.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24341" -->
<a id="c24341"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only with flaming matches rule):
<br />&#160;&#160;&#160;&#160;if the second noun is not a strikable-match, say &quot;You can only light things with matches.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not flaming, say &quot;[The second noun] needs to be burning first.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24342" -->
<a id="c24342"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only flammable things rule):
<br />&#160;&#160;&#160;&#160;if the noun is impervious, say &quot;[The noun] cannot be burned.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24343" -->
<a id="c24343"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only things not held rule):
<br />&#160;&#160;&#160;&#160;say &quot;[one of]It occurs to you to set down [the noun] before burning, just for safety's sake. [or]Again, you decide to put down [the noun] prior to burning. [or]You try setting down [the noun] as usual. [stopping][run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;silently try the player dropping the noun;
<br />&#160;&#160;&#160;&#160;if the player encloses the noun, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24344" -->
<a id="c24344"></a><blockquote class="code"><p class="quoted">
Carry out burning something with something (this is the simplistic burning rule):
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24345" -->
<a id="c24345"></a><blockquote class="code"><p class="quoted">
Report burning something with something:
<br />&#160;&#160;&#160;&#160;say &quot;You burn up [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24346" -->
<a id="c24346"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking the second noun while burning something with something which is not a strikable-match:
<br />&#160;&#160;&#160;&#160;say &quot;You can only light things with matches.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24347" -->
<a id="c24347"></a><blockquote class="code"><p class="quoted">
Section 2 - Matches
</p></blockquote>
<!-- END CODE -->
<p>The word &quot;matches&quot; is used by Inform to compare snippets of text (see &quot;Reading a command&quot; in the Activities chapter). This can sometimes cause awkwardness if we also have a kind called &quot;match&quot;, so for the occasion we will give our matches a more specialized name, never visible to the player:</p>
<!-- START CODE "c24348" -->
<a id="c24348"></a><blockquote class="code"><p class="quoted">
A strikable-match is a kind of thing. The plural of strikable-match is s-matches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24349" -->
<a id="c24349"></a><blockquote class="code"><p class="quoted">
A strikable-match has a number called duration. The duration of a strikable-match is usually 3.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24350" -->
<a id="c24350"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a strikable-match: say &quot;match&quot;.
<br />Rule for printing the plural name of a strikable-match: say &quot;matches&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24351" -->
<a id="c24351"></a><blockquote class="code"><p class="quoted">
Understand &quot;match&quot; as a strikable-match. Understand &quot;matches&quot; as a strikable-match.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24352" -->
<a id="c24352"></a><blockquote class="code"><p class="quoted">
Flame-state is a kind of value. The flame-states are burnt, flaming, and new. Understand &quot;burning&quot; or &quot;lit&quot; as flaming. Understand &quot;unused&quot; as new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24353" -->
<a id="c24353"></a><blockquote class="code"><p class="quoted">
A strikable-match has a flame-state. A strikable-match is usually new. Understand the flame-state property as describing a strikable-match.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24354" -->
<a id="c24354"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while asking which do you mean:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24355" -->
<a id="c24355"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
<br />Before printing the plural name of a strikable-match while taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24356" -->
<a id="c24356"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while clarifying the parser's choice of something:
<br />&#160;&#160;&#160;&#160;if not taking inventory, say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24357" -->
<a id="c24357"></a><blockquote class="code"><p class="quoted">
After printing the name of a strikable-match (called special-target) while clarifying the parser's choice of something:
<br />&#160;&#160;&#160;&#160;if the player carries the special-target:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; you're carrying&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the special-target is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; on the ground&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; [if the holder of the special-target is a container]in[otherwise]on[end if] [the holder of the special-target]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24358" -->
<a id="c24358"></a><blockquote class="code"><p class="quoted">
Understand &quot;strike [something]&quot; as attacking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24359" -->
<a id="c24359"></a><blockquote class="code"><p class="quoted">
Understand &quot;strike [strikable-match]&quot; as striking. Striking is an action applying to one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24360" -->
<a id="c24360"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [strikable-match]&quot; as striking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24361" -->
<a id="c24361"></a><blockquote class="code"><p class="quoted">
Does the player mean striking a new strikable-match:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24362" -->
<a id="c24362"></a><blockquote class="code"><p class="quoted">
Does the player mean striking a burnt strikable-match:
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24363" -->
<a id="c24363"></a><blockquote class="code"><p class="quoted">
Check striking a strikable-match (this is the strike only new matches rule):
<br />&#160;&#160;&#160;&#160;if the noun is burnt, say &quot;[The noun] has already burnt down and cannot be relit.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is flaming, say &quot;[The noun] is already burning.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24364" -->
<a id="c24364"></a><blockquote class="code"><p class="quoted">
Carry out striking a strikable-match (this is the standard striking rule):
<br />&#160;&#160;&#160;&#160;now the noun is flaming;
<br />&#160;&#160;&#160;&#160;now the noun is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24365" -->
<a id="c24365"></a><blockquote class="code"><p class="quoted">
Report striking a strikable-match (this is the standard report striking rule):
<br />&#160;&#160;&#160;&#160;say &quot;You light [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24366" -->
<a id="c24366"></a><blockquote class="code"><p class="quoted">
Before burning something with a new strikable-match (this is the prior lighting rule):
<br />&#160;&#160;&#160;&#160;say &quot;(first [if the player does not carry the second noun]taking and [end if]lighting [the second noun])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;silently try striking the second noun;
<br />&#160;&#160;&#160;&#160;if the second noun is not flaming, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24367" -->
<a id="c24367"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking a strikable-match (called target) while striking:
<br />&#160;&#160;&#160;&#160;try silently taking the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24368" -->
<a id="c24368"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a flaming strikable-match:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24369" -->
<a id="c24369"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a new strikable-match:
<br />&#160;&#160;&#160;&#160;it is likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24370" -->
<a id="c24370"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a burnt strikable-match:
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24371" -->
<a id="c24371"></a><blockquote class="code"><p class="quoted">
Instead of burning a burnt strikable-match with something:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is completely consumed and cannot be relit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24372" -->
<a id="c24372"></a><blockquote class="code"><p class="quoted">
Section 3 - Putting the Matches Out
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24373" -->
<a id="c24373"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let N be 0; [here we track how many matches are being put out during this turn, so that we don't have to mention each match individually if several go out during the same move]
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming s-matches:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement the duration of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the duration of the item is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is burnt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is unlit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is visible, increment N;
<br />&#160;&#160;&#160;&#160;if N is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[if the number of visible flaming s-matches is greater than 0]One of the matches [otherwise if the number of burnt visible s-matches is greater than 1]Your last burning match [otherwise]The match [end if]goes out.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if N is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let enumeration be &quot;[N in words]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is the number of visible s-matches:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is two, say &quot;Both&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;All [enumeration]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[enumeration in title case]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; matches go out[if a visible strikable-match is flaming], leaving [number of visible flaming s-matches in words] still lit[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24374" -->
<a id="c24374"></a><blockquote class="code"><p class="quoted">
Section 4 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24375" -->
<a id="c24375"></a><blockquote class="code"><p class="quoted">
Old Chicago is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24376" -->
<a id="c24376"></a><blockquote class="code"><p class="quoted">
The player carries a flammable thing called a log. Understand &quot;wooden&quot; and &quot;wood&quot; as the log.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24377" -->
<a id="c24377"></a><blockquote class="code"><p class="quoted">
The player carries two s-matches. The matchbox is an open openable container. It contains five s-matches. The player carries the matchbox.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24378" -->
<a id="c24378"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every strikable-match carried by the player is flaming;
<br />&#160;&#160;&#160;&#160;now every strikable-match carried by the player is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24379" -->
<a id="c24379"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / burn match / i / i / burn log with match / burn matchbox with match / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<!-- EXAMPLE START -->
</td><td class="egnamecell"><p class="egcuetext"><a href="RB_10_8.html#e15" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner"><b>Example</b></span><span class="egname">The Cow Exonerated</span></b></a><br />Creating a class of matches that burn for a time and then go out, with elegant reporting when several matches go out at once.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egpanel" id="example15">
<p>Here we create a class of matches that can be used to burn other objects. Our objectives are as follow:</p>
<p>Burned objects other than matches should be removed from play instantly (just as edible objects are instantly eaten). We could give everything its own burning duration, but that complicates matters and allows for fire to spread from one object to another; for an example of how to do that, see the example &quot;In Fire or in Flood&quot;.</p>
<p>Matches should be described to show whether they are burning or extinguished, and when the parser chooses one of several identical matches, it should make very clear which match it has selected.</p>
<p>The game must sensibly select and, if necessary, automatically light new matches to carry out a &gt;BURN THING command.</p>
<p>The matches must burn for a set number of turns before going out, never to be used again.</p>
<p>And finally, the part for which the text will be useful: when several matches go out in the same turn, we want the game to print</p>
<!-- START CODE "c24380" -->
<a id="c24380"></a><blockquote class="code"><p class="quoted">
Four matches go out.
</p></blockquote>
<!-- END CODE -->
<p>rather than</p>
<!-- START CODE "c24381" -->
<a id="c24381"></a><blockquote class="code"><p class="quoted">
A match goes out.
<br />A match goes out.
<br />A match goes out.
<br />A match goes out.
</p></blockquote>
<!-- END CODE -->
<p>This last function appears down in Section 3, if we wish to skip ahead and look at it.</p>
<!-- START CODE "c24382" -->
<a id="c24382"></a><blockquote class="code"><p class="quoted">
<a href="javascript:pasteCode(' [=0x0022=]The Cow Exonerated[=0x0022=][=0x000A=][=0x000A=]Section 1 - Simple Burning[=0x000A=][=0x000A=]Understand the commands [=0x0022=]light[=0x0022=] and [=0x0022=]burn[=0x0022=] as something new.[=0x000A=][=0x000A=]Understand [=0x0022=]burn [something] with [strikable-match][=0x0022=] as burning it with. Understand [=0x0022=]burn [something] with [something preferably held][=0x0022=] as burning it with. Burning it with is an action applying to one thing and one carried thing.[=0x000A=][=0x000A=]Understand the command [=0x0022=]light[=0x0022=] as [=0x0022=]burn[=0x0022=].[=0x000A=][=0x000A=]A thing can be flammable or impervious. A thing is usually impervious.[=0x000A=][=0x000A=]Check burning something with something (this is the burn only with flaming matches rule):[=0x000A=][=0x0009=]if the second noun is not a strikable-match, say [=0x0022=]You can only light things with matches.[=0x0022=] instead;[=0x000A=][=0x0009=]if the second noun is not flaming, say [=0x0022=][The second noun] needs to be burning first.[=0x0022=] instead.[=0x000A=][=0x000A=]Check burning something with something (this is the burn only flammable things rule):[=0x000A=][=0x0009=]if the noun is impervious, say [=0x0022=][The noun] cannot be burned.[=0x0022=] instead.[=0x000A=][=0x000A=]Check burning something with something (this is the burn only things not held rule):[=0x000A=][=0x0009=]say [=0x0022=][one of]It occurs to you to set down [the noun] before burning, just for safety[=0x0027=]s sake. [or]Again, you decide to put down [the noun] prior to burning. [or]You try setting down [the noun] as usual. [stopping][run paragraph on][=0x0022=];[=0x000A=][=0x0009=]silently try the player dropping the noun;[=0x000A=][=0x0009=]if the player encloses the noun, stop the action.[=0x000A=][=0x000A=]Carry out burning something with something (this is the simplistic burning rule):[=0x000A=][=0x0009=]now the noun is nowhere.[=0x000A=][=0x000A=]Report burning something with something:[=0x000A=][=0x0009=]say [=0x0022=]You burn up [the noun].[=0x0022=][=0x000A=][=0x000A=]Rule for implicitly taking the second noun while burning something with something which is not a strikable-match:[=0x000A=][=0x0009=]say [=0x0022=]You can only light things with matches.[=0x0022=];[=0x000A=][=0x0009=]stop the action.[=0x000A=][=0x000A=]Section 2 - Matches[=0x000A=][=0x000A=][The word [=0x0022=]matches[=0x0022=] is used by Inform to compare snippets of text (see [=0x0022=]Reading a command[=0x0022=] in the Activities chapter). This can sometimes cause awkwardness if we also have a kind called [=0x0022=]match[=0x0022=], so for the occasion we will give our matches a more specialized name, never visible to the player:][=0x000A=][=0x000A=]A strikable-match is a kind of thing. The plural of strikable-match is s-matches.[=0x000A=][=0x000A=]A strikable-match has a number called duration. The duration of a strikable-match is usually 3.[=0x000A=][=0x000A=]Rule for printing the name of a strikable-match: say [=0x0022=]match[=0x0022=].[=0x000A=]Rule for printing the plural name of a strikable-match: say [=0x0022=]matches[=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]match[=0x0022=] as a strikable-match. Understand [=0x0022=]matches[=0x0022=] as a strikable-match.[=0x000A=][=0x000A=]Flame-state is a kind of value. The flame-states are burnt, flaming, and new. Understand [=0x0022=]burning[=0x0022=] or [=0x0022=]lit[=0x0022=] as flaming. Understand [=0x0022=]unused[=0x0022=] as new.[=0x000A=][=0x000A=]A strikable-match has a flame-state. A strikable-match is usually new. Understand the flame-state property as describing a strikable-match.[=0x000A=][=0x000A=]Before printing the name of a strikable-match while asking which do you mean:[=0x000A=][=0x0009=]say [=0x0022=][flame-state] [=0x0022=].[=0x000A=][=0x000A=]Before printing the name of a strikable-match while taking inventory:[=0x000A=][=0x0009=]say [=0x0022=][flame-state] [=0x0022=].[=0x000A=]Before printing the plural name of a strikable-match while taking inventory:[=0x000A=][=0x0009=]say [=0x0022=][flame-state] [=0x0022=].[=0x000A=][=0x000A=]Before printing the name of a strikable-match while clarifying the parser[=0x0027=]s choice of something:[=0x000A=][=0x0009=]if not taking inventory, say [=0x0022=][flame-state] [=0x0022=].[=0x000A=][=0x000A=]After printing the name of a strikable-match (called special-target) while clarifying the parser[=0x0027=]s choice of something:[=0x000A=][=0x0009=]if the player carries the special-target:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] you[=0x0027=]re carrying[=0x0022=];[=0x000A=][=0x0009=]otherwise if the special-target is in the location:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] on the ground[=0x0022=];[=0x000A=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] [if the holder of the special-target is a container]in[otherwise]on[end if] [the holder of the special-target][=0x0022=].[=0x000A=][=0x000A=]Understand [=0x0022=]strike [something][=0x0022=] as attacking.[=0x000A=][=0x000A=]Understand [=0x0022=]strike [strikable-match][=0x0022=] as striking. Striking is an action applying to one carried thing.[=0x000A=][=0x000A=]Understand [=0x0022=]burn [strikable-match][=0x0022=] as striking.[=0x000A=][=0x000A=]Does the player mean striking a new strikable-match:[=0x000A=][=0x0009=]it is very likely.[=0x000A=][=0x000A=]Does the player mean striking a burnt strikable-match:[=0x000A=][=0x0009=]it is unlikely.[=0x000A=][=0x000A=]Check striking a strikable-match (this is the strike only new matches rule):[=0x000A=][=0x0009=]if the noun is burnt, say [=0x0022=][The noun] has already burnt down and cannot be relit.[=0x0022=] instead;[=0x000A=][=0x0009=]if the noun is flaming, say [=0x0022=][The noun] is already burning.[=0x0022=] instead.[=0x000A=][=0x000A=]Carry out striking a strikable-match (this is the standard striking rule):[=0x000A=][=0x0009=]now the noun is flaming;[=0x000A=][=0x0009=]now the noun is lit.[=0x000A=][=0x000A=]Report striking a strikable-match (this is the standard report striking rule):[=0x000A=][=0x0009=]say [=0x0022=]You light [the noun].[=0x0022=][=0x000A=][=0x000A=]Before burning something with a new strikable-match (this is the prior lighting rule):[=0x000A=][=0x0009=]say [=0x0022=](first [if the player does not carry the second noun]taking and [end if]lighting [the second noun])[command clarification break][=0x0022=];[=0x000A=][=0x0009=]silently try striking the second noun;[=0x000A=][=0x0009=]if the second noun is not flaming, stop the action.[=0x000A=][=0x000A=]Rule for implicitly taking a strikable-match (called target) while striking:[=0x000A=][=0x0009=]try silently taking the target.[=0x000A=][=0x000A=]Does the player mean burning something with a flaming strikable-match:[=0x000A=][=0x0009=]it is very likely.[=0x000A=][=0x000A=]Does the player mean burning something with a new strikable-match:[=0x000A=][=0x0009=]it is likely.[=0x000A=][=0x000A=]Does the player mean burning something with a burnt strikable-match:[=0x000A=][=0x0009=]it is unlikely.[=0x000A=][=0x000A=]Instead of burning a burnt strikable-match with something:[=0x000A=][=0x0009=]say [=0x0022=][The noun] is completely consumed and cannot be relit.[=0x0022=][=0x000A=][=0x000A=]Section 3 - Putting the Matches Out[=0x000A=][=0x000A=]Every turn:[=0x000A=][=0x0009=]let N be 0; [here we track how many matches are being put out during this turn, so that we don[=0x0027=]t have to mention each match individually if several go out during the same move][=0x000A=][=0x0009=]repeat with item running through flaming s-matches:[=0x000A=][=0x0009=][=0x0009=]decrement the duration of the item;[=0x000A=][=0x0009=][=0x0009=]if the duration of the item is 0:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is burnt;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]now the item is unlit;[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if the item is visible, increment N;[=0x000A=][=0x0009=]if N is 1:[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=][if the number of visible flaming s-matches is greater than 0]One of the matches [otherwise if the number of burnt visible s-matches is greater than 1]Your last burning match [otherwise]The match [end if]goes out.[=0x0022=];[=0x000A=][=0x0009=]otherwise if N is greater than 1:[=0x000A=][=0x0009=][=0x0009=]let enumeration be [=0x0022=][N in words][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]if N is the number of visible s-matches:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]if N is two, say [=0x0022=]Both[=0x0022=];[=0x000A=][=0x0009=][=0x0009=][=0x0009=]otherwise say [=0x0022=]All [enumeration][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]otherwise:[=0x000A=][=0x0009=][=0x0009=][=0x0009=]say [=0x0022=][enumeration in title case][=0x0022=];[=0x000A=][=0x0009=][=0x0009=]say [=0x0022=] matches go out[if a visible strikable-match is flaming], leaving [number of visible flaming s-matches in words] still lit[end if].[=0x0022=][=0x000A=][=0x000A=]Section 4 - Scenario[=0x000A=][=0x000A=]Old Chicago is a room.[=0x000A=][=0x000A=]The player carries a flammable thing called a log. Understand [=0x0022=]wooden[=0x0022=] and [=0x0022=]wood[=0x0022=] as the log.[=0x000A=][=0x000A=]The player carries two s-matches. The matchbox is an open openable container. It contains five s-matches. The player carries the matchbox.[=0x000A=][=0x000A=]When play begins:[=0x000A=][=0x0009=]now every strikable-match carried by the player is flaming;[=0x000A=][=0x0009=]now every strikable-match carried by the player is lit.[=0x000A=][=0x000A=]Test me with [=0x0022=]i / burn match / i / i / burn log with match / burn matchbox with match / i[=0x0022=].[=0x000A=]\n')"><img alt="paste.png" src="Documentation/Images/paste.png" /></a>  &quot;The Cow Exonerated&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24383" -->
<a id="c24383"></a><blockquote class="code"><p class="quoted">
Section 1 - Simple Burning
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24384" -->
<a id="c24384"></a><blockquote class="code"><p class="quoted">
Understand the commands &quot;light&quot; and &quot;burn&quot; as something new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24385" -->
<a id="c24385"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [something] with [strikable-match]&quot; as burning it with. Understand &quot;burn [something] with [something preferably held]&quot; as burning it with. Burning it with is an action applying to one thing and one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24386" -->
<a id="c24386"></a><blockquote class="code"><p class="quoted">
Understand the command &quot;light&quot; as &quot;burn&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24387" -->
<a id="c24387"></a><blockquote class="code"><p class="quoted">
A thing can be flammable or impervious. A thing is usually impervious.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24388" -->
<a id="c24388"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only with flaming matches rule):
<br />&#160;&#160;&#160;&#160;if the second noun is not a strikable-match, say &quot;You can only light things with matches.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the second noun is not flaming, say &quot;[The second noun] needs to be burning first.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24389" -->
<a id="c24389"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only flammable things rule):
<br />&#160;&#160;&#160;&#160;if the noun is impervious, say &quot;[The noun] cannot be burned.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24390" -->
<a id="c24390"></a><blockquote class="code"><p class="quoted">
Check burning something with something (this is the burn only things not held rule):
<br />&#160;&#160;&#160;&#160;say &quot;[one of]It occurs to you to set down [the noun] before burning, just for safety's sake. [or]Again, you decide to put down [the noun] prior to burning. [or]You try setting down [the noun] as usual. [stopping][run paragraph on]&quot;;
<br />&#160;&#160;&#160;&#160;silently try the player dropping the noun;
<br />&#160;&#160;&#160;&#160;if the player encloses the noun, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24391" -->
<a id="c24391"></a><blockquote class="code"><p class="quoted">
Carry out burning something with something (this is the simplistic burning rule):
<br />&#160;&#160;&#160;&#160;now the noun is nowhere.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24392" -->
<a id="c24392"></a><blockquote class="code"><p class="quoted">
Report burning something with something:
<br />&#160;&#160;&#160;&#160;say &quot;You burn up [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24393" -->
<a id="c24393"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking the second noun while burning something with something which is not a strikable-match:
<br />&#160;&#160;&#160;&#160;say &quot;You can only light things with matches.&quot;;
<br />&#160;&#160;&#160;&#160;stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24394" -->
<a id="c24394"></a><blockquote class="code"><p class="quoted">
Section 2 - Matches
</p></blockquote>
<!-- END CODE -->
<p>The word &quot;matches&quot; is used by Inform to compare snippets of text (see &quot;Reading a command&quot; in the Activities chapter). This can sometimes cause awkwardness if we also have a kind called &quot;match&quot;, so for the occasion we will give our matches a more specialized name, never visible to the player:</p>
<!-- START CODE "c24395" -->
<a id="c24395"></a><blockquote class="code"><p class="quoted">
A strikable-match is a kind of thing. The plural of strikable-match is s-matches.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24396" -->
<a id="c24396"></a><blockquote class="code"><p class="quoted">
A strikable-match has a number called duration. The duration of a strikable-match is usually 3.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24397" -->
<a id="c24397"></a><blockquote class="code"><p class="quoted">
Rule for printing the name of a strikable-match: say &quot;match&quot;.
<br />Rule for printing the plural name of a strikable-match: say &quot;matches&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24398" -->
<a id="c24398"></a><blockquote class="code"><p class="quoted">
Understand &quot;match&quot; as a strikable-match. Understand &quot;matches&quot; as a strikable-match.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24399" -->
<a id="c24399"></a><blockquote class="code"><p class="quoted">
Flame-state is a kind of value. The flame-states are burnt, flaming, and new. Understand &quot;burning&quot; or &quot;lit&quot; as flaming. Understand &quot;unused&quot; as new.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24400" -->
<a id="c24400"></a><blockquote class="code"><p class="quoted">
A strikable-match has a flame-state. A strikable-match is usually new. Understand the flame-state property as describing a strikable-match.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24401" -->
<a id="c24401"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while asking which do you mean:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24402" -->
<a id="c24402"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
<br />Before printing the plural name of a strikable-match while taking inventory:
<br />&#160;&#160;&#160;&#160;say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24403" -->
<a id="c24403"></a><blockquote class="code"><p class="quoted">
Before printing the name of a strikable-match while clarifying the parser's choice of something:
<br />&#160;&#160;&#160;&#160;if not taking inventory, say &quot;[flame-state] &quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24404" -->
<a id="c24404"></a><blockquote class="code"><p class="quoted">
After printing the name of a strikable-match (called special-target) while clarifying the parser's choice of something:
<br />&#160;&#160;&#160;&#160;if the player carries the special-target:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; you're carrying&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if the special-target is in the location:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; on the ground&quot;;
<br />&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; [if the holder of the special-target is a container]in[otherwise]on[end if] [the holder of the special-target]&quot;.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24405" -->
<a id="c24405"></a><blockquote class="code"><p class="quoted">
Understand &quot;strike [something]&quot; as attacking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24406" -->
<a id="c24406"></a><blockquote class="code"><p class="quoted">
Understand &quot;strike [strikable-match]&quot; as striking. Striking is an action applying to one carried thing.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24407" -->
<a id="c24407"></a><blockquote class="code"><p class="quoted">
Understand &quot;burn [strikable-match]&quot; as striking.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24408" -->
<a id="c24408"></a><blockquote class="code"><p class="quoted">
Does the player mean striking a new strikable-match:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24409" -->
<a id="c24409"></a><blockquote class="code"><p class="quoted">
Does the player mean striking a burnt strikable-match:
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24410" -->
<a id="c24410"></a><blockquote class="code"><p class="quoted">
Check striking a strikable-match (this is the strike only new matches rule):
<br />&#160;&#160;&#160;&#160;if the noun is burnt, say &quot;[The noun] has already burnt down and cannot be relit.&quot; instead;
<br />&#160;&#160;&#160;&#160;if the noun is flaming, say &quot;[The noun] is already burning.&quot; instead.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24411" -->
<a id="c24411"></a><blockquote class="code"><p class="quoted">
Carry out striking a strikable-match (this is the standard striking rule):
<br />&#160;&#160;&#160;&#160;now the noun is flaming;
<br />&#160;&#160;&#160;&#160;now the noun is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24412" -->
<a id="c24412"></a><blockquote class="code"><p class="quoted">
Report striking a strikable-match (this is the standard report striking rule):
<br />&#160;&#160;&#160;&#160;say &quot;You light [the noun].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24413" -->
<a id="c24413"></a><blockquote class="code"><p class="quoted">
Before burning something with a new strikable-match (this is the prior lighting rule):
<br />&#160;&#160;&#160;&#160;say &quot;(first [if the player does not carry the second noun]taking and [end if]lighting [the second noun])[command clarification break]&quot;;
<br />&#160;&#160;&#160;&#160;silently try striking the second noun;
<br />&#160;&#160;&#160;&#160;if the second noun is not flaming, stop the action.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24414" -->
<a id="c24414"></a><blockquote class="code"><p class="quoted">
Rule for implicitly taking a strikable-match (called target) while striking:
<br />&#160;&#160;&#160;&#160;try silently taking the target.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24415" -->
<a id="c24415"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a flaming strikable-match:
<br />&#160;&#160;&#160;&#160;it is very likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24416" -->
<a id="c24416"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a new strikable-match:
<br />&#160;&#160;&#160;&#160;it is likely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24417" -->
<a id="c24417"></a><blockquote class="code"><p class="quoted">
Does the player mean burning something with a burnt strikable-match:
<br />&#160;&#160;&#160;&#160;it is unlikely.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24418" -->
<a id="c24418"></a><blockquote class="code"><p class="quoted">
Instead of burning a burnt strikable-match with something:
<br />&#160;&#160;&#160;&#160;say &quot;[The noun] is completely consumed and cannot be relit.&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24419" -->
<a id="c24419"></a><blockquote class="code"><p class="quoted">
Section 3 - Putting the Matches Out
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24420" -->
<a id="c24420"></a><blockquote class="code"><p class="quoted">
Every turn:
<br />&#160;&#160;&#160;&#160;let N be 0; [here we track how many matches are being put out during this turn, so that we don't have to mention each match individually if several go out during the same move]
<br />&#160;&#160;&#160;&#160;repeat with item running through flaming s-matches:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;decrement the duration of the item;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the duration of the item is 0:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is burnt;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;now the item is unlit;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if the item is visible, increment N;
<br />&#160;&#160;&#160;&#160;if N is 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[if the number of visible flaming s-matches is greater than 0]One of the matches [otherwise if the number of burnt visible s-matches is greater than 1]Your last burning match [otherwise]The match [end if]goes out.&quot;;
<br />&#160;&#160;&#160;&#160;otherwise if N is greater than 1:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;let enumeration be &quot;[N in words]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is the number of visible s-matches:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if N is two, say &quot;Both&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise say &quot;All [enumeration]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;otherwise:
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot;[enumeration in title case]&quot;;
<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;say &quot; matches go out[if a visible strikable-match is flaming], leaving [number of visible flaming s-matches in words] still lit[end if].&quot;
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24421" -->
<a id="c24421"></a><blockquote class="code"><p class="quoted">
Section 4 - Scenario
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24422" -->
<a id="c24422"></a><blockquote class="code"><p class="quoted">
Old Chicago is a room.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24423" -->
<a id="c24423"></a><blockquote class="code"><p class="quoted">
The player carries a flammable thing called a log. Understand &quot;wooden&quot; and &quot;wood&quot; as the log.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24424" -->
<a id="c24424"></a><blockquote class="code"><p class="quoted">
The player carries two s-matches. The matchbox is an open openable container. It contains five s-matches. The player carries the matchbox.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24425" -->
<a id="c24425"></a><blockquote class="code"><p class="quoted">
When play begins:
<br />&#160;&#160;&#160;&#160;now every strikable-match carried by the player is flaming;
<br />&#160;&#160;&#160;&#160;now every strikable-match carried by the player is lit.
</p></blockquote>
<!-- END CODE -->
<!-- START CODE "c24426" -->
<a id="c24426"></a><blockquote class="code"><p class="quoted">
Test me with &quot;i / burn match / i / i / burn log with match / burn matchbox with match / i&quot;.
</p></blockquote>
<!-- END CODE -->
</div>
<!-- EXAMPLE END -->
<div class="egovalforxref overstruckimage">
<a  href="ex15.html#e15"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<a id="e432"></a><table class="egcue"><tr><td class="egcellforoval"><div class="egovalfornumber overstruckimage">
<a href="Rex432.html#e432" class="eglink"><b>401</b></a></div>
</td><td class="egnamecell"><p class="egcuetext"><a href="Rex432.html#e432" class="eglink"><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><img class="asterisk" alt="*" src="Documentation/Images/asterisk.png" /><b><span class="egbanner">Example</span><span class="egname">In Fire or in Flood</span></b></a><br />A BURN command; flammable objects which light other items in their vicinity and can burn for different periods of time; the possibility of having parts or contents of a flaming item which survive being burnt.</p></td><td class="egcrossref"><!-- START IGNORE -->
<div class="egovalforxref overstruckimage">
<a  href="ex432.html#e432"><i>WI</i></a></div>
<!-- END IGNORE -->
</td></tr></table>
<hr />
</div>
<!-- START IGNORE -->
<!-- END IGNORE -->
</body>
</html>
